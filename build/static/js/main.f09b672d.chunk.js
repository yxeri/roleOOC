(this.webpackJsonproleterminal=this.webpackJsonproleterminal||[]).push([[0],Array(25).concat([function(e,t,n){},,,,,,,,,function(e,t,n){e.exports=n(98)},,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),c=n(1),i=n(30),l=n(4);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=r.a.createElement("circle",{cx:12,cy:12,r:10}),m=r.a.createElement("polyline",{points:"12 6 12 12 16 14"}),f=function(e){var t=e.svgRef,n=e.title,a=s(e,["svgRef","title"]);return r.a.createElement("svg",u({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-clock",ref:t},a),n?r.a.createElement("title",null,n):null,d,m)},p=r.a.forwardRef((function(e,t){return r.a.createElement(f,u({svgRef:t},e))})),h=(n.p,n(11)),v=(n(44),r.a.forwardRef((function(e,t){var n=e.onClick,a=e.children,o=e.disabled,c=e.stopPropagation,i=e.className,l=void 0===i?"":i,u=e.type,s=void 0===u?"button":u;return r.a.createElement("button",{ref:t,className:"Button ".concat(l),disabled:o,type:s,onClick:function(e){n(e),c&&e.stopPropagation()}},a)}))),g=r.a.memo(v);v.propTypes={onClick:h.func.isRequired,children:h.node.isRequired,type:Object(h.oneOf)(["button","submit"]),disabled:h.bool,className:h.string,stopPropagation:h.bool},v.defaultProps={type:"button",disabled:void 0,className:"",stopPropagation:void 0};var y=function(e){return e>9?"".concat(e):"0".concat(e)},E=function(e){var t=e.date,n=e.offset,a=e.lockDate,r=e.yearModification,o=e.dayModification,c=new Date(t),i={};return n&&c.setHours(c.getHours()+n),a||!r&&!o||(r&&!Number.isNaN(r)&&c.setFullYear(c.getFullYear()+parseInt(r,10)),o&&!Number.isNaN(o)&&c.setDate(c.getDate()+parseInt(o,10))),i.mins=y(c.getMinutes()),i.hours=y(c.getHours()),i.seconds=y(c.getSeconds()),i.month=y(c.getMonth()+1),i.day=y(c.getDate()),i.year=c.getFullYear(),i.halfTime="".concat(i.hours,":").concat(i.mins),i.fullTime="".concat(i.halfTime,":").concat(i.seconds),i.halfDate="".concat(i.day,"/").concat(i.month),i.fullDate="".concat(i.halfDate,"/").concat(i.year),i.fullStamp="".concat(i.halfTime," ").concat(i.fullDate),i},b=(n(45),r.a.memo((function(){var e=Object(a.useRef)(),t=Object(a.useState)(new Date),n=Object(l.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(!1),u=Object(l.a)(i,2),s=u[0],d=u[1],m=E({date:o});Object(a.useEffect)((function(){return function t(){e.current=setTimeout((function(){c(new Date),t()}),1e3)}(),function(){return clearTimeout(e.current)}}),[]);var f=Object(a.useCallback)((function(){return d(!s)}),[s]);return r.a.createElement("div",{key:"clock",className:"Clock"},r.a.createElement(g,{className:"icon ".concat(s?"active":""),onClick:f},r.a.createElement(p,null)),r.a.createElement(g,{onClick:f,className:"time ".concat(s?"":"hide")},m.fullTime))})));function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var j=r.a.createElement("circle",{cx:12,cy:12,r:10}),I=r.a.createElement("polyline",{points:"16 12 12 8 8 12"}),k=r.a.createElement("line",{x1:12,y1:16,x2:12,y2:8}),x=function(e){var t=e.svgRef,n=e.title,a=w(e,["svgRef","title"]);return r.a.createElement("svg",O({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-up-circle",ref:t},a),n?r.a.createElement("title",null,n):null,j,I,k)},C=r.a.forwardRef((function(e,t){return r.a.createElement(x,O({svgRef:t},e))}));n.p;function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var S=r.a.createElement("circle",{cx:12,cy:12,r:10}),R=r.a.createElement("polyline",{points:"8 12 12 16 16 12"}),A=r.a.createElement("line",{x1:12,y1:8,x2:12,y2:16}),T=function(e){var t=e.svgRef,n=e.title,a=L(e,["svgRef","title"]);return r.a.createElement("svg",N({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-down-circle",ref:t},a),n?r.a.createElement("title",null,n):null,S,R,A)},P=r.a.forwardRef((function(e,t){return r.a.createElement(T,N({svgRef:t},e))})),M=(n.p,n(46),r.a.forwardRef((function(e,t){var n=e.children,o=e.title,c=e.observe,i=e.startRevealed,u=void 0!==i&&i,s=e.alwaysExpanded,d=void 0!==s&&s,m=e.checkWidth,f=void 0!==m&&m,p=e.dropdown,h=void 0!==p&&p,v=e.className,y=void 0===v?"":v,E=Object(a.useRef)(),b=Object(a.useRef)(),O=Object(a.useRef)(null),w=Object(a.useRef)(null),j=Object(a.useState)(!u&&!d&&"undefined"!==typeof o),I=Object(l.a)(j,2),k=I[0],x=I[1],N=[],L=["List"].concat([y]),S=Object(a.useCallback)((function(e){h&&!k&&O.current&&(!f||!w.current||w.current.offsetWidth<600)&&("INPUT"===e.target.tagName||O.current.parentElement.contains(e.target)&&(e.target===O.current||e.currentTarget!==O.current)||x(!0))}),[k]),R=function(e){var t=e.direction;"bottom"===t&&O.current.lastElementChild?O.current.lastElementChild.scrollIntoView({behavior:"smooth",block:"end"}):"top"===t&&O.current.firstElementChild&&O.current.firstElementChild.scrollIntoView({behavior:"smooth",block:"start"})};return Object(a.useEffect)((function(){if(!k&&h&&O.current){var e=O.current.getBoundingClientRect();e.right>window.innerWidth?O.current.classList.add("right"):O.current.classList.remove("right"),e.bottom>window.innerHeight?O.current.classList.add("bottom"):O.current.classList.remove("bottom")}}),[k]),Object(a.useEffect)((function(){return O.current&&c&&(E.current=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?b.current.classList.add("hide"):b.current.classList.remove("hide")}))}),{root:O.current,rootMargin:"50px",threshold:1}),"upper"===c&&O.current.firstElementChild&&E.current.observe(O.current.firstElementChild),"lower"===c&&O.current.lastElementChild&&E.current.observe(O.current.lastElementChild)),function(){E.current&&E.current.disconnect()}}),[]),Object(a.useEffect)((function(){E.current&&(E.current.disconnect(),"upper"===c&&O.current.firstElementChild&&E.current.observe(O.current.firstElementChild),"lower"===c&&O.current.lastElementChild&&E.current.observe(O.current.lastElementChild))}),[n]),Object(a.useEffect)((function(){return h&&(k?document.removeEventListener("mousedown",S):document.addEventListener("mousedown",S)),function(){return document.removeEventListener("mousedown",S)}}),[k]),k?N.push("hide"):L.push("expanded"),h&&N.push("dropdown"),r.a.createElement("div",{key:"List",className:L.join(" ")},o&&r.a.createElement("header",{role:"button",tabIndex:0,key:"listHeader",className:"toggle ".concat(d?"":"clickable"),onClick:function(){d||x(!k)}},o),c&&"upper"===c&&r.a.createElement(g,{key:"upper",className:"upper hide",ref:b,onClick:function(){return R({direction:"top"})}},r.a.createElement(C,null)),r.a.createElement("ul",{ref:function(e){O.current=e,t&&(t.current=e),e&&(w.current=e.closest(".Window"))},key:"listElem",className:"".concat(N.join(" ")),onClick:function(e){h&&(S(e),e.stopPropagation())}},n),c&&"lower"===c&&r.a.createElement(g,{key:"lower",className:"lower hide",ref:b,onClick:function(){return R({direction:"bottom"})}},r.a.createElement(P,null)))}))),D=r.a.memo(M);M.defaultProps={className:"",children:void 0,title:void 0,dropdown:!1,checkWidth:!1,alwaysExpanded:!1,observe:void 0,startRevealed:void 0};var F={ANONYMOUS:0,STANDARD:1,PRIVILEGED:2,MODERATOR:3,ADMIN:4,SUPERUSER:5,GOD:6},W=function(e){var t=e.objectToAccess,n=e.toAuth,a=e.adminLevel,r=void 0===a?F.ADMIN:a;if(!t||!n)return{canSee:!1,hasFullAccess:!1,hasAccess:!1};var o=t.ownerId,c=t.ownerAliasId,i=t.teamId,l=t.isPublic,u=t.visibility,s=t.teamIds,d=void 0===s?[]:s,m=t.userIds,f=void 0===m?[]:m,p=t.userAdminIds,h=void 0===p?[]:p,v=t.teamAdminIds,g=void 0===v?[]:v,y=n.hasFullAccess,E=n.partOfTeams,b=void 0===E?[]:E,O=n.accessLevel,w=void 0===O?F.ANONYMOUS:O,j=n.objectId,I=n.teamIds,k=void 0===I?[]:I,x=n.aliases,C=void 0===x?[]:x,N=c&&C.includes(c),L=i&&b.includes(i),S=f.concat([o]).includes(j),R=L||d.find((function(e){return k.includes(e)})),A=N||C.find((function(e){return f.includes(e)})),T=h.includes(j),P=N||C.find((function(e){return h.includes(e)})),M=L||g.find((function(e){return k.includes(e)})),D=o===j||y||w>=r;return{canSee:D||l||S||R||A||w>=u,hasAccess:D||l||S||R||A,hasFullAccess:D||T||M||P,adminAccess:!l&&!S&&!R&&!A&&D}},G=n(2),B=n.n(G),H=n(7),V=n(13),U=n(28),z="aliases",Y="devices",q="docFiles",J="forums",K="forumPosts",X="forumThreads",Z="gameCodes",Q="invitations",$="messages",_="rooms",ee="simpleMsgs",te="teams",ne="transactions",ae="users",re="wallets",oe=n(3),ce=n(6),ie="update",le="create",ue="remove",se=function(e,t){var n=new Map(Object(ce.a)(e)),a=t.type,r=t.payload,o=r.changeType,c=r[a];switch(o){case le:return n.set(c.objectId,c),n;case ie:var i=n.get(c.objectId)||{},l=Object(oe.a)(Object(oe.a)({},i),c);return i===l?e:(n.set(c.objectId,l),n);case ue:return n.has(c.objectId)?(n.delete(c.objectId),n):e;default:return e}},de=function(e,t){var n=t.type,a=t.payload,r=a.reset,o=a.changeType,c=r?new Map:new Map(Object(ce.a)(e)),i=a[n];switch(o){case le:return i.forEach((function(e){return c.set(e.objectId,e)})),c;case ie:return i.forEach((function(e){var t=c.get(e.objectId)||{},n=Object(oe.a)(Object(oe.a)({},t),e);t!==n&&c.set(e.objectId,n)})),c;case ue:return i.forEach((function(e){return c.delete(e.objectId)})),c;default:return e}};var me="chat",fe="whisper",pe="news";var he="online",ve="offline",ge="reconnecting";var ye=new Map;ye.set("broadcastId","111111111111111111111116"),ye.set("publicRoomId","111111111111111111111110"),ye.set("newsRoomId","111111111111111111111114"),ye.set("defaultForum","111111111111111111111120"),ye.set("defaultLanguage","en"),ye.set("centerCoordinates",{longitude:0,latitude:0}),ye.set("cornerOneCoordinates",{longitude:0,latitude:0}),ye.set("cornerTwoCoordinates",{longitude:0,latitude:0}),ye.set("defaultZoomLevel",15),ye.set("yearModification",0),ye.set("dayModification",0),ye.set("requireOffName",!1),ye.set("activateTermination",!1),ye.set("allowedImages",{CHAT:!1,PROFILE:!1,DOCFILE:!1}),ye.set("newsCost",0),ye.set("onlySeen",!1),ye.set("allowPartialSearch",!0),ye.set("disallowProfileEdit",!1),ye.set("gpsTracking",!1),ye.set("permissions",{CreateAlias:{name:"CreateAlias",accessLevel:F.STANDARD},CreateUser:{name:"CreateUser",accessLevel:F.ANONYMOUS}}),ye.set("anonymousUser",{accessLevel:F.ANONYMOUS,followingRooms:["111111111111111111111110"],objectId:"-1",isAnonymous:!0,systemConfig:{},aliases:[],hasSeen:[],partOfTeams:[]}),ye.set("systemUser",{objectId:"222222222222222222222220",username:"SYSTEM"});var Ee={WALLET:"Wallet",CHAT:"Chat",WORLDMAP:"Map",DOCFILEDIR:"Files directory",DOCFILEVIEW:"File",NEWS:"News",TEAMS:"Teams",DIALOGIDENTITY:"User",DIALOGCREATEROOM:"New room",DIALOGREMOVEROOM:"Remove room",DIALOGREGISTER:"Register",DIALOGLOGIN:"Login",DIALOGCREATEALIAS:"New alias",DIALOGCREATETRANSACTION:"Transfer",DIALOGCREATEDOCFILE:"New file",DIALOGCREATENEWS:"New article",DIALOGJOINROOM:"Join room",DIALOGCONFIGSYSTEM:"Config system",DIALOGSETTINGSNEWS:"News settings",DIALOGPROFILE:"Profile",DIALOGUNLOCKFILE:"Unlock file"},be=new Map;var Oe="help",we={mode:"default",target:""};var je={hideMenu:!1};var Ie=Object(V.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"user"===t.type?se(e,t):t.type===ae?de(e,t):e},aliases:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"alias"===t.type?se(e,t):t.type===z?de(e,t):e},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"message"===t.type?se(e,t):t.type===$?de(e,t):e},online:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;if("online"===t.type){var n=t.payload,a=n.online;return a}return e},rooms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"room"===t.type?se(e,t):t.type===_?de(e,t):e},userId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-1",t=arguments.length>1?arguments[1]:void 0;if("userId"===t.type){var n=t.payload,a=n.reset,r=n.userId;return a?"-1":r}return e},positions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"position"===t.type?se(e,t):"positions"===t.type?de(e,t):e},transactions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"transaction"===t.type?se(e,t):t.type===ne?de(e,t):e},wallets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"wallet"===t.type?se(e,t):t.type===re?de(e,t):e},config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;if("config"===t.type){var n=t.payload,a=n.entries,r=new Map(Object(ce.a)(e));return a.forEach((function(e){return r.set(e[0],e[1])})),r}return e},aliasId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if("aliasId"===t.type){var n=t.payload,a=n.reset,r=n.aliasId;return a?null:r}return e},windowOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;if("windowOrder"===t.type){var n=t.payload,a=n.id,r=n.value,o=n.changeType,c=new Map(Object(ce.a)(e));if(o===ie){if(c.size>0&&c.get(a)&&c.get(a).index===c.size){var i=c.get(a);if(Object.keys(r).length===Object.keys(i).length-1&&Object.keys(r).every((function(e){return i[e]===r[e]})))return e}var u=Object(oe.a)({},r);if(c.get(a)){var s=Object(ce.a)(c.entries()).sort((function(e,t){var n=e[1].index,a=t[1].index;return n>a?1:n<a?-1:0})),d=s.splice(s.findIndex((function(e){return Object(l.a)(e,1)[0]===a})),1),m=Object(l.a)(d,1),f=m[0];f[1]=Object(oe.a)({},u),s.push(f),s.forEach((function(e,t){var n=Object(l.a)(e,2),a=n[0],r=n[1],o=Object(oe.a)(Object(oe.a)({},r),{},{index:t+1});c.set(a,o)}))}else u.index=c.size+1,c.set(a,u);return c}return o===ue?(c.delete(a),c):e}if("windowOrders"===t.type){var p=t.payload,h=p.windows,v=p.reset,g=new Map(Object(ce.a)(e));return v?be:(h.forEach((function(e){var t=e.id,n=e.value,a=Object(oe.a)(Object(oe.a)({},n),{},{index:g.size+1});g.set(t,a)})),g)}return e},teams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"team"===t.type?se(e,t):t.type===te?de(e,t):e},docFiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"docFile"===t.type?se(e,t):t.type===q?de(e,t):e},mode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;if("mode"===t.type){var n=t.payload,a=n.mode,r=n.target,o=Object(oe.a)({},e);return!a&&r&&e.target===r?e:(r&&a!==e.mode?o.target=r:o.target=we.target,a===e.mode?o.mode=we.mode:a&&(o.mode=a),o)}return e},interfaceConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;if("interfaceConfiog"===t.type){var n=t.payload,a=n.hideMenu,r=n.toggleHideMenu,o=Object(oe.a)({},e);return Object.keys(n).every((function(t){return n[t]===e[t]}))?e:(r?o.hideMenu=!e.hideMenu:"boolean"===typeof a&&(o.hideMenu=a),o)}return e},devices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"device"===t.type?se(e,t):t.type===Y?de(e,t):e}}),ke=Object(V.d)(Ie,Object(V.a)(U.a)),xe="deviceId",Ce="token",Ne="userId",Le="aliasId",Se=function(e,t){"string"===typeof t?localStorage.setItem(e,t):localStorage.setItem(e,function(e){return JSON.stringify(e)}(t))},Re=function(e){return localStorage.getItem(e)},Ae=function(e){return localStorage.removeItem(e)},Te=function(){return Ae(Le)},Pe=function(){Ae(Ce),Ae(Ne),Te()},Me=function(){return Re(xe)},De=function(){return Re(Ce)},Fe=function(e){return e.mode},We=function(e){return{type:"mode",payload:{mode:e.mode,target:e.target}}},Ge=function(e){return{type:"mode",payload:{target:e.target}}},Be=function(e){var t=e.windows;if(1===t.length){var n=Object(l.a)(t,1)[0],a=n.value,r=n.id;return function(e){Object(c.b)((function(){Fe(ke.getState()).mode===Oe&&e(Ge({target:r})),e({type:"windowOrder",payload:{id:r,value:a,changeType:ie}})}))}}return{type:"windowOrders",payload:{windows:t,changeType:ie}}},He=function(e){return{type:"windowOrder",payload:{id:e.id,changeType:ue}}},Ve=n(9),Ue=function(e){return e.online===he},ze=function(){return{type:"online",payload:{online:he}}},Ye=function(e){return e.aliasId},qe=function(e){return e.userId},Je=function(e){return Ye(e)||qe(e)},Ke=function(e){var t=e.wallets;return 1===t.length?{type:"wallet",payload:{wallet:t[0],changeType:ie}}:{type:re,payload:{wallets:t,changeType:ie}}},Xe=function(e){var t=e.wallets;return 1===t.length?{type:"wallet",payload:{wallet:t[0],changeType:le}}:{type:re,payload:{wallets:t,changeType:le}}},Ze=function(e){var t=e.transactions;return 1===t.length?{type:"transaction",payload:{transaction:t[0],changeType:le}}:{type:ne,payload:{transactions:t,changeType:le}}},Qe=function(e){var t=e.transaction,n=e.wallet;return function(e){Object(c.b)((function(){e(Ze({transactions:[t]})),e(Ke({wallets:[n]}))}))}},$e=function(e){var t=e.messages;return 1===t.length?{type:"message",payload:{changeType:le,message:t[0]}}:{type:$,payload:{messages:t,changeType:le}}},_e=function(e){var t=e.message,n=e.transaction,a=e.wallet;return function(){var e=Object(H.a)(B.a.mark((function e(r){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(c.b)((function(){r($e({messages:[t]})),r(Ze({transactions:[n]})),r(Ke({wallets:[a]}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},et=n(10),tt=n(8),nt=n.n(tt),at=function(e){return e.aliases},rt=function(e,t){var n=t.id;return e.aliases.get(n)},ot=function(e){return e.config.get("requireOffName")},ct=function(e){return e.config.get("publicRoomId")},it=function(e){return e.config.get("allowedImages")},lt=function(e){return e.config.get("gpsTracking")},ut=function(e){return e.config.get("permissions")},st=function(e){return e.config.get("newsRoomId")},dt=function(e){return e.config.get("newsCost")},mt=function(e){return e.config.get("onlySeen")},ft=function(e){return e.config.get("allowPartialSearch")},pt=function(e){return e.config.get("yearModification")},ht=function(e){return e.config.get("dayModification")},vt=function(e){return e.config.get("disallowProfileEdit")},gt=function(e){return e.teams},yt=function(e,t){var n=t.id;return e.teams.get(n)},Et=(nt()([gt],(function(e){return Object(ce.a)(e.values()).map((function(e){return{objectId:e.objectId,teamName:e.teamName,shortName:e.shortName}}))}))((function(){return"team-ids"})),nt()([gt,function(e,t){return t.ids}],(function(e,t){var n=new Map;return t.forEach((function(t){return n.set(t,e.get(t))})),n}))((function(e,t){var n=t.ids;return"teams-".concat(n.join(n))}))),bt=function(e){return e.users},Ot=function(e,t){var n=t.id;return e.users.get(n)},wt=nt()([function(e){return Ot(e,{id:qe(e)})},function(e){return e.config.get("anonymousUser")}],(function(e,t){return e||t}))((function(){return"current-user"})),jt=nt()([wt],(function(e){return e.isAnonymous}))((function(){return"is-anonymous"})),It=nt()([wt],(function(e){return e.followingRooms}))({keySelector:function(){return"current-user-rooms"},selectorCreator:Object(et.createSelectorCreator)(et.defaultMemoize,(function(e,t){return e.followingRooms.length===t.followingRooms.length&&e.followingRooms.every((function(e){return t.followingRooms.includes(e)}))}))}),kt=Object(et.createSelector)([wt],(function(e){return e.accessLevel})),xt=nt()([wt],(function(e){return e.hasSeen||[]}))({keySelector:function(){return"current-user-hasSeen"},selectorCreator:Object(et.createSelectorCreator)(et.defaultMemoize,(function(e,t){return e.hasSeen&&t.hasSeen&&e.hasSeen.length===t.hasSeen.length&&e.hasSeen.every((function(e){return t.hasSeen.includes(e)}))}))}),Ct=nt()([wt],(function(e){return e.partOfTeams}))({keySelector:function(){return"current-user-partOfTeams"},selectorCreator:Object(et.createSelectorCreator)(et.defaultMemoize,(function(e,t){return e.partOfTeams.length===t.partOfTeams.length&&t.partOfTeams.every((function(t){return e.partOfTeams.includes(t)}))}))}),Nt=nt()([wt,function(){return Me()}],(function(e,t){return e.systemConfig?e.systemConfig[t]||e.systemConfig:{}}))((function(){return"current-system-config"})),Lt=nt()([Nt],(function(e){return e.hideTopBar}))((function(){return"current-hideTopBar"})),St=nt()([Nt],(function(e){return e.alwaysMaximized}))((function(){return"current-alwaysMaximized"})),Rt=nt()([bt,at],(function(e,t){return new Map([].concat(Object(ce.a)(e.entries()),Object(ce.a)(t.entries())))}))((function(){return"identities"})),At=nt()([bt,at,function(e,t){return t.ids}],(function(e,t,n){var a=new Map;return n.forEach((function(n){return a.set(n,e.get(n)||t.get(n))})),a}))((function(e,t){var n=t.ids;return"identities-".concat(n.join(" "))})),Tt=nt()([bt,at,gt,function(e,t){return t.ids}],(function(e,t,n,a){var r=new Map;return a.forEach((function(a){return r.set(a,n.get(a)||e.get(a)||t.get(a))})),r}))((function(e,t){var n=t.ids;return"identities-teams-".concat(n.join(" "))})),Pt=nt()([Ot,rt],(function(e,t){return t||e}))((function(e,t){var n=t.id;return"identity-".concat(n)})),Mt=nt()([Pt],(function(e){return e.image}))((function(e,t){var n=t.id;return"identity-".concat(n,"-image")})),Dt=nt()([Pt,yt,function(e,t){var n=t.id,a=function(e){return e.config.get("systemUser")}(e);return a.objectId===n?a.username:void 0}],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.aliasName,n=e.username,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.teamName,o=arguments.length>2?arguments[2]:void 0;return{type:t||n?"identity":r?"team":o?"system":"fallback",name:t||n||r||o||""}}))((function(e,t){var n=t.id;return"identity-".concat(n,"-name")})),Ft=nt()([Ot,rt,yt],(function(e,t,n){return n||t||e}))((function(e,t){var n=t.id;return"identity-team-".concat(n)})),Wt=nt()([Rt,qe],(function(e,t){return Object(ce.a)(e.values()).filter((function(e){return e.objectId!==t&&e.ownerId!==t&&!e.userIds.includes(t)})).map((function(e){return{objectId:e.objectId,partOfTeams:e.partOfTeams,name:e.aliasName||e.username}}))}))({keySelector:function(){return"other-identity-ids"},selectorCreator:Object(et.createSelectorCreator)(et.defaultMemoize,(function(e,t){return"string"===typeof e&&"string"===typeof t?e===t:e.size===t.size&&Object(ce.a)(t.values()).every((function(t){var n=e.get(t.objectId);return!!n&&((t.aliasName||t.username)===(n.aliasName||n.username)&&(t.partOfTeams.length===n.partOfTeams.length&&t.partOfTeams.every((function(e){return n.partOfTeams.includes(e)}))))}))}))}),Gt=nt()([Rt,qe],(function(e,t){return Object(ce.a)(e.values()).filter((function(e){return e.objectId===t||e.ownerId===t||e.userIds.includes(t)}))}))((function(){return"current-identities"})),Bt=nt()([Gt],(function(e){return e.map((function(e){return{objectId:e.objectId,name:e.aliasName||e.username}}))}))({keySelector:function(){return"current-identities-names"},selectorCreator:Object(et.createSelectorCreator)(et.defaultMemoize,(function(e,t){return e.length===t.length&&t.every((function(t){var n=e.find((function(e){return t.objectId===e.objectId}));return n&&(n.aliasName||n.username)===(t.aliasName||t.username)}))}))}),Ht="chatMsg",Vt="whisper",Ut=function(e){var t=e.forums;return 1===t.length?{type:"forum",payload:{forum:t[0],changeType:le}}:{type:J,payload:{forums:t,changeType:le}}},zt=function(e){var t=e.gameCodes;return 1===t.length?{type:"gameCode",payload:{gameCode:t[0],changeType:le}}:{type:Z,payload:{gameCodes:t,changeType:le}}},Yt=function(e){var t=e.users;return 1===t.length?{type:"user",payload:{user:t[0],changeType:ie}}:{type:ae,payload:{users:t,changeType:ie}}},qt=function(e){var t=e.users;return 1===t.length?{type:"user",payload:{user:t[0],changeType:le}}:{type:ae,payload:{users:t,changeType:le}}},Jt=function(e){var t=e.user,n=e.wallet,a=e.room,r=e.forum,o=e.gameCode;return function(){var e=Object(H.a)(B.a.mark((function e(i){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(c.b)((function(){i(qt({users:[t]})),i(Kt({rooms:[a]})),i(Xe({wallets:[n]})),i(Ut({forums:[r]})),i(zt({gameCodes:[o]}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Kt=function(e){var t=e.rooms;return 1===t.length?{type:"room",payload:{changeType:le,room:t[0]}}:{type:_,payload:{rooms:t,changeType:le}}},Xt=function(e){var t=e.rooms;return 1===t.length?{type:"room",payload:{changeType:ie,room:t[0]}}:{type:_,payload:{rooms:t,changeType:le}}},Zt=function(e){var t=e.rooms;return 1===t.length?{type:"room",payload:{changeType:ue,room:t[0]}}:{type:_,payload:{rooms:t,changeType:ue}}},Qt=function(e){var t=e.room,n=e.user;return function(e){Object(c.b)((function(){e(Xt({rooms:[t]})),e(Yt({users:[n]}))}))}},$t="room",_t="followRoom",en="user",tn=function(e){var t=e.aliasId;return t?(Se(Le,t),{type:"aliasId",payload:{aliasId:t}}):(Te(),{type:"aliasId",payload:{reset:!0}})},nn=function(e){var t=e.aliases;return 1===t.length?{type:"alias",payload:{alias:t[0],changeType:ie}}:{type:z,payload:{aliases:t,changeType:ie}}},an=function(e){var t=e.aliases;return 1===t.length?{type:"alias",payload:{alias:t[0],changeType:le}}:{type:z,payload:{aliases:t,changeType:le}}},rn=function(e){var t=e.alias,n=e.wallet,a=e.room;return function(){var e=Object(H.a)(B.a.mark((function e(r){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(c.b)((function(){r(an({aliases:[t]})),r(Kt({rooms:[a]})),r(Xe({wallets:[n]}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},on="alias",cn="wallet",ln="transaction",un=function(e){var t=e.docFiles;return 1===t.length?{type:"docFile",payload:{docFile:t[0],changeType:ie}}:{type:q,payload:{docFiles:t,changeType:ie}}},sn=function(e){var t=e.docFiles;return 1===t.length?{type:"docFile",payload:{docFile:t[0],changeType:le}}:{type:q,payload:{docFiles:t,changeType:le}}},dn="docFile",mn=function(){var e="undefined"!==typeof ioUri?ioUri:"/";return window.io(e,{forceNew:!0})}(),fn="createAlias",pn="createUser",hn="sendMessage",vn="createRoom",gn="createDocFile",yn="createTransaction",En="followRoom",bn="getMessagesByRoom",On="removeRoom",wn="unlockDocFile",jn="updateUser",In="updateAlias",kn={ALIASES:"getAliases",USERS:"getUsers",MESSAGES:"getMessages",ROOMS:"getRooms",INVITATIONS:"getInvitations",DOCFILES:"getDocFiles",FORUMS:"getForums",FORUMPOSTS:"getForumPosts",FORUMTHREADS:"getForumThreads",GAMECODES:"getGameCodes",SIMPLEMSGS:"getSimpleMsgs",TEAMS:"getTeams",TRANSACTIONS:"getTransactions",WALLETS:"getWallets",DEVICES:"getDevices"},xn="login",Cn="reconnect",Nn="startup",Ln="disconnect",Sn=function(){var e=Object(H.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.event,a=t.callback,mn.on(n,(function(e){console.log(n,e),a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rn=function(){ke.getState().online!==ge&&(mn.disconnect(),mn.connect())},An=function(){var e=Object(H.a)(B.a.mark((function e(t){var n,a=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.abrupt("return",new Promise((function(e,a){var r=n;r.token=De(),Ue(ke.getState())||Rn(),mn.emit(t,r,(function(t){var n=t.error,r=t.data;n?a(n):e(r)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tn=function(){var e=Object(H.a)(B.a.mark((function e(){var t,n,a=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.length>0&&void 0!==a[0]?a[0]:{},n=t.reset,[{type:ae,event:kn.USERS},{type:z,event:kn.ALIASES},{type:te,event:kn.TEAMS},{type:_,event:kn.ROOMS},{type:$,event:kn.MESSAGES},{type:Q,event:kn.INVITATIONS},{type:q,event:kn.DOCFILES},{type:J,event:kn.FORUMS},{type:X,event:kn.FORUMTHREADS},{type:K,event:kn.FORUMPOSTS},{type:Z,event:kn.GAMECODES},{type:ee,event:kn.SIMPLEMSGS},{type:re,event:kn.WALLETS},{type:ne,event:kn.TRANSACTIONS},{type:Y,event:kn.DEVICES}].forEach((function(e){var t=e.event,a=e.type;An(t,{}).then((function(e){console.log(t,e),ke.dispatch({type:a,payload:Object(Ve.a)({reset:n,changeType:le},a,e[a])})})).catch((function(e){console.log(e)}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Sn({event:Cn,callback:function(){qe(ke.getState())?An("updateId",{}).then((function(){ke.dispatch(ze()),Tn()})).catch((function(e){console.log(e),ke.dispatch(Kn(Tn))})):Tn()}}),Sn({event:Nn,callback:function(e){var t,n=e.data,a=Re(Ne),r=De(),o=Re(Le);Me()&&"1234567890123456"!==Me()||(console.log(Me()),An("createDevice",{device:{},firstStartup:!0}).then((function(e){var t,n=e.device;t=n.objectId,Se(xe,t),ke.dispatch(function(e){var t=e.devices;return 1===t.length?{type:"device",payload:{device:t[0],changeType:le}}:{type:Y,payload:{devices:t,changeType:le}}}({devices:[n]}))})).catch((function(e){return console.log("device create",e)}))),ke.dispatch((t=n,function(e){Object(c.b)((function(){e({type:"config",payload:{entries:Object.entries(t)}}),e(ze())}))})),a||r?An("updateId",{}).then((function(){Object(c.b)((function(){o&&ke.dispatch(tn({aliasId:o})),ke.dispatch(Jn({userId:a,token:r,retrieveAll:Tn}))}))})).catch((function(e){console.log(e),ke.dispatch(Kn(Tn))})):Tn({reset:!0})}}),Sn({event:Ln,callback:function(){ke.dispatch({type:"online",payload:{online:ve}}),Rn()}}),Sn({event:Ht,callback:function(e){var t=e.data,n=e.error;if(t&&t.message){var a=t.message;t.changeType===le&&ke.dispatch($e({messages:[a]}))}else console.log(Ht,n,t)}}),Sn({event:Vt,callback:function(e){var t=e.data,n=e.error;if(t&&t.message){var a=t.message,r=t.changeType,o=wt(ke.getState()),c=o.objectId,i=o.hasSeen,l=void 0===i?[]:i,u=o.partOfTeams,s=Pt(ke.getState(),{id:a.ownerAliasId||a.ownerId});return l.includes(a.ownerAliasId||a.ownerId)||u.some((function(e){return s.partOfTeams.includes(e)}))||Mn({userId:c,user:{hasSeen:l.concat([a.ownerAliasId||a.ownerId])}}).catch((function(e){return console.log(e)})),void(r===le&&ke.dispatch($e({messages:[a]})))}console.log(Vt,n,t)}}),Sn({event:$t,callback:function(e){var t=e.error,n=e.data;if(n&&n.room){var a=n.room,r=n.changeType;if(a.isWhisper&&a.spyMode){var o=wt(ke.getState());if(!W({objectToAccess:a,toAuth:o}).adminAccess)return}r===le?ke.dispatch(Kt({rooms:[a]})):r===ie?ke.dispatch(Xt({rooms:[a]})):r===ue&&ke.dispatch(Zt({rooms:[a]}))}else console.log($t,t,n)}}),Sn({event:_t,callback:function(e){var t=e.error,n=e.data;n&&n.room&&n.user?ke.dispatch(function(){var e=Object(H.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(c.b)((function(){t(Xt({rooms:[n.room]})),t(Yt({users:[n.user]}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):console.log(_t,t,n)}}),Sn({event:en,callback:function(e){var t=e.error,n=e.data;if(n&&n.user){var a=n.user,r=n.changeType;r===le?ke.dispatch(qt({users:[a]})):r===ie&&ke.dispatch(Yt({users:[a]}))}else console.log(en,t,n)}}),Sn({event:on,callback:function(e){var t=e.error,n=e.data;if(n&&n.alias){var a=n.alias,r=n.changeType;r===le?ke.dispatch(an({aliases:[a]})):r===ie&&ke.dispatch(nn({aliases:[a]}))}else console.log(on,t,n)}}),Sn({event:cn,callback:function(e){var t=e.error,n=e.data;if(n&&n.wallet){var a=n.wallet,r=n.changeType;r===le?ke.dispatch(Xe({wallets:[a]})):r===ie&&ke.dispatch(Ke({wallets:[a]}))}else console.log(cn,t,n)}}),Sn({event:ln,callback:function(e){var t=e.error,n=e.data;if(n&&n.transaction&&(n.changeType===ie||n.wallet)){var a=n.transaction,r=n.changeType;r===le?ke.dispatch(Qe(n)):r===ie&&ke.dispatch(function(e){var t=e.transactions;return 1===t.length?{type:"transaction",payload:{transaction:t[0],changeType:ie}}:{type:ne,payload:{transactions:t,changeType:ie}}}({transactions:[a]}))}else console.log(ln,t,n)}}),Sn({event:dn,callback:function(e){var t=e.error,n=e.data;if(n&&n.docFile){var a=n.docFile,r=n.changeType;r===le?ke.dispatch(sn({docFiles:[a]})):r===ie&&ke.dispatch(un({docFiles:[a]}))}else console.log(dn,t,n)}});var Pn=function(){var e=Object(H.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t).user.registerDevice=Me(),e.next=4,An(pn,n);case 4:return a=e.sent,e.next=7,ke.dispatch(Jt(a));case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Mn=function(){var e=Object(H.a)(B.a.mark((function e(t){var n,a,r,o,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,a=t.user,r=t.image,o=t.resetImage,e.next=3,An(jn,{userId:n,user:a,image:r,options:{resetImage:o}});case 3:return c=e.sent,console.log(c),e.next=7,ke.dispatch(Yt({users:[c.user]}));case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dn=function(e,t){var n=t.id;return e.docFiles.get(n)},Fn=nt()([function(e){return e.docFiles}],(function(e){return Object(ce.a)(e.values()).map((function(e){return{objectId:e.objectId,title:e.title,ownerAliasId:e.ownerAliasId,ownerId:e.ownerId,isLocked:e.isLocked}}))}))((function(){return"docFile-ids-names"})),Wn="notification",Gn="window",Bn="pushToken",Hn="message",Vn="login",Un="qr",zn="quit",Yn=function(e){var t=e.type,n=e.data;window.ReactNativeWebView&&window.ReactNativeWebView.postMessage&&window.ReactNativeWebView.postMessage(JSON.stringify({type:t,data:n}))},qn=function(e){if(e.data){var t=JSON.parse(e.data),n=t.type,a=t.data;switch(n){case Wn:!function(e){alert(JSON.stringify(e))}(a);break;case Gn:!function(e){var t=e.windowType,n=e.value;ke.dispatch(Be({windows:[{id:t,value:Object(oe.a)(Object(oe.a)({},n),{},{type:t})}]}))}(a);break;case Bn:!function(e){var t=e.token,n=wt(ke.getState());n.isAnonymous||t===n.pushToken||Mn({userId:n.objectId,user:{pushToken:t}}).catch((function(e){return console.log(e)}))}(a);break;case Hn:!function(e){var t=e.message;alert(JSON.stringify(t))}(a);break;case Un:!function(e){try{var t=e.ri,n=e.rp,a=e.mi,r=e.wi,o=e.a,c=e.m,i=e.di,l=e.c,u=e.ti,s=e.ii,d=st(ke.getState());if(t&&a&&t===d)ke.dispatch(Be({windows:[{id:Ee.NEWS,value:{type:Ee.NEWS,messageId:a}}]}));else if(t){It(ke.getState()).includes(t)?ke.dispatch(Be({windows:[{id:Ee.CHAT,value:{type:Ee.CHAT,roomId:t,messageId:a}}]})):ke.dispatch(Be({windows:[{id:"".concat(Ee.DIALOGJOINROOM,"-").concat(t),value:{roomId:t,messageId:a,password:n,type:Ee.DIALOGJOINROOM}}]}))}else if(r)ke.dispatch(Be({windows:[{id:"".concat(Ee.DIALOGCREATETRANSACTION,"-").concat(r),value:{type:Ee.DIALOGCREATETRANSACTION,toWalletId:r,amount:o}}]}));else if(i){Dn(ke.getState(),{id:i}).isLocked?ke.dispatch(Be({windows:[{id:Ee.DIALOGUNLOCKFILE,value:{type:Ee.DIALOGUNLOCKFILE,docFileId:i,code:l}}]})):ke.dispatch(Be({windows:[{id:Ee.DOCFILEVIEW,value:{type:Ee.DOCFILEVIEW,docFileId:i}}]}))}else u?ke.dispatch(Be({windows:[{id:Ee.TEAMS,value:{type:Ee.TEAMS,teamId:u}}]})):s?ke.dispatch(Be({windows:[{id:"".concat(Ee.DIALOGPROFILE,"-").concat(s),value:{type:Ee.DIALOGPROFILE,identityId:s}}]})):c&&alert(c)}catch(m){alert("Invalid data ".concat(e))}}(a);break;default:console.log("Unknown message",e.nativeEvent.data)}}};window.ReactNativeWebView&&(window.addEventListener("message",qn),document.addEventListener("message",qn));var Jn=function(e){var t=e.userId,n=e.token,a=e.retrieveAll;return Se(Ce,n),function(e){Se(Ne,e)}(t),a({reset:!0}),Yn({type:Vn,data:{userId:t}}),{type:"userId",payload:{userId:t}}},Kn=function(e){return ke.dispatch({type:"windowOrders",payload:{reset:!0}}),Pe(),e({reset:!0}),function(e){Object(c.b)((function(){e({type:"userId",payload:{reset:!0}}),e({type:"aliasId",payload:{reset:!0}})}))}},Xn=function(){var e=Object(H.a)(B.a.mark((function e(t,n){var a,r,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An(xn,{user:{username:t,password:n}});case 2:return a=e.sent,r=a.user,o=a.token,ke.dispatch(Jn({userId:r.objectId,token:o,retrieveAll:Tn})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Zn=function(){var e=Object(H.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ke.dispatch(Kn(Tn));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qn=(n(48),r.a.forwardRef((function(e,t){var n=e.children,o=e.onClick,c=e.elementId,i=e.scrollTo,l=e.stopPropagation,u=void 0!==l&&l,s=e.className,d=void 0===s?"":s,m=Object(a.useRef)(null);return Object(a.useLayoutEffect)((function(){i&&m.current&&(m.current.scrollIntoView({behavior:"smooth",block:"nearest"}),setTimeout((function(){return m.current.scrollIntoView({behavior:"smooth",block:"nearest"})}),300))}),[i]),r.a.createElement("li",{ref:function(e){t&&(t.current=e),m.current=e},id:c,className:"ListItem ".concat(o?"clickable":""," ").concat(d),onClick:function(e){o&&o(e),"UL"===e.target.parentElement.tagName&&e.target.parentElement.click(),u&&e.stopPropagation()}},n)}))),$n=r.a.memo(Qn);function _n(){return(_n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ea(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}Qn.defaultProps={onClick:void 0,className:"",stopPropagation:!1,elementId:void 0,children:void 0,scrollTo:!1};var ta=r.a.createElement("line",{x1:3,y1:12,x2:21,y2:12}),na=r.a.createElement("line",{x1:3,y1:6,x2:21,y2:6}),aa=r.a.createElement("line",{x1:3,y1:18,x2:21,y2:18}),ra=function(e){var t=e.svgRef,n=e.title,a=ea(e,["svgRef","title"]);return r.a.createElement("svg",_n({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-menu",ref:t},a),n?r.a.createElement("title",null,n):null,ta,na,aa)},oa=r.a.forwardRef((function(e,t){return r.a.createElement(ra,_n({svgRef:t},e))}));n.p;function ca(){return(ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ia(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var la=r.a.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),ua=r.a.createElement("polyline",{points:"16 17 21 12 16 7"}),sa=r.a.createElement("line",{x1:21,y1:12,x2:9,y2:12}),da=function(e){var t=e.svgRef,n=e.title,a=ia(e,["svgRef","title"]);return r.a.createElement("svg",ca({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-log-out",ref:t},a),n?r.a.createElement("title",null,n):null,la,ua,sa)},ma=r.a.forwardRef((function(e,t){return r.a.createElement(da,ca({svgRef:t},e))}));n.p;function fa(){return(fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function pa(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ha=r.a.createElement("circle",{cx:12,cy:12,r:3}),va=r.a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}),ga=function(e){var t=e.svgRef,n=e.title,a=pa(e,["svgRef","title"]);return r.a.createElement("svg",fa({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-settings",ref:t},a),n?r.a.createElement("title",null,n):null,ha,va)},ya=r.a.forwardRef((function(e,t){return r.a.createElement(ga,fa({svgRef:t},e))}));n.p;function Ea(){return(Ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ba(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Oa=r.a.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),wa=r.a.createElement("circle",{cx:12,cy:7,r:4}),ja=function(e){var t=e.svgRef,n=e.title,a=ba(e,["svgRef","title"]);return r.a.createElement("svg",Ea({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-user",ref:t},a),n?r.a.createElement("title",null,n):null,Oa,wa)},Ia=r.a.forwardRef((function(e,t){return r.a.createElement(ja,Ea({svgRef:t},e))}));n.p;function ka(){return(ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function xa(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ca=r.a.createElement("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),Na=r.a.createElement("polyline",{points:"10 17 15 12 10 7"}),La=r.a.createElement("line",{x1:15,y1:12,x2:3,y2:12}),Sa=function(e){var t=e.svgRef,n=e.title,a=xa(e,["svgRef","title"]);return r.a.createElement("svg",ka({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-log-in",ref:t},a),n?r.a.createElement("title",null,n):null,Ca,Na,La)},Ra=r.a.forwardRef((function(e,t){return r.a.createElement(Sa,ka({svgRef:t},e))}));n.p;function Aa(){return(Aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ta(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Pa=r.a.createElement("line",{x1:12,y1:5,x2:12,y2:19}),Ma=r.a.createElement("line",{x1:5,y1:12,x2:19,y2:12}),Da=function(e){var t=e.svgRef,n=e.title,a=Ta(e,["svgRef","title"]);return r.a.createElement("svg",Aa({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",ref:t},a),n?r.a.createElement("title",null,n):null,Pa,Ma)},Fa=r.a.forwardRef((function(e,t){return r.a.createElement(Da,Aa({svgRef:t},e))})),Wa=(n.p,n(49),r.a.memo((function(){var e=Object(c.c)(kt),t=Object(c.c)(ut),n=[];return e===t.CreateUser.accessLevel&&n.push(r.a.createElement($n,{key:"register",onClick:function(){return ke.dispatch(Be({windows:[{id:Ee.DIALOGREGISTER,value:{type:Ee.DIALOGREGISTER}}]}))}},r.a.createElement(Fa,null),r.a.createElement("span",null,"Create user"))),e===F.ANONYMOUS&&n.push(r.a.createElement($n,{key:"login",onClick:function(){return ke.dispatch(Be({windows:[{id:Ee.DIALOGLOGIN,value:{type:Ee.DIALOGLOGIN}}]}))}},r.a.createElement(Ra,null),r.a.createElement("span",null,"Login"))),e>=t.CreateAlias.accessLevel&&n.push(r.a.createElement($n,{key:"alias",onClick:function(){return ke.dispatch(Be({windows:[{id:Ee.DIALOGCREATEALIAS,value:{type:Ee.DIALOGCREATEALIAS}}]}))}},r.a.createElement(Fa,null),r.a.createElement("span",null,"Create alias"))),e>=F.STANDARD&&n.push(r.a.createElement($n,{key:"profile",onClick:function(){return ke.dispatch(Be({windows:[{id:Ee.DIALOGPROFILE,value:{type:Ee.DIALOGPROFILE}}]}))}},r.a.createElement(Ia,null),r.a.createElement("span",null,"Your profile"))),e>=F.STANDARD&&(n.push(r.a.createElement($n,{key:"settings",onClick:function(){return ke.dispatch(Be({windows:[{id:Ee.DIALOGCONFIGSYSTEM,value:{type:Ee.DIALOGCONFIGSYSTEM}}]}))}},r.a.createElement(ya,null),r.a.createElement("span",null,"Settings"))),n.push(r.a.createElement($n,{key:"logout",onClick:function(){Zn()}},r.a.createElement(ma,null),r.a.createElement("span",null,"Logout")))),window.ReactNativeWebView&&n.push(r.a.createElement($n,{key:"quit",onClick:function(){Yn({type:zn,data:{}})}},r.a.createElement("span",null,"Shutdown"))),r.a.createElement(D,{dropdown:!0,className:"MainList",title:r.a.createElement(oa,null)},n)})));function Ga(){return(Ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ba(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ha=r.a.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),Va=function(e){var t=e.svgRef,n=e.title,a=Ba(e,["svgRef","title"]);return r.a.createElement("svg",Ga({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-message-square",ref:t},a),n?r.a.createElement("title",null,n):null,Ha)},Ua=r.a.forwardRef((function(e,t){return r.a.createElement(Va,Ga({svgRef:t},e))}));n.p;function za(){return(za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ya(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var qa=r.a.createElement("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),Ja=r.a.createElement("line",{x1:8,y1:2,x2:8,y2:18}),Ka=r.a.createElement("line",{x1:16,y1:6,x2:16,y2:22}),Xa=function(e){var t=e.svgRef,n=e.title,a=Ya(e,["svgRef","title"]);return r.a.createElement("svg",za({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-map",ref:t},a),n?r.a.createElement("title",null,n):null,qa,Ja,Ka)},Za=r.a.forwardRef((function(e,t){return r.a.createElement(Xa,za({svgRef:t},e))}));n.p;function Qa(){return(Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function $a(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var _a=r.a.createElement("rect",{x:1,y:4,width:22,height:16,rx:2,ry:2}),er=r.a.createElement("line",{x1:1,y1:10,x2:23,y2:10}),tr=function(e){var t=e.svgRef,n=e.title,a=$a(e,["svgRef","title"]);return r.a.createElement("svg",Qa({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-credit-card",ref:t},a),n?r.a.createElement("title",null,n):null,_a,er)},nr=r.a.forwardRef((function(e,t){return r.a.createElement(tr,Qa({svgRef:t},e))}));n.p;function ar(){return(ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function rr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var or=r.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),cr=r.a.createElement("polyline",{points:"14 2 14 8 20 8"}),ir=r.a.createElement("line",{x1:16,y1:13,x2:8,y2:13}),lr=r.a.createElement("line",{x1:16,y1:17,x2:8,y2:17}),ur=r.a.createElement("polyline",{points:"10 9 9 9 8 9"}),sr=function(e){var t=e.svgRef,n=e.title,a=rr(e,["svgRef","title"]);return r.a.createElement("svg",ar({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file-text",ref:t},a),n?r.a.createElement("title",null,n):null,or,cr,ir,lr,ur)},dr=r.a.forwardRef((function(e,t){return r.a.createElement(sr,ar({svgRef:t},e))}));n.p;function mr(){return(mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function fr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var pr=r.a.createElement("path",{d:"M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8c.4 0 .8-.2 1.1-.5.3-.3.5-.7.5-1.1V6.5L15.5 2z"}),hr=r.a.createElement("path",{d:"M3 7.6v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8"}),vr=r.a.createElement("path",{d:"M15 2v5h5"}),gr=function(e){var t=e.svgRef,n=e.title,a=fr(e,["svgRef","title"]);return r.a.createElement("svg",mr({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},a),n?r.a.createElement("title",null,n):null,pr,hr,vr)},yr=r.a.forwardRef((function(e,t){return r.a.createElement(gr,mr({svgRef:t},e))}));n.p;function Er(){return(Er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function br(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Or=r.a.createElement("path",{d:"M4 11a9 9 0 0 1 9 9"}),wr=r.a.createElement("path",{d:"M4 4a16 16 0 0 1 16 16"}),jr=r.a.createElement("circle",{cx:5,cy:19,r:1}),Ir=function(e){var t=e.svgRef,n=e.title,a=br(e,["svgRef","title"]);return r.a.createElement("svg",Er({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-rss",ref:t},a),n?r.a.createElement("title",null,n):null,Or,wr,jr)},kr=r.a.forwardRef((function(e,t){return r.a.createElement(Ir,Er({svgRef:t},e))}));n.p;function xr(){return(xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Cr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Nr=r.a.createElement("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),Lr=r.a.createElement("polyline",{points:"2 17 12 22 22 17"}),Sr=r.a.createElement("polyline",{points:"2 12 12 17 22 12"}),Rr=function(e){var t=e.svgRef,n=e.title,a=Cr(e,["svgRef","title"]);return r.a.createElement("svg",xr({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-layers",ref:t},a),n?r.a.createElement("title",null,n):null,Nr,Lr,Sr)},Ar=r.a.forwardRef((function(e,t){return r.a.createElement(Rr,xr({svgRef:t},e))}));n.p;function Tr(){return(Tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Pr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Mr=r.a.createElement("rect",{x:3,y:3,width:7,height:7}),Dr=r.a.createElement("rect",{x:14,y:3,width:7,height:7}),Fr=r.a.createElement("rect",{x:14,y:14,width:7,height:7}),Wr=r.a.createElement("rect",{x:3,y:14,width:7,height:7}),Gr=function(e){var t=e.svgRef,n=e.title,a=Pr(e,["svgRef","title"]);return r.a.createElement("svg",Tr({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-grid",ref:t},a),n?r.a.createElement("title",null,n):null,Mr,Dr,Fr,Wr)},Br=r.a.forwardRef((function(e,t){return r.a.createElement(Gr,Tr({svgRef:t},e))}));n.p;function Hr(){return(Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Vr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ur=r.a.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),zr=r.a.createElement("circle",{cx:9,cy:7,r:4}),Yr=r.a.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),qr=r.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),Jr=function(e){var t=e.svgRef,n=e.title,a=Vr(e,["svgRef","title"]);return r.a.createElement("svg",Hr({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-users",ref:t},a),n?r.a.createElement("title",null,n):null,Ur,zr,Yr,qr)},Kr=r.a.forwardRef((function(e,t){return r.a.createElement(Jr,Hr({svgRef:t},e))}));n.p;function Xr(){return(Xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Zr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Qr=r.a.createElement("circle",{cx:12,cy:12,r:10}),$r=r.a.createElement("line",{x1:2,y1:12,x2:22,y2:12}),_r=r.a.createElement("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}),eo=function(e){var t=e.svgRef,n=e.title,a=Zr(e,["svgRef","title"]);return r.a.createElement("svg",Xr({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-globe",ref:t},a),n?r.a.createElement("title",null,n):null,Qr,$r,_r)},to=r.a.forwardRef((function(e,t){return r.a.createElement(eo,Xr({svgRef:t},e))}));n.p;function no(){return(no=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ao(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ro=r.a.createElement("polyline",{points:"4 17 10 11 4 5"}),oo=r.a.createElement("line",{x1:12,y1:19,x2:20,y2:19}),co=function(e){var t=e.svgRef,n=e.title,a=ao(e,["svgRef","title"]);return r.a.createElement("svg",no({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-terminal",ref:t},a),n?r.a.createElement("title",null,n):null,ro,oo)},io=r.a.forwardRef((function(e,t){return r.a.createElement(co,no({svgRef:t},e))}));n.p;function lo(){return(lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function uo(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var so=r.a.createElement("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}),mo=function(e){var t=e.svgRef,n=e.title,a=uo(e,["svgRef","title"]);return r.a.createElement("svg",lo({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-heart",ref:t},a),n?r.a.createElement("title",null,n):null,so)},fo=r.a.forwardRef((function(e,t){return r.a.createElement(mo,lo({svgRef:t},e))}));n.p;function po(){return(po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ho(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var vo=r.a.createElement("polyline",{points:"16 16 12 12 8 16"}),go=r.a.createElement("line",{x1:12,y1:12,x2:12,y2:21}),yo=r.a.createElement("path",{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"}),Eo=r.a.createElement("polyline",{points:"16 16 12 12 8 16"}),bo=function(e){var t=e.svgRef,n=e.title,a=ho(e,["svgRef","title"]);return r.a.createElement("svg",po({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-upload-cloud",ref:t},a),n?r.a.createElement("title",null,n):null,vo,go,yo,Eo)},Oo=r.a.forwardRef((function(e,t){return r.a.createElement(bo,po({svgRef:t},e))})),wo=(n.p,function(e){return e.windowOrder}),jo=(n(50),r.a.memo((function(){var e=Object(c.c)(wo),t=Object(c.c)(kt),n=[],o=Object(a.useCallback)((function(e){var t=e.id,n=e.value;return ke.dispatch(Be({windows:[{id:t,value:n}]}))}),[]);return e.forEach((function(e,t){if(![Ee.CHAT,Ee.NEWS,Ee.DOCFILEDIR,Ee.WORLDMAP,Ee.WALLET].includes(t)){var a,c;switch(e.type){case Ee.DIALOGPROFILE:c=r.a.createElement(Ia,null),a=e.identityId?Dt(ke.getState(),{id:e.identityId}).name:"Your profile";break;case Ee.DOCFILEVIEW:c=r.a.createElement(dr,null),a=Dn(ke.getState(),{id:e.docFileId}).title;break;default:c=r.a.createElement(Ar,null),a=t}n.push(r.a.createElement($n,{key:t},r.a.createElement(g,{onClick:function(){return o({id:t,value:e})}},c),r.a.createElement("span",null,a)))}})),r.a.createElement("div",{className:"OpenApps"},r.a.createElement(D,{dropdown:!0,className:"apps",title:r.a.createElement(Br,null)},r.a.createElement($n,{key:"chat"},r.a.createElement(g,{key:"chat",className:"".concat(e.get(Ee.CHAT)&&e.get(Ee.CHAT).index===e.size?"active":""),onClick:function(){return o({id:Ee.CHAT,value:{type:Ee.CHAT}})}},r.a.createElement(Ua,null)),r.a.createElement("span",null,"Chat")),r.a.createElement($n,{key:"news"},r.a.createElement(g,{key:"news",className:"".concat(e.get(Ee.NEWS)&&e.get(Ee.NEWS).index===e.size?"active":""),onClick:function(){return o({id:Ee.NEWS,value:{type:Ee.NEWS}})}},r.a.createElement(kr,null)),r.a.createElement("span",null,"News")),r.a.createElement($n,{key:"docFile"},r.a.createElement(g,{key:"docFile",className:"".concat(e.get(Ee.DOCFILEDIR)&&e.get(Ee.DOCFILEDIR).index===e.size?"active":""),onClick:function(){return o({id:Ee.DOCFILEDIR,value:{type:Ee.DOCFILEDIR}})}},r.a.createElement(yr,null)),r.a.createElement("span",null,"Files")),r.a.createElement($n,{key:"worldMap"},r.a.createElement(g,{key:"worldMap",className:"".concat(e.get(Ee.WORLDMAP)&&e.get(Ee.WORLDMAP).index===e.size?"active":""),onClick:function(){return o({id:Ee.WORLDMAP,value:{type:Ee.WORLDMAP}})}},r.a.createElement(Za,null)),r.a.createElement("span",null,"Map")),t>=F.STANDARD&&r.a.createElement($n,{key:"wallet"},r.a.createElement(g,{key:"wallet",className:"".concat(e.get(Ee.WALLET)&&e.get(Ee.WALLET).index===e.size?"active":""),onClick:function(){return o({id:Ee.WALLET,value:{type:Ee.WALLET}})}},r.a.createElement(nr,null)),r.a.createElement("span",null,"Wallet")),r.a.createElement($n,{className:"faded",key:"terminal"},r.a.createElement(g,{key:"terminal",onClick:function(){}},r.a.createElement(io,null)),r.a.createElement("span",null,"Terminal")),r.a.createElement($n,{key:"wrecking",className:"faded"},r.a.createElement(g,{key:"wrecking",onClick:function(){}},r.a.createElement(Oo,null)),r.a.createElement("span",null,"Wrecker Central")),r.a.createElement($n,{className:"faded",key:"love"},r.a.createElement(g,{key:"love",onClick:function(){}},r.a.createElement(fo,null)),r.a.createElement("span",null,"Love Bureau")),r.a.createElement($n,{className:"faded",key:"users"},r.a.createElement(g,{key:"users",onClick:function(){}},r.a.createElement(Kr,null)),r.a.createElement("span",null,"Users")),r.a.createElement($n,{className:"faded",key:"teams"},r.a.createElement(g,{key:"Teams",onClick:function(){}},r.a.createElement(to,null)),r.a.createElement("span",null,"Teams")),n))})));function Io(){return(Io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ko(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var xo=r.a.createElement("circle",{cx:12,cy:12,r:10}),Co=r.a.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),No=r.a.createElement("line",{x1:12,y1:17,x2:12.01,y2:17}),Lo=function(e){var t=e.svgRef,n=e.title,a=ko(e,["svgRef","title"]);return r.a.createElement("svg",Io({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-help-circle",ref:t},a),n?r.a.createElement("title",null,n):null,xo,Co,No)},So=r.a.forwardRef((function(e,t){return r.a.createElement(Lo,Io({svgRef:t},e))}));n.p;function Ro(){return(Ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ao(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var To=r.a.createElement("polyline",{points:"15 18 9 12 15 6"}),Po=function(e){var t=e.svgRef,n=e.title,a=Ao(e,["svgRef","title"]);return r.a.createElement("svg",Ro({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-left",ref:t},a),n?r.a.createElement("title",null,n):null,To)},Mo=r.a.forwardRef((function(e,t){return r.a.createElement(Po,Ro({svgRef:t},e))}));n.p;function Do(){return(Do=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Fo(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Wo=r.a.createElement("polyline",{points:"9 18 15 12 9 6"}),Go=function(e){var t=e.svgRef,n=e.title,a=Fo(e,["svgRef","title"]);return r.a.createElement("svg",Do({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-right",ref:t},a),n?r.a.createElement("title",null,n):null,Wo)},Bo=r.a.forwardRef((function(e,t){return r.a.createElement(Go,Do({svgRef:t},e))}));n.p;function Ho(){return(Ho=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Vo(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Uo=r.a.createElement("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),zo=r.a.createElement("circle",{cx:12,cy:13,r:4}),Yo=function(e){var t=e.svgRef,n=e.title,a=Vo(e,["svgRef","title"]);return r.a.createElement("svg",Ho({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-camera",ref:t},a),n?r.a.createElement("title",null,n):null,Uo,zo)},qo=r.a.forwardRef((function(e,t){return r.a.createElement(Yo,Ho({svgRef:t},e))})),Jo=(n.p,function(e){return e.interfaceConfig.hideMenu}),Ko=(n(51),function(e){return{type:"interfaceConfiog",payload:{hideMenu:e.hideMenu,toggleHideMenu:e.toggleHideMenu}}}),Xo=(n(52),function(e){var t=e.useIcon,n=void 0!==t&&t,a=Object(c.c)(Bt),o=Object(c.c)(Je),i=a.find((function(e){return e.objectId===o})),l=(n?a:a.filter((function(e){return e.objectId!==o}))).map((function(e){return r.a.createElement($n,{className:e.objectId===o?"selected":"",key:e.objectId,onClick:function(){return ke.dispatch(tn({aliasId:rt(ke.getState(),{id:e.objectId})?e.objectId:void 0}))}},e.name)})),u=i?i.name:"---";return r.a.createElement(D,{dropdown:!0,className:"IdentityPicker",title:n?r.a.createElement(Ia,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ia,null),r.a.createElement("span",null,u))},l)}),Zo=r.a.memo(Xo);Xo.defaultProps={useIcon:void 0};var Qo=r.a.memo((function(){var e=Object(c.c)(kt),t=Object(c.c)(Nt),n=Object(c.c)(Jo),o=Object(c.c)(Fe),i=Object(c.c)(Ue),l=[];i||l.push("warning"),Object(a.useEffect)((function(){t.hideMenuBar?ke.dispatch(Ko({hideMenu:!0})):ke.dispatch(Ko({hideMenu:!1}))}),[t.hideMenuBar]);var u=Object(a.useCallback)((function(){return ke.dispatch(We({mode:Oe,target:"MenuBar"}))}),[]);return r.a.createElement(r.a.Fragment,null,n?r.a.createElement("div",{className:"miniMenu"},r.a.createElement(g,{type:"button",onClick:function(){return ke.dispatch(Ko({toggleHideMenu:!0}))}},r.a.createElement(Mo,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{key:"MenuBar",onClick:function(){i||Rn(),o.mode===Oe&&ke.dispatch(Ge({target:"MenuBar"}))},className:"".concat("MenuBar"," ").concat(l.join(" ")),id:"MenuBar"},r.a.createElement(Wa,{key:"mainList"}),r.a.createElement(jo,{key:"openApps"}),r.a.createElement("div",{className:"rightAligned"},!t.hideHelp&&r.a.createElement(g,{type:"button",className:"helpButton ".concat(o.mode===Oe&&"MenuBar"===o.target?"active":""),onClick:u},r.a.createElement(So,null)),window.ReactNativeWebView&&r.a.createElement(g,{type:"button",onClick:function(){return Yn({type:Un,data:{}})}},r.a.createElement(qo,null)),e>=F.STANDARD&&r.a.createElement(Zo,null),r.a.createElement(b,null)),o.mode===Oe&&"MenuBar"===o.target&&r.a.createElement("div",{className:"helpOverlay"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("p",null,"Overview of the app, that has everything from chat and news feed to digital currency and map."),r.a.createElement("p",null,"Don't be afraid to experiment! You won't break the system."),r.a.createElement("p",null,"There is a ",r.a.createElement(So,null)," button in each app. The scroll is usually hidden, but you can still scroll (like in this pop-up!). Apps and menu:")),r.a.createElement("li",null,r.a.createElement(Br,null),r.a.createElement("span",null,"APPS Shows all apps.")),r.a.createElement("li",null,r.a.createElement(Ua,null),r.a.createElement("span",null,"CHAT Read and send messages. You have access to read Public without logging in.")),r.a.createElement("li",null,r.a.createElement(kr,null),r.a.createElement("span",null,"NEWS Read the latest news. You need access to be able to create news.")),r.a.createElement("li",null,r.a.createElement(dr,null),r.a.createElement("span",null,"FILES Read and create documents. You have access to read documents without logging in.")),r.a.createElement("li",null,r.a.createElement(Za,null),r.a.createElement("span",null,"MAP See the local, world map, track users and add new locations.")),r.a.createElement("li",null,r.a.createElement(nr,null),r.a.createElement("span",null,"WALLET Send and receive currency. You need to login to access your wallet.")),r.a.createElement("li",null,r.a.createElement(oa,null),r.a.createElement("span",null,"MENU You can create a user, login, check your info, change settings and more here.")),r.a.createElement("li",null,r.a.createElement(Ar,null),r.a.createElement("span",null,"WINDOWS Other windows you have open (like dialog windows) will be listed here.")),r.a.createElement("li",null,r.a.createElement(p,null),r.a.createElement("span",null,"TIME Click it to reveal the current time."))))),e>=F.STANDARD&&r.a.createElement("div",{className:"miniMenu minimize ".concat(t.hideMenuBar?"hideOn":"")},r.a.createElement(g,{type:"button",onClick:function(){return ke.dispatch(Ko({toggleHideMenu:!0}))}},r.a.createElement(Bo,null)))))})),$o=n(32);function _o(){return(_o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ec(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var tc=r.a.createElement("polyline",{points:"15 3 21 3 21 9"}),nc=r.a.createElement("polyline",{points:"9 21 3 21 3 15"}),ac=r.a.createElement("line",{x1:21,y1:3,x2:14,y2:10}),rc=r.a.createElement("line",{x1:3,y1:21,x2:10,y2:14}),oc=function(e){var t=e.svgRef,n=e.title,a=ec(e,["svgRef","title"]);return r.a.createElement("svg",_o({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-maximize-2",ref:t},a),n?r.a.createElement("title",null,n):null,tc,nc,ac,rc)},cc=r.a.forwardRef((function(e,t){return r.a.createElement(oc,_o({svgRef:t},e))}));n.p;function ic(){return(ic=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function lc(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var uc=r.a.createElement("polyline",{points:"4 14 10 14 10 20"}),sc=r.a.createElement("polyline",{points:"20 10 14 10 14 4"}),dc=r.a.createElement("line",{x1:14,y1:10,x2:21,y2:3}),mc=r.a.createElement("line",{x1:3,y1:21,x2:10,y2:14}),fc=function(e){var t=e.svgRef,n=e.title,a=lc(e,["svgRef","title"]);return r.a.createElement("svg",ic({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-minimize-2",ref:t},a),n?r.a.createElement("title",null,n):null,uc,sc,dc,mc)},pc=r.a.forwardRef((function(e,t){return r.a.createElement(fc,ic({svgRef:t},e))}));n.p;function hc(){return(hc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function vc(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var gc=r.a.createElement("line",{x1:18,y1:6,x2:6,y2:18}),yc=r.a.createElement("line",{x1:6,y1:6,x2:18,y2:18}),Ec=function(e){var t=e.svgRef,n=e.title,a=vc(e,["svgRef","title"]);return r.a.createElement("svg",hc({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x",ref:t},a),n?r.a.createElement("title",null,n):null,gc,yc)},bc=r.a.forwardRef((function(e,t){return r.a.createElement(Ec,hc({svgRef:t},e))})),Oc=(n.p,n(57),function(e){var t=e.onDoubleClick,n=e.title,o=e.done,i=e.id,l=e.maximized,u=Object(c.c)(Nt),s=Object(c.c)(Fe),d=Object(a.useCallback)((function(){s.mode===Oe&&s.target!==i?ke.dispatch(Ge({target:i})):ke.dispatch(We({mode:Oe,target:i}))}),[s,i]);return r.a.createElement("div",{onDoubleClick:t,className:"TopBar"},r.a.createElement("div",{className:"TopBarHandle"},r.a.createElement("span",{className:"title"},n)),r.a.createElement("div",{className:"buttons"},!u.hideHelp&&r.a.createElement(g,{stopPropagation:!0,key:"help",className:"help ".concat(s.mode===Oe&&s.target===i?"active":""),type:"button",onClick:d},r.a.createElement(So,null)),!u.alwaysMaximized&&r.a.createElement(g,{type:"button",onClick:t},l?r.a.createElement(pc,null):r.a.createElement(cc,null)),r.a.createElement(g,{className:"close",stopPropagation:!0,type:"button",onClick:o},r.a.createElement(bc,null))))}),wc=r.a.memo(Oc);Oc.defaultProps={onSettings:void 0,maximized:void 0};var jc=r.a.memo((function(e){var t=e.id,n=e.children,a=Object(c.c)(Fe);return r.a.createElement(r.a.Fragment,null,a.mode===Oe&&a.target===t&&r.a.createElement("div",{className:"helpOverlay"},n))})),Ic=(n(58),function(e){var t=e.onClick,n=e.children,o=e.menu,i=e.done,u=e.index,s=e.id,d=e.help,m=(e.type,e.title),f=void 0===m?"app":m,p=e.className,h=void 0===p?"":p,v=Object(a.useRef)(),g=Object(c.c)(Lt),y=Object(c.c)(St),E={width:380,height:340},b=Object(a.useState)(E),O=Object(l.a)(b,2),w=O[0],j=O[1],I=Object(a.useState)({x:0,y:0}),k=Object(l.a)(I,2),x=k[0],C=k[1],N={zIndex:u},L=Object(a.useCallback)((function(){C({x:0,y:0}),j({width:"100%",height:"100%"})}),[]),S=Object(a.useCallback)((function(){"100%"===w.width&&"100%"===w.height?j(E):L()}),[w,x]);return Object(a.useEffect)((function(){(g||y)&&L()}),[g,y]),Object(a.useEffect)((function(){var e=function(e){var t=v.current.resizableElement.current.style,n=v.current.resizableElement.current.getBoundingClientRect(),a=v.current.resizableElement.current.parentElement.getBoundingClientRect(),r=e.target.screen.orientation?e.target.screen.orientation.angle:e.target.orientation;"100%"===t.width&&"100%"===t.height||(0===r?(n.left+10>a.width/2?a.height>a.width?C({x:0,y:a.height/2}):C({x:0,y:(a.width-36)/2}):C({y:0,x:0}),j({width:"100%",height:"50%"})):(n.top+10>a.height/2?a.width>a.height?C({y:0,x:a.width/2}):C({y:0,x:(a.height+36)/2}):C({y:0,x:0}),j({width:"50%",height:"100%"})))};return window.addEventListener("orientationchange",e),function(){return window.removeEventListener("orientationchange",e)}}),[]),r.a.createElement($o.a,{ref:v,style:N,onClick:t,position:x,className:"rnd",size:w,minWidth:260,minHeight:220,maxWidth:"100%",maxHeight:"calc(100%)",bounds:"#MainWindow",dragHandleClassName:"TopBarHandle",enableResizing:{right:!0,bottom:!0,left:!1,bottomRight:!0,bottomLeft:!0},resizeHandleStyles:{left:{left:0,width:"10px"},right:{right:0,width:"10px"},bottom:{bottom:0,height:"5px"},bottomLeft:{bottom:0,left:0,width:"20px",height:"15px"},bottomRight:{bottom:0,right:0,width:"20px",height:"15px"}},onDragStart:t,onDragStop:function(e,t){var n=t.node,a=t.x,r=t.y;if(!x||a!==x.x||r!==x.y){var o=a+n.offsetWidth>=window.innerWidth,c=0===a,i=0===r,l=r+n.offsetHeight+36>=window.innerHeight,u=window.innerHeight<450,s=window.innerWidth<450,d=v.current.resizableElement.current.parentElement.getBoundingClientRect(),m=d.width>d.height;u||s||!i||!c||o||l?u||s||!i||!o||c||l?u||s||!l||!c||o||i?u||s||!l||!o||c||i?s||!c||o?s||!o||c?u||!i||m||l?u||!l||m||i?C({x:a,y:r}):(j({height:"50%",width:"100%"}),C({x:0,y:d.height/2})):(j({height:"50%",width:"100%"}),C({y:0,x:0})):(j({width:"50%",height:"100%"}),C({x:d.width/2,y:0})):(j({width:"50%",height:"100%"}),C({x:0,y:0})):(j({width:"50%",height:"50%"}),C({x:d.width/2,y:d.height/2})):(j({width:"50%",height:"50%"}),C({x:0,y:d.height/2})):(j({width:"50%",height:"50%"}),C({x:d.width/2,y:0})):(j({width:"50%",height:"50%"}),C({x:0,y:0}))}},onResizeStart:t,onResizeStop:function(e,t,n,a,r){n.offsetWidth===w.width&&n.offsetHeight===w.height||(j({width:n.offsetWidth,height:n.offsetHeight}),C(r))}},r.a.createElement("div",{className:"Window ".concat(h)},g?r.a.createElement("div",null):r.a.createElement(wc,{maximized:"100%"===w.width&&"100%"===w.height,id:s,done:i,title:f,onDoubleClick:S}),r.a.createElement("div",{className:"windowBox"},o&&r.a.createElement("div",{className:"menu"},o),r.a.createElement("div",{className:"content"},n,d&&r.a.createElement(jc,{id:s},d)))))}),kc=r.a.memo(Ic);Ic.defaultProps={done:void 0,className:void 0,title:"app",menu:void 0,type:"window",help:void 0};var xc=nt()([function(e){return e.transactions},function(e,t){return t.ids}],(function(e,t){return Object(ce.a)(e.values()).filter((function(e){var n=e.fromWalletId,a=e.toWalletId;return t.includes(n)||t.includes(a)})).map((function(e){var n=e.objectId,a=e.fromWalletId;return{objectId:n,isSender:t.includes(a)}})).reverse()}))((function(e,t){var n=t.ids;return"transaction-ids-".concat(n.join(" "))}));function Cc(){return(Cc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Nc(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Lc=r.a.createElement("rect",{x:4,y:4,width:16,height:16,rx:2,ry:2}),Sc=r.a.createElement("rect",{x:9,y:9,width:6,height:6}),Rc=r.a.createElement("line",{x1:9,y1:1,x2:9,y2:4}),Ac=r.a.createElement("line",{x1:15,y1:1,x2:15,y2:4}),Tc=r.a.createElement("line",{x1:9,y1:20,x2:9,y2:23}),Pc=r.a.createElement("line",{x1:15,y1:20,x2:15,y2:23}),Mc=r.a.createElement("line",{x1:20,y1:9,x2:23,y2:9}),Dc=r.a.createElement("line",{x1:20,y1:14,x2:23,y2:14}),Fc=r.a.createElement("line",{x1:1,y1:9,x2:4,y2:9}),Wc=r.a.createElement("line",{x1:1,y1:14,x2:4,y2:14}),Gc=function(e){var t=e.svgRef,n=e.title,a=Nc(e,["svgRef","title"]);return r.a.createElement("svg",Cc({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-cpu",ref:t},a),n?r.a.createElement("title",null,n):null,Lc,Sc,Rc,Ac,Tc,Pc,Mc,Dc,Fc,Wc)},Bc=r.a.forwardRef((function(e,t){return r.a.createElement(Gc,Cc({svgRef:t},e))})),Hc=(n.p,n(59),{identity:r.a.createElement(Ia,null),team:r.a.createElement(to,null),system:r.a.createElement(Bc,null)}),Vc=r.a.memo((function(e){var t=e.transactionId,n=e.isSender,a=Object(c.c)((function(e){return function(e,t){var n=t.id;return e.transactions.get(n)}(e,{id:t})})),o=Object(c.c)((function(e){return Dt(e,{id:a.fromWalletId})})),i=o.name,l=o.type,u=Object(c.c)((function(e){return Dt(e,{id:a.toWalletId})})),s=u.name,d=u.type,m=Object(c.c)(ht),f=Object(c.c)(pt),p=E({date:a.customTimeCreated||a.timeCreated,dayModification:m,yearModification:f}),h=n?d:l,v=n?l:d;return r.a.createElement($n,{className:"TransactionItem ".concat(n?"sender":"")},r.a.createElement("div",{className:"other"},Hc[h],r.a.createElement("p",{className:("identity"===h||"team"===h)&&"clickable",onClick:function(e){e.stopPropagation(),"identity"===h&&ke.dispatch(Be({windows:[{id:"".concat(Ee.DIALOGPROFILE,"-").concat(a.toWalletId),value:{type:Ee.DIALOGPROFILE,identityId:a.toWalletId}}]}))}},r.a.createElement("span",null,n?s:i)),r.a.createElement("p",{className:"time"},r.a.createElement("span",null,p.halfDate),r.a.createElement("span",null,p.halfTime))),a.note&&r.a.createElement("div",{className:"note"},r.a.createElement("p",null,a.note)),r.a.createElement("div",{className:"current"},Hc[v],r.a.createElement("p",null,n?i:s)),r.a.createElement("div",{className:"amount"},r.a.createElement("p",{className:n?"negative":""},"".concat(n?"-":"+").concat(a.amount))))})),Uc=(n(60),r.a.memo((function(e){var t=e.walletIds,n=Object(c.c)((function(e){return xc(e,{ids:t})})).map((function(e){var t=e.objectId,n=e.isSender;return r.a.createElement(Vc,{key:t,transactionId:t,isSender:n})}));return r.a.createElement(D,{observe:"upper",className:"TransactionList"},n)}))),zc=function(e){return e.wallets},Yc=function(e,t){var n=t.id;return e.wallets.get(n)},qc=nt()([zc],(function(e){return Object(ce.a)(e.values()).map((function(e){return e.objectId}))}))((function(){return"wallet-ids"})),Jc=nt()([zc,wt],(function(e,t){return Object(ce.a)(e.values()).filter((function(e){return e.ownerId===t.objectId||t.aliases.includes(e.ownerAliasId)||t.partOfTeams.includes(e.objectId)})).map((function(e){return e.objectId}))}))((function(){return"wallet-ids-current-user"})),Kc=n(5),Xc=(n(61),r.a.forwardRef((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.image,n=e.onRemove,o=e.width,c=e.height,i=e.scrollTo,u=void 0!==i&&i,s=e.className,d=void 0===s?"":s,m=e.altText,f=void 0===m?"":m,p=e.fullImage,h=e.fullWidth,v=e.fullHeight,g=arguments.length>1?arguments[1]:void 0,y=Object(a.useRef)(null),E=Object(a.useState)(!1),b=Object(l.a)(E,2),O=b[0],w=b[1];Object(a.useEffect)((function(){u&&!O&&y.current&&y.current.scrollIntoView({block:"nearest"})}),[O]);var j=function(e){p&&(w(!O),e.stopPropagation())};return r.a.createElement("div",{role:"complementary",ref:y,className:"Image ".concat(O?"full":""," ").concat(d),onClick:j},n&&r.a.createElement("div",{className:"remove clickable",role:"complementary",onClick:function(e){n(),e.stopPropagation()}},"X"),p&&r.a.createElement("div",{onClick:j,className:"zoom clickable",role:"complementary"},O?r.a.createElement(pc,null):r.a.createElement(cc,null)),r.a.createElement("img",{className:p?"clickable":"",onClick:j,width:O?h:o,height:O?v:c,ref:g,src:O?p:t,alt:f}))}))),Zc=Xc;function Qc(){return(Qc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function $c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}Xc.defaultProps={altText:"",className:"",onRemove:void 0,width:void 0,height:void 0,fullImage:void 0,fullWidth:void 0,fullHeight:void 0,scrollTo:!1};var _c=r.a.createElement("rect",{x:3,y:3,width:18,height:18,rx:2,ry:2}),ei=function(e){var t=e.svgRef,n=e.title,a=$c(e,["svgRef","title"]);return r.a.createElement("svg",Qc({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-square",ref:t},a),n?r.a.createElement("title",null,n):null,_c)},ti=r.a.forwardRef((function(e,t){return r.a.createElement(ei,Qc({svgRef:t},e))})),ni=(n.p,n(62),function(e){var t=e.identityId,n=e.onClick,o=Object(c.c)((function(e){return Dt(e,{id:t})})).name,i=Object(c.c)((function(e){return Mt(e,{id:t})})),l=Object(a.useCallback)((function(){n&&n(),ke.dispatch(Be({windows:[{id:"".concat(Ee.DIALOGPROFILE,"-").concat(t),value:{identityId:t,type:Ee.DIALOGPROFILE}}]}))}),[t]);return r.a.createElement($n,{stopPropagation:!0,className:"IdentityItem",key:t,onClick:l},r.a.createElement("div",{className:"icon"},i?r.a.createElement(Zc,{image:"/upload/images/".concat(i.thumbFileName)}):r.a.createElement(ti,null)),r.a.createElement("span",null,o||"-"))}),ai=r.a.memo(ni);ni.defaultProps={onClick:void 0};n(63);var ri=function(e){var t=e.onChange,n=e.name,o=e.shouldEqual,c=e.maxLength,i=e.minLength,u=e.checked,s=e.defaultValue,d=e.type,m=void 0===d?"text":d,f=e.required,p=void 0!==f&&f,h=e.placeholder,v=void 0===h?"":h,g=Object(Kc.c)(),y=g.register,E=g.getValues,b=g.unregister,O=Object(a.useState)(!1),w=Object(l.a)(O,2),j=w[0],I=w[1],k=Object(a.useState)(!1),x=Object(l.a)(k,2),C=x[0],N=x[1];return Object(a.useEffect)((function(){return function(){return b(n)}}),[]),r.a.createElement("input",{defaultChecked:u,minLength:i,maxLength:c,required:p,name:n,ref:y({maxLength:c,minLength:i,validate:function(e){return!o||e===E(o)||"Must match ".concat(o)}}),type:m,defaultValue:s||"",className:"Input ".concat(C?"empty":""),onFocus:function(){j?C&&N(!1):I(!0)},onBlur:function(e){j&&p&&N(!e.target.value||""===e.target.value)},onChange:function(e){t&&t(e.target.value)},placeholder:v})},oi=r.a.memo(ri);function ci(){return(ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ii(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}ri.defaultProps={placeholder:"",required:!1,type:"text",onChange:void 0,shouldEqual:void 0,maxLength:void 0,minLength:void 0,checked:void 0,defaultValue:void 0};var li=r.a.createElement("path",{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"}),ui=r.a.createElement("line",{x1:18,y1:9,x2:12,y2:15}),si=r.a.createElement("line",{x1:12,y1:9,x2:18,y2:15}),di=function(e){var t=e.svgRef,n=e.title,a=ii(e,["svgRef","title"]);return r.a.createElement("svg",ci({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-delete",ref:t},a),n?r.a.createElement("title",null,n):null,li,ui,si)},mi=r.a.forwardRef((function(e,t){return r.a.createElement(di,ci({svgRef:t},e))})),fi=(n.p,n(64),function(e){var t=e.onSubmit,n=e.formMethods,a=e.placeholder,o=void 0===a?"Search":a;return r.a.createElement($n,{className:"SearchItem"},r.a.createElement(Kc.a,n,r.a.createElement("form",{onSubmit:n.handleSubmit(t)},r.a.createElement(oi,{name:"search",placeholder:o}),r.a.createElement(g,{stopPropagation:!0,onClick:function(){return n.reset()}},r.a.createElement(mi,null)))))}),pi=r.a.memo(fi);fi.defaultProps={placeholder:"Search"};n(65);var hi=function(e){var t=e.dropdown,n=void 0===t||t,o=Object(Kc.b)(),i=Object(Kc.d)({control:o.control,name:"search"}),l=Object(c.c)(mt),u=Object(c.c)(kt),s=Object(c.c)(xt),d=Object(c.c)(Ct),m=Object(c.c)(Wt),f=Object(c.c)(ft),p=Object(a.useCallback)((function(){o.reset()}),[]),h=function(){var e=m;return i&&i.length>0?e=e.filter((function(e){return f||u>=F.ADMIN||s.includes(e.objectId)||d.some((function(t){return e.partOfTeams.includes(t)}))?e.name.toLowerCase().includes(i.toLowerCase()):e.name.toLowerCase()===i.toLowerCase()})):l&&u<F.ADMIN&&(e=e.filter((function(e){return s.includes(e.objectId)||d.some((function(t){return e.partOfTeams.includes(t)}))}))),e.map((function(e){var t=e.objectId;return r.a.createElement(ai,{key:t,identityId:t,onClick:p})}))}();return r.a.createElement(D,{dropdown:n,checkWidth:n,className:"IdentityList",title:r.a.createElement(Kr,null)},r.a.createElement(pi,{onSubmit:function(){0===h.length?o.reset():1===h.length&&(ke.dispatch(Be({windows:[{id:"".concat(Ee.DIALOGPROFILE,"-").concat(h[0].key),value:{identityId:h[0].key,type:Ee.DIALOGPROFILE}}]})),o.reset())},formMethods:o,placeholder:"Search by name"}),i&&0===h.length?[r.a.createElement($n,{key:"noMatch"},"No match found")]:h)},vi=r.a.memo(hi);hi.defaultProps={dropdown:!0};var gi=function(e){var t=e.walletId,n=e.onChange,a=e.className,o=void 0===a?"":a,i=Object(c.c)((function(e){return Yc(e,{id:t})})),l=Object(c.c)((function(e){return Ft(e,{id:t})}));return r.a.createElement($n,{className:"WalletItem ".concat(o),onClick:function(){return n(t)}},l?"".concat(l.teamName||l.aliasName||l.username,": ").concat(i?i.amount:"?"):"Show all")},yi=r.a.memo(gi);gi.defaultProps={className:""};var Ei=r.a.memo((function(e){var t=e.onChange,n=e.walletId,a=Object(c.c)(Jc);return r.a.createElement(D,{dropdown:!0,checkWidth:!0,title:"Wallets",className:"WalletList"},r.a.createElement(yi,{className:"showAll"===n?"selected":"",key:"showAll",onChange:t,walletId:"showAll"}),a.map((function(e){return r.a.createElement(yi,{key:e,walletId:e,onChange:t,className:n===e?"selected":""})})))}));function bi(){return(bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Oi(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var wi=r.a.createElement("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}),ji=function(e){var t=e.svgRef,n=e.title,a=Oi(e,["svgRef","title"]);return r.a.createElement("svg",bi({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-key",ref:t},a),n?r.a.createElement("title",null,n):null,wi)},Ii=r.a.forwardRef((function(e,t){return r.a.createElement(ji,bi({svgRef:t},e))})),ki=(n.p,r.a.memo((function(e){var t=e.onChange,n=e.walletId,a=Object(c.c)(qc);return r.a.createElement(D,{dropdown:!0,checkWidth:!0,title:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ii,null),r.a.createElement("span",null,"WALLETS")),className:"WalletList"},a.map((function(e){return r.a.createElement(yi,{key:e,walletId:e,onChange:t,className:n===e?"selected":""})})))}))),xi=(n(66),r.a.memo((function(e){var t=e.walletId,n=Object(c.c)(qe),a=Object(c.c)((function(e){return Yc(e,{id:"showAll"!==t?t:n})})),o=a.amount<0;return r.a.createElement("div",{className:"Amount"},r.a.createElement("span",null,"Balance"),r.a.createElement("span",{className:o?"negative":""},o?"-":"",a.amount))}))),Ci=(n(67),r.a.memo((function(e){var t=e.id,n=e.index,o=Object(a.useState)("showAll"),i=Object(l.a)(o,2),u=i[0],s=i[1],d=Object(c.c)(Jc),m=Object(c.c)((function(e){return Dt(e,{id:u})})).name,f=Object(c.c)(kt),p=Object(a.useCallback)((function(){ke.dispatch(Be({windows:[{id:t,value:{type:Ee.WALLET}}]}))}),[]),h=Object(a.useCallback)((function(){return ke.dispatch(He({id:t}))}),[t]),v=Object(a.useCallback)((function(e){return s(e)}),[]);return r.a.createElement(kc,{id:t,className:"Wallet",index:n,done:h,title:"Wallet".concat(m?": ".concat(m):": all"),onClick:p,menu:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ei,{key:"walletList",onChange:v,walletId:u}),r.a.createElement(vi,{key:"identityList"}),f>=F.MODERATOR&&r.a.createElement(ki,{key:"adminWalletList",onChange:v,walletId:u}))},r.a.createElement(Uc,{key:"transactionList",walletIds:"showAll"!==u?[u]:d}),r.a.createElement(xi,{walletId:u}))}))),Ni=(n(68),function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=(t[0],t[1]),o=Object(a.useRef)();return Object(a.useEffect)((function(){!function e(){if("undefined"!==typeof window.google&&"undefined"!==typeof window.MarkerClusterer&&"undefined"!==typeof window.MapLabel){var t=new window.google.maps.Map(o.current,{disableDefaultUI:!0,fullscreenControl:!1,keyboardShortcuts:!1,mapTypeControl:!1,noClear:!0,zoomControl:!1,panControl:!1,overviewMapControl:!1,rotateControl:!1,scaleControl:!1,streetViewControl:!1,center:{lat:-34.397,lng:150.644},zoom:8,styles:[{elementType:"geometry",stylers:[{color:"#13002d"}]},{elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"administrative",stylers:[{color:"#370087"}]},{featureType:"landscape.natural.terrain",stylers:[{color:"#44003a"}]},{featureType:"road",stylers:[{color:"#6e6c6d"},{weight:.5}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{color:"#7d006c"}]}]});n(t)}else setTimeout(e,1e3)}()}),[]),r.a.createElement("div",{ref:o,className:"MapView"})}),Li=function(e){return e.positions},Si=function(e){return Object(et.createSelector)([Li],(function(t){return Object(ce.a)(t.values()).filter((function(t){var n=t.positionType;return e===n})).map((function(e){return{positionName:e.positionName,objectId:e.objectId}}))}))},Ri=function(e){var t=e.title,n=e.positionType,o=Object(a.useMemo)(Si,[]),i=Object(c.c)((function(e){return o(e,n)}));return r.a.createElement("div",{key:"positionsList",className:"PositionsList"},r.a.createElement(D,{title:t},i.map((function(e){return r.a.createElement($n,{key:e.objectId,onClick:function(){console.log(e.objectId)}},e.positionName)}))))},Ai=r.a.memo(Ri);Ri.defaultProps={title:void 0};var Ti=function(e){var t=e.positionTypes,n=void 0===t?[]:t;return r.a.createElement("div",{className:"lists Positions"},n.map((function(e){return r.a.createElement(Ai,{title:e,positionType:e})})))},Pi=(n(69),r.a.memo((function(e){var t=e.id,n=e.index,o=Object(a.useCallback)((function(){ke.dispatch(Be({windows:[{id:t,value:{type:Ee.WORLDMAP}}]}))}),[]);return r.a.createElement(kc,{id:t,index:n,done:function(){return ke.dispatch(He({id:t}))},className:"WorldMap",title:"map",onClick:o,menu:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ti,null))},r.a.createElement(Ni,null))}))),Mi=function(e){return e.rooms},Di=function(e,t){var n=t.id;return e.rooms.get(n)},Fi=nt()([Mi],(function(e){return Object(ce.a)(e.values()).filter((function(e){return!e.isWhisper&&!e.isUser}))}))((function(){return"normalRooms"})),Wi=nt()([Mi,function(e,t){return t.spyMode}],(function(e,t){return Object(ce.a)(e.values()).filter((function(e){return e.isWhisper&&("boolean"!==typeof e.spyMode&&!t||t===e.spyMode)})).map((function(e){return{objectId:e.objectId,participantIds:e.participantIds,spyMode:t}}))}))((function(e,t){var n=t.spyMode;return"whisperRooms-spy-".concat(n)})),Gi=nt()([Fi,It],(function(e,t){return e.filter((function(e){return!t.includes(e.objectId)})).map((function(e){return{roomName:e.roomName,objectId:e.objectId}})).sort((function(e,t){var n=e.roomName.toLowerCase(),a=t.roomName.toLowerCase();return n>a||a<n?1:0})).map((function(e){return e.objectId}))}))((function(){return"unfollowedRooms"})),Bi=nt()([Fi,It],(function(e,t){return e.filter((function(e){return t.includes(e.objectId)})).map((function(e){return e.objectId}))}))((function(){return"followedRooms"})),Hi=nt()([Wi,function(e,t){return{identityId:t.identityId,currentIdentityId:t.currentIdentityId}},function(e,t){var n=t.identityId;return Di(e,{id:n})}],(function(e,t,n){var a=t.currentIdentityId,r=t.identityId;return e.find((function(e){return e.participantIds.includes(a)&&e.participantIds.includes(r)}))||n}))((function(e,t){var n=t.currentIdentityId,a=t.identityId;return"whisper-".concat(n,"-").concat(a)})),Vi=nt()([At,Gt,function(e,t){return t.ids}],(function(e,t,n){var a=e.get(n[0]),r=e.get(n[1]);return a&&r?t.find((function(e){var t=e.objectId;return a.objectId===t||a.ownerId===t||a.userIds.includes(t)}))?"".concat(a.username||a.aliasName," > ").concat(r.username||a.aliasName):"".concat(r.username||a.aliasName," > ").concat(a.username||a.aliasName):""}))((function(e,t){var n=t.ids;return"w-name-".concat(n.join(" "))}));function Ui(){return(Ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function zi(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Yi=r.a.createElement("rect",{x:3,y:11,width:18,height:11,rx:2,ry:2}),qi=r.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}),Ji=function(e){var t=e.svgRef,n=e.title,a=zi(e,["svgRef","title"]);return r.a.createElement("svg",Ui({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-lock",ref:t},a),n?r.a.createElement("title",null,n):null,Yi,qi)},Ki=r.a.forwardRef((function(e,t){return r.a.createElement(Ji,Ui({svgRef:t},e))})),Xi=(n.p,n(70),r.a.memo((function(e){var t=e.roomId,n=Object(c.c)((function(e){return Di(e,{id:t})})),o=Object(a.useCallback)((function(){ke.dispatch(Be({windows:[{id:"".concat(Ee.DIALOGJOINROOM,"-").concat(t),value:{type:Ee.DIALOGJOINROOM,roomId:t}}]}))}),[t]);return r.a.createElement($n,{className:"RoomItem",key:t,onClick:o},n.roomName,n.isLocked&&r.a.createElement("div",{className:"lock"},r.a.createElement(Ki,null)))}))),Zi=r.a.memo((function(e){var t=e.onChange,n=Object(c.c)(Gi);return r.a.createElement(D,{dropdown:!0,checkWidth:!0,key:"roomList",className:"RoomList",title:"Rooms"},n.map((function(e){return r.a.createElement(Xi,{key:e,roomId:e,onChange:t})})))}));function Qi(){return(Qi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function $i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var _i=r.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),el=r.a.createElement("circle",{cx:12,cy:12,r:3}),tl=function(e){var t=e.svgRef,n=e.title,a=$i(e,["svgRef","title"]);return r.a.createElement("svg",Qi({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye",ref:t},a),n?r.a.createElement("title",null,n):null,_i,el)},nl=r.a.forwardRef((function(e,t){return r.a.createElement(tl,Qi({svgRef:t},e))})),al=(n.p,function(){var e=Object(H.a)(B.a.mark((function e(t){var n,a,r,o,c,i,l;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.text,a=t.roomId,r=t.image,o=Di(ke.getState(),{id:a}),c=o.isWhisper?o.participantIds:[],i={roomId:a,ownerAliasId:Ye(ke.getState())||void 0,text:n.split("\n")},o.isUser?(i.messageType=fe,c.push(Je(ke.getState())),c.push(a)):o.isWhisper?i.messageType=fe:i.messageType=me,e.next=7,An(hn,{message:i,image:r,participantIds:c});case 7:return l=e.sent,ke.dispatch($e({messages:[l.message]})),e.abrupt("return",{message:l.message,switchRoom:!0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),rl=function(){var e=Object(H.a)(B.a.mark((function e(t){var n,a,r,o,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,a=t.text,r=t.image,o={messageType:pe,text:[n].concat(a.split("\n")),roomId:st(ke.getState()),ownerAliasId:Ye(ke.getState())||void 0},e.next=4,An(hn,{message:o,image:r});case 4:return c=e.sent,ke.dispatch(_e(c)),e.abrupt("return",{message:c.message});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ol=function(){var e=Object(H.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.roomId,e.next=3,An(bn,{roomId:n});case 3:return a=e.sent,ke.dispatch($e({messages:a.messages})),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cl=function(){var e=Object(H.a)(B.a.mark((function e(t){var n,a,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.room,a=Object(oe.a)(Object(oe.a)({},n),{},{ownerAliasId:Ye(ke.getState())||void 0}),e.next=4,An(vn,{room:a});case 4:return r=e.sent,e.next=7,ke.dispatch(Qt({room:r.room,user:r.user}));case 7:return e.abrupt("return",{room:r.room});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),il=function(){var e=Object(H.a)(B.a.mark((function e(t){var n,a,r,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.roomId,a=t.password,r={roomId:n,password:a,aliasId:Ye(ke.getState())||void 0},e.next=4,An(En,r);case 4:return o=e.sent,e.next=7,ol({roomId:n});case 7:return e.next=9,ke.dispatch(Qt({room:o.room,user:o.user}));case 9:return e.abrupt("return",{room:o.room,user:o.user});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ll=function(){var e=Object(H.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.roomId,e.next=3,An(On,{roomId:n});case 3:return a=e.sent,e.next=6,ke.dispatch(Zt({rooms:[{objectId:n}]}));case 6:return e.abrupt("return",{room:a.room});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ul=(n(71),function(e){var t=e.room,n=e.onChange,a=e.className,o=Object(c.c)((function(e){return Vi(e,{ids:t.participantIds})}));return r.a.createElement($n,{className:"WhisperItem ".concat(a||""),key:t.objectId,onClick:function(){var e=wt(ke.getState());if(!t.participantIds.some((function(t){return e.objectId===t||e.aliases.includes(t)}))){var a=W({toAuth:e,objectToAccess:t}),r=a.hasAccess,o=a.adminAccess;if(!r&&o)return void il({roomId:t.objectId}).then((function(){n({roomId:t.objectId,spyMode:t.spyMode})})).catch((function(e){return console.log(e)}))}n({roomId:t.objectId,spyMode:t.spyMode})}},o,t.spyMode&&r.a.createElement("div",{className:"spy"},r.a.createElement(nl,null)))}),sl=r.a.memo(ul,(function(e,t){var n=e.room,a=t.room;return e.className===t.className&&(!!Object.keys(a).every((function(e){return n[e]&&a[e]}))&&!!a.participantIds.every((function(e){return n.participantIds.includes(e)})))}));ul.defaultProps={className:void 0};var dl=function(e){var t=e.onChange,n=e.roomId,a=Object(c.c)((function(e){return Wi(e,{spyMode:!1})})).map((function(e){return r.a.createElement(sl,{key:e.objectId,room:e,onChange:t,className:"".concat(e.objectId===n?"selected":"")})}));return r.a.createElement(D,{dropdown:!0,checkWidth:!0,key:"whisperList",className:"WhisperList",title:"PM"},a)},ml=r.a.memo(dl);dl.defaultProps={roomId:void 0};var fl=function(e){var t=e.roomId,n=e.onChange,o=e.className,i=void 0===o?"":o,l=Object(c.c)((function(e){return Di(e,{id:t})})),u=Object(a.useCallback)((function(){return n({roomId:t})}),[t]);return r.a.createElement($n,{className:"FollowingItem ".concat(i),key:t,onClick:u},l.roomName)},pl=r.a.memo(fl);fl.defaultProps={className:""};var hl=r.a.memo((function(e){var t=e.onChange,n=e.roomId,a=Object(c.c)(Bi).map((function(e){return r.a.createElement(pl,{className:"".concat(e===n?"selected":""),key:e,roomId:e,onChange:t})}));return r.a.createElement(D,{dropdown:!0,checkWidth:!0,key:"followingList",className:"FollowingList",title:"Joined"},a)})),vl=function(e){var t=e.onChange,n=e.roomId,a=Object(c.c)((function(e){return Wi(e,{spyMode:!0})})).map((function(e){return r.a.createElement(sl,{key:e.objectId,room:e,onChange:t,className:"".concat(e.objectId===n?"selected":"")})}));return r.a.createElement(D,{dropdown:!0,checkWidth:!0,key:"whisperList",className:"WhisperList",title:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ii,null),r.a.createElement("span",null,"PM"))},a)},gl=r.a.memo(vl);vl.defaultProps={roomId:void 0};var yl=r.a.memo((function(e){var t=e.onChange,n=e.roomId,a=Object(c.c)(kt);return r.a.createElement(r.a.Fragment,null,r.a.createElement(hl,{roomId:n,key:"following",onChange:t}),a>=F.STANDARD&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ml,{roomId:n,key:"whisper",onChange:t}),r.a.createElement(Zi,{key:"room",onChange:t})),a>=F.MODERATOR&&r.a.createElement(gl,{roomId:n,key:"adminWhisper",onChange:t}),r.a.createElement(vi,{onDone:t,key:"user"}))}));function El(){return(El=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function bl(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ol=r.a.createElement("rect",{x:3,y:3,width:18,height:18,rx:2,ry:2}),wl=r.a.createElement("circle",{cx:8.5,cy:8.5,r:1.5}),jl=r.a.createElement("polyline",{points:"21 15 16 10 5 21"}),Il=function(e){var t=e.svgRef,n=e.title,a=bl(e,["svgRef","title"]);return r.a.createElement("svg",El({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-image",ref:t},a),n?r.a.createElement("title",null,n):null,Ol,wl,jl)},kl=r.a.forwardRef((function(e,t){return r.a.createElement(Il,El({svgRef:t},e))})),xl=(n.p,n(72),function(e){var t=e.useIcon,n=void 0!==t&&t,o=e.presetImage,c=Object(Kc.c)(),i=c.register,u=c.setValue,s=Object(a.useRef)(null),d=Object(a.useRef)(null),m=Object(a.useState)(o),f=Object(l.a)(m,2),p=f[0],h=f[1],v=Object(Kc.d)({name:"image"});Object(a.useEffect)((function(){i("image")}),[]),Object(a.useEffect)((function(){u("image",p||void 0)}),[p]),Object(a.useEffect)((function(){v?s.current&&s.current.scrollIntoView({behavior:"smooth",block:"nearest"}):h()}),[v]);return r.a.createElement("div",{className:"ImageUpload"},r.a.createElement("input",{key:"uploadInput",className:"hide",ref:d,type:"file",accept:"image/png, image/jpeg, image/pjpeg",onChange:function(e){var t=(e.target.files||[])[0];if(t){var n=new FileReader;n.addEventListener("load",(function(){if(n.result){var e={imageName:t.name,source:n.result};h(e)}})),n.readAsDataURL(t)}}}),r.a.createElement(Zc,{ref:s,onRemove:function(){return h()},className:"previewImage ".concat(p?"":"hide"),image:p?p.source:"",altText:"Image preview"}),r.a.createElement(g,{type:"button",onClick:function(){d.current.click()}},r.a.createElement(kl,null),!n&&r.a.createElement("span",null,p?"Change image":"Upload image")))}),Cl=r.a.memo(xl);function Nl(){return(Nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ll(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}xl.defaultProps={useIcon:!1,presetImage:void 0};var Sl=r.a.createElement("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),Rl=r.a.createElement("circle",{cx:12,cy:10,r:3}),Al=function(e){var t=e.svgRef,n=e.title,a=Ll(e,["svgRef","title"]);return r.a.createElement("svg",Nl({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-map-pin",ref:t},a),n?r.a.createElement("title",null,n):null,Sl,Rl)},Tl=r.a.forwardRef((function(e,t){return r.a.createElement(Al,Nl({svgRef:t},e))}));n.p;n.p;n.p;function Pl(){return(Pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ml(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Dl=r.a.createElement("path",{d:"M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"}),Fl=r.a.createElement("line",{x1:1,y1:1,x2:23,y2:23}),Wl=function(e){var t=e.svgRef,n=e.title,a=Ml(e,["svgRef","title"]);return r.a.createElement("svg",Pl({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-cloud-off",ref:t},a),n?r.a.createElement("title",null,n):null,Dl,Fl)},Gl=r.a.forwardRef((function(e,t){return r.a.createElement(Wl,Pl({svgRef:t},e))})),Bl=(n.p,n(73),n(74),function(e){var t=e.name,n=e.maxLength,o=e.onKeyDown,c=e.required,i=void 0!==c&&c,u=e.placeholder,s=void 0===u?"":u,d=Object(Kc.c)(),m=d.register,f=d.control,p=Object(Kc.d)({control:f,name:t}),h=Object(a.useState)(!1),v=Object(l.a)(h,2),g=v[0],y=v[1],E=Object(a.useState)(!1),b=Object(l.a)(E,2),O=b[0],w=b[1],j=Object(a.useRef)(null);Object(a.useEffect)((function(){!function(){if(j.current){var e=j.current;document.activeElement!==e||e.style.height&&e.scrollHeight.toString()===e.style.height.split("px")[0]||(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"),j.current.scrollIntoView({block:"nearest"}))}}()}),[p]);return r.a.createElement("textarea",{onKeyDown:o,rows:1,maxLength:n,required:i,name:t,ref:function(e){j.current=e,m(e,{maxLength:n})},defaultValue:"",className:"Textarea ".concat(O?"empty":""),onFocus:function(){return y(!0)},onBlur:function(e){var t=e.target.value.trim();g&&i&&w(""!==t)},placeholder:s})}),Hl=Bl;Bl.defaultProps={placeholder:"",required:!1,maxLength:void 0,onKeyDown:void 0};var Vl=function(e){var t=e.roomId,n=e.onSend,o=e.minAccessLevel,i=void 0===o?F.STANDARD:o,u=Object(a.useState)(!1),s=Object(l.a)(u,2),d=s[0],m=s[1],f=Object(Kc.b)(),p=Object(a.useRef)(null),h=Object(c.c)(Ue),v=Object(c.c)(kt),y=Object(c.c)(it);Object(c.c)(lt);return r.a.createElement("div",{className:"InputArea"},r.a.createElement(Kc.a,f,r.a.createElement("form",{onSubmit:f.handleSubmit((function(e){var a=e.text,r=e.image;m(!0),al({roomId:t,image:r,text:a}).then((function(e){var t=e.message,a=e.switchRoom;f.setValue("text",""),f.setValue("image",void 0),a&&n({roomId:t.roomId}),m(!1)})).catch((function(e){console.log("error",e),m(!1)}))}))},v>=i&&r.a.createElement("div",{key:"buttonBox",className:"buttonBox"},y.CHAT&&r.a.createElement(Cl,{useIcon:!0}),r.a.createElement(Zo,null)),r.a.createElement("div",{className:"input"},r.a.createElement(Hl,{key:"input",name:"text",onKeyDown:function(e){var t=e.key;e.altKey&&"Enter"===t&&p.current&&p.current.click()},placeholder:h?"Alt+Enter to send message":"Offline. Reconnecting to server..."}),r.a.createElement(g,{ref:p,disabled:!h||d,key:"send",type:"submit",className:"sendButton",onClick:function(){}},h?r.a.createElement("span",null,"Send"):r.a.createElement(Gl,null))))))},Ul=r.a.memo(Vl);Vl.defaultProps={minAccessLevel:F.STANDARD};var zl=function(e,t){var n=t.id;return e.messages.get(n)},Yl=function(e){return e.messages},ql=nt()([Yl,function(e,t){return t.roomId}],(function(e,t){return Object(ce.a)(e.values()).filter((function(e){return e.roomId===t}))}))((function(e,t){return t.roomId})),Jl=nt()([Yl],(function(e){return Object(ce.a)(e.values()).filter((function(e){return e.messageType===pe})).reverse()}))((function(){return"news"})),Kl=nt()([ql],(function(e){return e.map((function(e){return e.objectId}))}))((function(e,t){var n=t.roomId;return"id-".concat(n)})),Xl=nt()([Jl],(function(e){return e.map((function(e){return{objectId:e.objectId,points:e.points}}))}))({keySelector:function(){return"news-ids"},selectorCreator:Object(et.createSelectorCreator)(et.defaultMemoize,(function(e,t){return e.length===t.length&&t.every((function(t,n){var a=e[n];return a&&a.objectId===t.objectId}))}))}),Zl=(n(75),r.a.memo((function(e){var t=e.identityId,n=e.timeCreated,a=Object(c.c)((function(e){return Dt(e,{id:t})})).name,o=Object(c.c)(ht),i=Object(c.c)(pt),l=E({date:n,dayModification:o,yearModification:i});return r.a.createElement("p",{className:"MessageInfo"},r.a.createElement("span",{role:"button",tabIndex:0,className:"clickable username",onClick:function(e){a&&ke.dispatch(Be({windows:[{id:"".concat(Ee.DIALOGPROFILE,"-").concat(t),value:{identityId:t,type:Ee.DIALOGPROFILE}}]})),e.stopPropagation()}},a||"-"),r.a.createElement("span",{className:"time"},l.fullStamp))}))),Ql=(n(76),function(e){var t=e.previousMessageId,n=e.messageId,o=e.isLatest,i=void 0!==o&&o,l=e.selected,u=void 0!==l&&l,s=Object(a.useRef)(),d=Object(c.c)((function(e){return zl(e,{id:t})})),m=Object(c.c)((function(e){return zl(e,{id:n})})),f=W({objectToAccess:m,toAuth:wt(ke.getState())}).hasFullAccess;return r.a.createElement($n,{scrollTo:u||i,ref:s,className:"MessageItem ".concat(f?"clickable":""),key:n},!(!!d&&!(new Date(m.lastUpdated).getTime()-9e5>new Date(d.lastUpdated).getTime())&&(!(!d.ownerAliasId||!m.ownerAliasId||d.ownerAliasId!==m.ownerAliasId)||!d.ownerAliasId&&!m.ownerAliasId&&d.ownerId===m.ownerId))&&r.a.createElement(Zl,{key:"msgInfo",identityId:m.ownerAliasId||m.ownerId,timeCreated:m.customTimeCreated||m.timeCreated}),r.a.createElement("div",{className:"text"},m.text.map((function(e,t){return r.a.createElement("p",{key:t},e)})),m.image&&m.image.thumbFileName&&r.a.createElement(Zc,{scrollTo:!0,key:m.image.thumbFileName,image:"/upload/images/".concat(m.image.thumbFileName),altText:"pic",width:m.image.thumbWidth,height:m.image.thumbHeight,fullImage:"/upload/images/".concat(m.image.fileName),fullWidth:m.image.width,fullHeight:m.image.height})))}),$l=r.a.memo(Ql);Ql.defaultProps={previousMessageId:void 0,selected:!1,isLatest:!1};n(77);var _l=function(e){var t=e.roomId,n=e.messageId,o=Object(c.c)((function(e){return Kl(e,{roomId:t})})),i=Object(a.useRef)("");o[o.length-1]!==i&&(i.current=o[o.length-1]);var l=o.map((function(e,t,a){return r.a.createElement($l,{isLatest:e===i.current,selected:n&&n===e,key:e,previousMessageId:a[t-1],messageId:e})}));return r.a.createElement(D,{observe:"lower",key:"messageList",className:"MessageList"},l)},eu=r.a.memo(_l);_l.defaultProps={roomId:void 0,messageId:void 0};n(78);var tu=function(e){var t=e.roomId,n=e.onSend,a=e.messageId,o=Object(c.c)(kt);return r.a.createElement("div",{className:"Messages"},r.a.createElement("div",{className:"spacer"}),r.a.createElement(eu,{key:"messagesList",roomId:t,messageId:a}),o>=F.STANDARD&&r.a.createElement(Ul,{onSend:n,roomId:t,key:"inputArea"}))},nu=r.a.memo(tu);function au(){return(au=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ru(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}tu.defaultProps={roomId:void 0,messageId:void 0};var ou=r.a.createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}),cu=function(e){var t=e.svgRef,n=e.title,a=ru(e,["svgRef","title"]);return r.a.createElement("svg",au({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-minimize",ref:t},a),n?r.a.createElement("title",null,n):null,ou)},iu=r.a.forwardRef((function(e,t){return r.a.createElement(cu,au({svgRef:t},e))})),lu=(n.p,n(79),function(e){var t=e.id,n=e.children,a=e.onSettings,o=Object(c.c)(wt).systemConfig,i=void 0===o?{}:o;return r.a.createElement(D,{dropdown:!0,checkWidth:!0,className:"FileMenu",title:r.a.createElement(oa,null)},n,!i.hideTopRow&&r.a.createElement(r.a.Fragment,null,a&&r.a.createElement($n,{stopPropagation:!0,key:"settings",onClick:a},r.a.createElement(ya,null),r.a.createElement("span",null,"Preferences")),r.a.createElement($n,{stopPropagation:!0,key:"quit",onClick:function(){return ke.dispatch(He({id:t}))}},r.a.createElement(iu,null),r.a.createElement("span",null,"Minimize app"))))}),uu=r.a.memo(lu);function su(){return(su=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function du(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}lu.defaultProps={children:void 0,onSettings:void 0};var mu=r.a.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),fu=r.a.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}),pu=function(e){var t=e.svgRef,n=e.title,a=du(e,["svgRef","title"]);return r.a.createElement("svg",su({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-edit",ref:t},a),n?r.a.createElement("title",null,n):null,mu,fu)},hu=r.a.forwardRef((function(e,t){return r.a.createElement(pu,su({svgRef:t},e))})),vu=(n.p,function(e){var t=e.id,n=e.roomId,o=Object(c.c)(wt),i=Object(c.c)((function(e){return Di(e,{id:n})})),l=Object(a.useCallback)((function(){return ke.dispatch(Be({windows:[{id:Ee.DIALOGCREATEROOM,value:{type:Ee.DIALOGCREATEROOM}}]}))}),[]),u=W({objectToAccess:i,toAuth:o}).hasFullAccess;return r.a.createElement(uu,{key:"fileMenu",id:t},r.a.createElement($n,{stopPropagation:!0,key:"createRoom",onClick:l},r.a.createElement(Fa,null),"New room"),!o.isAnonymous&&r.a.createElement($n,{stopPropagation:!0,key:"configRoom",onClick:function(){}},r.a.createElement(hu,null),"Manage room"),i&&!i.isWhisper&&!i.isUser&&!i.isSystemRoom&&!i.isTeam&&r.a.createElement($n,{key:"leaveRoom",onClick:function(){}},r.a.createElement(ma,null),"Leave room"),u&&i&&!i.isWhisper&&!i.isUser&&!i.isSystemRoom&&!i.isTeam&&r.a.createElement($n,{stopPropagation:!0,key:"removeRoom",onClick:function(){return ke.dispatch(Be({windows:[{id:Ee.DIALOGREMOVEROOM,value:{type:Ee.DIALOGREMOVEROOM,roomId:n}}]}))}},"Delete room"))}),gu=(n(80),function(e){var t=e.id,n=e.index,o=e.roomId,i=e.messageId,u=Object(a.useState)(o||ct(ke.getState())),s=Object(l.a)(u,2),d=s[0],m=s[1],f=Object(c.c)((function(e){return Di(e,{id:d})})),p=Object(c.c)(jt);Object(a.useEffect)((function(){!p&&f||d===ct(ke.getState())||m(ct(ke.getState()))}),[f,p]),Object(a.useEffect)((function(){o&&d!==o&&m(o)}),[o]);var h=function(){if(!f)return"Chat";if(f.isUser){var e=Pt(ke.getState(),{id:d});return"PM: ".concat(e.aliasName||e.username)}return f.isWhisper?"PM: ".concat(Vi(ke.getState(),{ids:f.participantIds})):"Chat: ".concat(f.roomName)}(),v=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.roomId;m(t)}),[]),g=Object(a.useCallback)((function(){ke.dispatch(Be({windows:[{id:t,value:{type:Ee.CHAT}}]}))}),[]),y=Object(a.useCallback)((function(){return ke.dispatch(He({id:t}))}),[t]);return r.a.createElement(kc,{id:t,index:n,done:y,className:"Chat",title:h,onClick:g,menu:r.a.createElement(r.a.Fragment,null,r.a.createElement(vu,{roomId:d,id:t}),r.a.createElement(yl,{roomId:d,key:"rooms",onChange:v})),help:r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement(Ua,null),r.a.createElement("span",null,"CHAT APP Read and send messages, to users or rooms.")),r.a.createElement("p",null,"You can only read the Public chat without logging in."),r.a.createElement("p",null,"Menus are on the left (or top in smaller windows). Messages from the current room are to the right (or below)."),r.a.createElement("p",null,"Your current room is shown in the title (CHAT: public) and in JOINED.")),r.a.createElement("li",null,r.a.createElement("p",null,"SEND The message input is shown on the bottom when you are logged in. You can send the message with either alt+Enter or clicking Send."),r.a.createElement("p",null,r.a.createElement(kl,null),r.a.createElement("span",null,"IMAGE Attach an image. You can send a message with just an image.")),r.a.createElement("p",null,r.a.createElement(Ia,null),r.a.createElement("span",null,"YOU Your name. Click it to switch identities."))),r.a.createElement("li",null,r.a.createElement("p",null,"FILE You can create a room, change settings (like changing password or name) or remove the room you are in."),r.a.createElement("p",null,"JOINED Shows you the rooms you joined. Click one to switch to it."),r.a.createElement("p",null,"PM All private conversations are shown here. It always shows your name on the left."),r.a.createElement("p",null,r.a.createElement("span",null,"ROOMS All available rooms that you haven't joined yet."),r.a.createElement(Ki,null),r.a.createElement("span",null," means that the room is password-protected.")),r.a.createElement("p",null,r.a.createElement("span",null,"USERS All users. Send a private message to a user by clicking them and choosing "),r.a.createElement(Ua,null),r.a.createElement("span",null," in the pop-up."))),r.a.createElement("li",null,r.a.createElement(ya,null),r.a.createElement("span",null,"APP SETTINGS Change settings for this app. You have to be logged in to access it.")),r.a.createElement("li",null,r.a.createElement(cc,null),r.a.createElement("span",null,"MAXIMIZE Make the window expand and take up all available space. Clicking it again will shrink the window.")),r.a.createElement("li",null,r.a.createElement(bc,null),r.a.createElement("span",null,"CLOSE Close the window")))},r.a.createElement(nu,{key:"messages",messageId:i,roomId:d,onSend:v}))}),yu=r.a.memo(gu);gu.defaultProps={roomId:void 0,messageId:void 0};n(81);var Eu=function(e){var t=e.children,n=e.title,a=e.error,o=e.text,c=e.done,i=e.onClick,l=e.index,u=e.id,s=e.buttons,d=e.className,m=void 0===d?"":d;return r.a.createElement(kc,{id:u,index:l,type:"dialog",done:c,title:n,className:"Dialog ".concat(m),onClick:i},a&&r.a.createElement("div",{className:"error"},r.a.createElement("span",null,a.message)),o&&r.a.createElement("div",null,o),r.a.createElement("div",{className:"contentContainer"},t),s.length>0&&r.a.createElement("div",{className:"buttons"},r.a.createElement(g,{stopPropagation:!0,type:"button",onClick:function(){return ke.dispatch(He({id:u}))}},"Cancel"),s))},bu=r.a.memo(Eu);Eu.defaultProps={children:void 0,error:void 0,title:void 0,text:void 0,className:"",buttons:void 0};var Ou=r.a.memo((function(e){var t=e.id,n=e.index,a=Object(Kc.b)(),o=function(e){var n=e.roomName,a=e.password,r=e.topic;cl({room:{roomName:n,password:a,topic:r}}).then((function(e){var n=e.room;Object(c.b)((function(){ke.dispatch(Be({windows:[{id:Ee.CHAT,value:{type:Ee.CHAT,roomId:n.objectId}}]})),ke.dispatch(He({id:t}))}))})).catch((function(e){return console.log(e)}))};return a.errors.repeatPassword&&a.setValue("repeatPassword",""),r.a.createElement(bu,{id:t,index:n,className:"CreateRoomDialog",onClick:function(){ke.dispatch(Be({windows:[{id:t,value:{type:Ee.DIALOGCREATEROOM}}]}))},done:function(){return ke.dispatch(He({id:t}))},title:"New room",buttons:[r.a.createElement(g,{type:"submit",onClick:function(){return a.handleSubmit(o)()}},"Create")]},r.a.createElement(Kc.a,a,r.a.createElement("form",{onSubmit:a.handleSubmit(o)},r.a.createElement("div",{className:"identity"},r.a.createElement("span",null,"You are: "),r.a.createElement(Zo,null)),r.a.createElement(oi,{required:!0,maxLength:20,name:"roomName",placeholder:"Name of the room"}),r.a.createElement(oi,{maxLength:300,name:"topic",placeholder:"(opt) Topic (shown when joining the room)"}),r.a.createElement(oi,{minLength:4,maxLength:100,name:"password",type:"password",placeholder:"(opt) Password"}),r.a.createElement(oi,{minLength:4,maxLength:100,shouldEqual:"password",name:"repeatPassword",type:"password",placeholder:"".concat(a.errors.repeatPassword?"Error. Passwords must match!":"(opt) Repeat password")}))))})),wu=r.a.memo((function(e){var t=e.id,n=e.roomId,o=e.index,i=Object(a.useState)(),u=Object(l.a)(i,2),s=u[0],d=u[1],m=Object(c.c)((function(e){return Di(e,{id:n})}));return r.a.createElement(bu,{id:t,index:o,className:"RemoveRoomDialog",error:s,onClick:function(){ke.dispatch(Be({windows:[{id:t,value:{type:Ee.DIALOGREMOVEROOM,roomId:n}}]}))},done:function(){return ke.dispatch(He({id:t}))},title:"Delete room ".concat(m?m.roomName:""),text:"Are you sure you want to delete ".concat(m?m.roomName:"","?"),buttons:[r.a.createElement(g,{type:"submit",onClick:function(){ll({roomId:n}).then((function(){Object(c.b)((function(){ke.dispatch(Be({windows:[{id:Ee.CHAT,value:{type:Ee.CHAT}}]})),ke.dispatch(He({id:t}))}))})).catch((function(e){return d(e)}))}},"Yes")]})})),ju=r.a.memo((function(e){var t=e.id,n=e.index,o=Object(Kc.b)(),c=Object(a.useState)(),i=Object(l.a)(c,2),u=i[0],s=i[1],d=function(){var e=Object(H.a)(B.a.mark((function e(n){var a,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.username,r=n.password,Xn(a,r).then((function(){ke.dispatch(He({id:t}))})).catch((function(e){s(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=Object(a.useCallback)((function(){ke.dispatch(Be({windows:[{id:t,value:{type:Ee.DIALOGLOGIN}}]}))}),[t]),f=Object(a.useCallback)((function(){return o.handleSubmit(d)()}),[]),p=Object(a.useCallback)((function(){return ke.dispatch(He({id:t}))}),[t]);return r.a.createElement(bu,{id:t,index:n,className:"LoginDialog",onClick:m,done:p,error:u,title:"Login",buttons:[r.a.createElement(g,{key:"submit",type:"submit",onClick:f},"Login")]},r.a.createElement(Kc.a,o,r.a.createElement("form",{onSubmit:o.handleSubmit(d)},r.a.createElement(oi,{name:"username",placeholder:"Username"}),r.a.createElement(oi,{name:"password",placeholder:"Password",type:"password"}))))})),Iu=(n(82),function(e){var t=e.onChange,n=e.children,o=e.name,c=e.defaultValue,i=e.required,u=void 0!==i&&i,s=e.placeholder,d=void 0===s?"":s,m=e.multiple,f=void 0!==m&&m,p=Object(Kc.c)(),h=p.register,v=p.unregister,g=Object(a.useState)(!1),y=Object(l.a)(g,2),E=y[0],b=y[1],O=Object(a.useState)(!1),w=Object(l.a)(O,2),j=w[0],I=w[1],k=function(e){var t=Array.from(e.target.selectedOptions).filter((function(e){return""!==e.value}));E&&u&&I(0===t.length)};return Object(a.useEffect)((function(){return function(){return v(o)}}),[]),r.a.createElement("select",{defaultValue:c,required:u,name:o,ref:h,className:"Select ".concat(j?"empty":""),onFocus:function(){return b(!0)},onBlur:k,onChange:function(e){k(e),t&&t(Array.from(e.target.selectedOptions).map((function(e){return e.value})).filter((function(e){return""!==e})))},placeholder:d,multiple:f},n)}),ku=Iu;Iu.defaultProps={multiple:!1,children:void 0,placeholder:"",required:!1,onChange:void 0,defaultValue:void 0};var xu={they:"They/Them",she:"She/Her",he:"He/Him",it:"It"},Cu=function(e){var t=e.preselected;return r.a.createElement(ku,{multiple:!0,required:!0,defaultValue:t,name:"pronouns"},r.a.createElement("option",{value:""},"---Choose pronouns---"),r.a.createElement("option",{value:"they"},"They/Them"),r.a.createElement("option",{value:"she"},"She/Her"),r.a.createElement("option",{value:"he"},"He/Him"),r.a.createElement("option",{value:"it"},"It"))},Nu=r.a.memo((function(e){var t=e.id,n=e.index,o=Object(Kc.b)(),i=Object(a.useState)(),u=Object(l.a)(i,2),s=u[0],d=u[1],m=Object(c.c)(ot),f=function(){var e=Object(H.a)(B.a.mark((function e(n){var a,r,o,c,i,l,u,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.offName,r=n.username,o=n.password,c=n.repeatPassword,i=n.pronouns,l=n.description,u=n.image,(!m||a)&&r&&o&&c&&i){e.next=3;break}return e.abrupt("return");case 3:if(o===c){e.next=5;break}return e.abrupt("return");case 5:return s={image:u,user:{offName:a,username:r,password:o,pronouns:i,description:l?l.split("\n"):void 0}},e.prev=6,e.next=9,Pn(s);case 9:return e.next=11,Xn(r,o);case 11:ke.dispatch(He({id:t})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),d(e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),p=Object(a.useCallback)((function(){ke.dispatch(Be({windows:[{id:t,value:{type:Ee.DIALOGREGISTER}}]}))}),[t]),h=Object(a.useCallback)((function(){return ke.dispatch(He({id:t}))}),[t]),v=Object(a.useCallback)((function(){return o.handleSubmit(f)()}),[]);return r.a.createElement(bu,{id:t,index:n,error:s,onClick:p,done:h,title:"Register user",buttons:[r.a.createElement(g,{key:"submit",type:"submit",onClick:v},"Register")]},r.a.createElement(Kc.a,o,r.a.createElement("form",{onSubmit:o.handleSubmit(f)},m&&r.a.createElement(oi,{required:!0,key:"offName",maxLength:100,name:"offName",placeholder:"Out-of-game name"}),r.a.createElement(oi,{required:!0,key:"username",maxLength:30,name:"username",placeholder:"Username"}),r.a.createElement(Cu,{key:"pronouns"}),r.a.createElement(oi,{required:!0,key:"password",minLength:4,maxLength:100,name:"password",placeholder:"Password",type:"password"}),r.a.createElement(oi,{required:!0,key:"repeatPassword",minLength:4,maxLength:100,shouldEqual:"password",name:"repeatPassword",placeholder:"Repeat password",type:"password"}),r.a.createElement(Hl,{key:"description",maxLength:300,name:"description",placeholder:"Description"}),r.a.createElement(Cl,{key:"imageUpload"}))))})),Lu=function(){var e=Object(H.a)(B.a.mark((function e(t){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An(fn,t);case 2:return n=e.sent,e.next=5,ke.dispatch(rn(n));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Su=function(){var e=Object(H.a)(B.a.mark((function e(t){var n,a,r,o,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.aliasId,a=t.alias,r=t.image,o=t.resetImage,e.next=3,An(In,{aliasId:n,alias:a,image:r,options:{resetImage:o}});case 3:return c=e.sent,console.log(c),e.next=7,ke.dispatch(nn({aliases:[c.alias]}));case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ru=r.a.memo((function(e){var t=e.id,n=e.index,o=Object(Kc.b)(),c=Object(a.useState)(),i=Object(l.a)(c,2),u=i[0],s=(i[1],function(){var e=Object(H.a)(B.a.mark((function e(n){var a,r,o,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.aliasName,r=n.pronouns,o=n.description,c={image:u,alias:{aliasName:a,pronouns:r,description:o?o.split("\n"):void 0}},Lu(c).then((function(){return ke.dispatch(He({id:t}))})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=Object(a.useCallback)((function(){ke.dispatch(Be({windows:[{id:t,value:{type:Ee.DIALOGCREATEALIAS}}]}))}),[t]),m=Object(a.useCallback)((function(){return ke.dispatch(He({id:t}))}),[t]),f=Object(a.useCallback)((function(){return o.handleSubmit(s)()}),[]);return r.a.createElement(bu,{id:t,index:n,title:"New alias",onClick:d,done:m,buttons:[r.a.createElement(g,{stopPropagation:!0,key:"submit",type:"submit",onClick:f},"Create")]},r.a.createElement(Kc.a,o,r.a.createElement("form",{onSubmit:o.handleSubmit(s)},r.a.createElement(oi,{required:!0,maxLength:30,name:"aliasName",placeholder:"Alias name"}),r.a.createElement(ku,{multiple:!0,required:!0,name:"pronouns"},r.a.createElement("option",{value:""},"---Choose pronouns---"),r.a.createElement("option",{value:"they"},"They/Them"),r.a.createElement("option",{value:"she"},"She/Her"),r.a.createElement("option",{value:"he"},"He/Him"),r.a.createElement("option",{value:"it"},"It")),r.a.createElement(Cl,null),r.a.createElement(Hl,{maxLength:300,name:"description",placeholder:"Description"}))))})),Au=function(){var e=Object(H.a)(B.a.mark((function e(t){var n,a,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.transaction,a=Object(oe.a)(Object(oe.a)({},n),{},{ownerAliasId:Ye(ke.getState())||void 0}),e.next=4,An(yn,{transaction:a});case 4:return r=e.sent,e.next=7,ke.dispatch(Qe(r));case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tu=function(e){var t=e.id,n=e.toWalletId,o=e.amount,i=e.index,l=Object(Kc.b)(),u=Object(c.c)(Je),s=Object(c.c)(Jc),d=Object(c.c)((function(e){return Tt(e,{ids:s})})),m=Object(c.c)((function(e){return Ft(e,{id:n})})),f=[],p=function(){var e=Object(H.a)(B.a.mark((function e(a){var r,o,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.note,o=a.fromWalletId,c=a.amount,Au({transaction:{note:r,fromWalletId:o,toWalletId:n,amount:c}}).then((function(){return ke.dispatch(He({id:t}))})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();d.forEach((function(e){f.push(r.a.createElement("option",{key:e.objectId,value:e.objectId},e.teamName||e.aliasName||e.username))}));var h=Object(a.useCallback)((function(){ke.dispatch(Be({windows:[{id:t,value:{type:Ee.DIALOGCREATETRANSACTION,toWalletId:n}}]}))}),[t,n]),v=Object(a.useCallback)((function(){return ke.dispatch(He({id:t}))}),[t]),y=Object(a.useCallback)((function(){return l.handleSubmit(p)()}),[]);return r.a.createElement(bu,{id:t,index:i,title:"Transfer to ".concat(m.teamName||m.aliasName||m.username),onClick:h,done:v,buttons:[r.a.createElement(g,{stopPropagation:!0,key:"submit",type:"submit",onClick:y},"Transfer")]},r.a.createElement(Kc.a,l,r.a.createElement("form",{onSubmit:l.handleSubmit(p)},r.a.createElement("p",null,"You are making a transfer to ".concat(m.teamName||m.aliasName||m.username)),r.a.createElement("div",null,r.a.createElement("span",null,"From your wallet: "),r.a.createElement(ku,{required:!0,defaultValue:u,name:"fromWalletId"},r.a.createElement("option",{value:""},"---Choose wallet---"),r.a.createElement(r.a.Fragment,null,f))),r.a.createElement(oi,{required:!0,defaultValue:o,name:"amount",placeholder:"Amount"}),r.a.createElement(oi,{maxLength:50,name:"note",placeholder:"Note"}))))},Pu=r.a.memo(Tu);Tu.defaultProps={amount:void 0};var Mu=function(){var e=Object(H.a)(B.a.mark((function e(t){var n,a,r,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docFile,a=t.images,r=Object(oe.a)(Object(oe.a)({},n),{},{code:""!==n.code?n.code:void 0,ownerAliasId:Ye(ke.getState())||void 0,text:n.text.split("\n")}),e.next=4,An(gn,{docFile:r,images:a});case 4:return o=e.sent,e.next=7,ke.dispatch(sn({docFiles:[o.docFile]}));case 7:return e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Du=function(){var e=Object(H.a)(B.a.mark((function e(t){var n,a,r,o,c,i,l,u,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.docFileId,a=t.code,r={docFileId:n,code:a,aliasId:Ye(ke.getState())||void 0},o=wt(ke.getState()),c=Dn(ke.getState(),{id:n}),!o.isAnonymous||!c.isPublic){e.next=6;break}return e.abrupt("return",{docFile:c});case 6:if(i=W({toAuth:o,objectToAccess:Object(oe.a)(Object(oe.a)({},c),{},{isPublic:!1})}),l=i.hasAccess,u=i.adminAccess,!l||u){e.next=9;break}return e.abrupt("return",{docFile:c});case 9:return e.next=11,An(wn,r);case 11:return s=e.sent,e.next=14,ke.dispatch(un({docFiles:[s.docFile]}));case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fu=(n(83),r.a.memo((function(e){var t,n=e.docFileId,a=Object(c.c)((function(e){return Dn(e,{id:n})})),o=Object(c.c)(kt),i=Object(c.c)((function(e){return Mt(e,{id:a.ownerAliasId||a.ownerId})})),l=Object(c.c)((function(e){return Dt(e,{id:a.ownerAliasId||a.ownerId})})).name;return t=a.isLocked?r.a.createElement(Ki,null):a.images&&a.images[0]?r.a.createElement(Zc,{image:"/upload/images/".concat(a.images[0].thumbFileName)}):r.a.createElement(dr,null),r.a.createElement($n,{stopPropagation:!0,elementId:"docFile-".concat(n),className:"DocFileItem",key:a.objectId,onClick:function(){a.isLocked&&o<F.ADMIN?ke.dispatch(Be({windows:[{id:"".concat(Ee.DIALOGUNLOCKFILE,"-").concat(n),value:{docFileId:n,type:Ee.DIALOGUNLOCKFILE}}]})):Du({docFileId:n}).then((function(){return ke.dispatch(Be({windows:[{id:"".concat(Ee.DOCFILEVIEW,"-").concat(n),value:{docFileId:n,type:Ee.DOCFILEVIEW}}]}))})).catch((function(e){return console.log(e)}))}},r.a.createElement("div",{className:"icon"},t),r.a.createElement("span",{className:"title"},a.title),r.a.createElement("span",{className:"by icon"},i?r.a.createElement(Zc,{image:"/upload/images/".concat(i.thumbFileName)}):"".concat(l.slice(0,4))))})));function Wu(){return(Wu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Gu(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Bu=r.a.createElement("polyline",{points:"6 9 12 15 18 9"}),Hu=function(e){var t=e.svgRef,n=e.title,a=Gu(e,["svgRef","title"]);return r.a.createElement("svg",Wu({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-down",ref:t},a),n?r.a.createElement("title",null,n):null,Bu)},Vu=r.a.forwardRef((function(e,t){return r.a.createElement(Hu,Wu({svgRef:t},e))})),Uu=(n.p,n(84),"title"),zu="creator",Yu="type",qu=r.a.memo((function(){var e=Object(a.useRef)(),t=Object(Kc.b)(),n=Object(Kc.d)({control:t.control,name:"search"}),o=Object(c.c)(Fn),i=Object(a.useState)(Uu),u=Object(l.a)(i,2),s=u[0],d=u[1],m=function(){var e=o.sort((function(e,t){var n,a;return s===Uu?(n=e.title.toLowerCase(),a=t.title.toLowerCase()):s===zu?(n=Dt(ke.getState(),{id:e.ownerAliasId||e.ownerId}).name,a=Dt(ke.getState(),{id:t.ownerAliasId||t.ownerId}).name):s===Yu&&(n=e.isLocked?1:0,a=t.isLocked?1:0),n>a?1:n<a?-1:0}));return n&&n.length>0&&(e=e.filter((function(e){var t=Dt(ke.getState(),{id:e.ownerAliasId||e.ownerId}).name,a=n.toLowerCase();return e.title.toLowerCase().includes(a)||(e.tags||[]).includes(a)||t.toLowerCase().includes(a)}))),e.map((function(e){var t=e.objectId;return r.a.createElement(Fu,{key:t,docFileId:t})}))}();return r.a.createElement(D,{alwaysExpanded:!0,className:"DocFileList",ref:e},r.a.createElement(pi,{onSubmit:function(){if(0===m.length)t.reset();else if(1===m.length){var n=e.current.querySelector("#docFile-".concat(m[0].key));n&&(n.click(),t.reset())}},formMethods:t,placeholder:"Search by tile/tags/author"}),r.a.createElement($n,{className:"DocFileItem header"},r.a.createElement("div",{className:"icon clickable",onClick:function(){return d(Yu)}},"#",s===Yu&&r.a.createElement(Vu,null)),r.a.createElement("span",{className:"title clickable",onClick:function(){return d(Uu)}},"Title",s===Uu&&r.a.createElement(Vu,null)),r.a.createElement("span",{className:"by icon clickable",onClick:function(){return d(zu)}},"By",s===zu&&r.a.createElement(Vu,null))),m)})),Ju=(n(25),r.a.memo((function(e){var t=e.id,n=e.index,o=Object(a.useCallback)((function(){ke.dispatch(Be({windows:[{id:t,value:{type:Ee.DOCFILEDIR}}]}))}),[]),c=Object(a.useCallback)((function(){return ke.dispatch(He({id:t}))}),[t]),i=Object(a.useCallback)((function(){return ke.dispatch(Be({windows:[{id:Ee.DIALOGCREATEDOCFILE,value:{type:Ee.DIALOGCREATEDOCFILE}}]}))}));return r.a.createElement(kc,{id:t,index:n,done:c,className:"DocFileDir",title:"Files",onClick:o,menu:r.a.createElement(r.a.Fragment,null,r.a.createElement(uu,{id:t},r.a.createElement($n,{stopPropagation:!0,onClick:i,key:"createDocFile"},r.a.createElement(Fa,null),r.a.createElement("span",null,"New document"))))},r.a.createElement(qu,null))}))),Ku=(n(85),r.a.memo((function(e){var t=e.id,n=e.index,a=Object(Kc.b)(),o=function(){var e=Object(H.a)(B.a.mark((function e(n){var a,r,o,c,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.title,r=n.text,o=n.code,c=n.isPublic,i=n.image,Mu({images:i?[i]:void 0,docFile:{title:a,text:r,code:o,isPublic:c}}).then((function(){return ke.dispatch(He({id:t}))})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(bu,{id:t,index:n,className:"CreateDocFileDialog",title:"New document",onClick:function(){ke.dispatch(Be({windows:[{id:t,value:{type:Ee.DIALOGCREATEDOCFILE}}]}))},done:function(){return ke.dispatch(He({id:t}))},buttons:[r.a.createElement(g,{stopPropagation:!0,key:"submit",type:"submit",onClick:function(){return a.handleSubmit(o)()}},"Create")]},r.a.createElement(Kc.a,a,r.a.createElement("form",{onSubmit:a.handleSubmit(o)},r.a.createElement("div",{className:"identity"},r.a.createElement("span",null,"You are:"),r.a.createElement(Zo,null)),r.a.createElement("div",{className:"public"},r.a.createElement(oi,{type:"checkbox",name:"isPublic"}),r.a.createElement("span",null,"Do you want it to be available to the public? (A user with the right code can always access the document)")),r.a.createElement(oi,{required:!0,maxLength:40,name:"title",placeholder:"Title"}),r.a.createElement(oi,{minLength:3,maxLength:10,name:"code",placeholder:"Code"}),r.a.createElement(Hl,{required:!0,maxLength:3500,name:"text",placeholder:"Text"}),r.a.createElement(Cl,null))))})));function Xu(){return(Xu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Zu(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Qu=r.a.createElement("line",{x1:5,y1:12,x2:19,y2:12}),$u=r.a.createElement("polyline",{points:"12 5 19 12 12 19"}),_u=function(e){var t=e.svgRef,n=e.title,a=Zu(e,["svgRef","title"]);return r.a.createElement("svg",Xu({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-right",ref:t},a),n?r.a.createElement("title",null,n):null,Qu,$u)},es=r.a.forwardRef((function(e,t){return r.a.createElement(_u,Xu({svgRef:t},e))})),ts=(n.p,n(86),r.a.memo((function(e){var t=e.messageId,n=Object(c.c)((function(e){return zl(e,{id:t})}));return r.a.createElement($n,{className:"DashNewsItem",key:n.objectId,onClick:function(){return ke.dispatch(Be({windows:[{id:Ee.NEWS,value:{type:Ee.NEWS,messageId:n.objectId}}]}))}},r.a.createElement("p",null,n.text[0],r.a.createElement(es,null)))}))),ns=(n(87),r.a.memo((function(){var e=Object(c.c)(Je),t=Object(c.c)(jt),n=Object(c.c)((function(t){return Dt(t,{id:e})})).name,a=Object(c.c)((function(t){return Yc(t,{id:e})})),o=Object(c.c)(Xl),i=Object(c.c)(Jo),l=Object(c.c)(ht),u=Object(c.c)(pt),s=E({date:new Date,dayModification:l,yearModification:u}),d=function(){return o&&0!==o.length?o.sort((function(e,t){var n=e.points,a=t.points;return n>a?-1:n<a?1:0})).slice(0,5).map((function(e){return r.a.createElement(ts,{key:e.objectId,messageId:e.objectId})})):[r.a.createElement($n,{key:"noNews"},"There are no news.")]};return r.a.createElement("div",{className:"Dashboard"},i&&r.a.createElement("div",{className:"nav"},r.a.createElement(Wa,null),r.a.createElement(jo,null),r.a.createElement(b,null)),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Welcome!"),r.a.createElement("p",null,s.fullDate),r.a.createElement(D,{alwaysExpanded:!0,title:"Top News",className:"news"},d())),!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Welcome, ".concat(n,"!")),r.a.createElement("p",null,"Today's date is ".concat(s.fullDate)),a&&r.a.createElement("p",null,"You have ".concat(a.amount," in your wallet.")),r.a.createElement(D,{alwaysExpanded:!0,title:"News",className:"news"},d())))})));function as(){return(as=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function rs(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var os=r.a.createElement("polyline",{points:"18 15 12 9 6 15"}),cs=function(e){var t=e.svgRef,n=e.title,a=rs(e,["svgRef","title"]);return r.a.createElement("svg",as({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-up",ref:t},a),n?r.a.createElement("title",null,n):null,os)},is=r.a.forwardRef((function(e,t){return r.a.createElement(cs,as({svgRef:t},e))})),ls=(n.p,n(88),function(e){var t=e.messageId,n=e.expand,o=void 0!==n&&n,i=e.className,u=void 0===i?"":i,s=Object(a.useRef)(),d=Object(a.useState)(!1),m=Object(l.a)(d,2),f=m[0],p=m[1],h=Object(c.c)((function(e){return zl(e,{id:t})})),v=Object(c.c)((function(e){return Dt(e,{id:h.ownerAliasId||h.ownerId})})).name,g=Object(c.c)(ht),y=Object(c.c)(pt),b=E({date:h.customTimeCreated||h.timeCreated,dayModification:g,yearModification:y});return Object(a.useEffect)((function(){p(o)}),[o]),r.a.createElement($n,{scrollTo:f,ref:s,elementId:"news-".concat(t),onClick:function(){return p(!f)},className:"NewsItem ".concat(f?"expanded":""," ").concat(u)},r.a.createElement("div",{className:"title"},r.a.createElement("p",null,h.text[0]),r.a.createElement("p",{className:"info"},r.a.createElement("span",null,"".concat(b.halfDate," "),b.halfTime),r.a.createElement("span",null," By: ".concat(v)),!f&&r.a.createElement(Vu,null),f&&r.a.createElement(is,null))),f&&r.a.createElement("div",{className:"newsContent"},h.image&&h.image.thumbFileName&&r.a.createElement(Zc,{image:"/upload/images/".concat(h.image.thumbFileName),fullImage:"/upload/images/".concat(h.image.fileName),altText:"pic",width:h.image.thumbWidth,height:h.image.thumbHeight,fullWidth:h.image.width,fullHeight:h.image.height}),r.a.createElement("div",{className:"text"},h.text.slice(1).map((function(e,t){return r.a.createElement("p",{key:t},e)})))))}),us=r.a.memo(ls);ls.defaultProps={className:"",expand:!1};n(89);var ss=function(e){var t=e.messageId,n=Object(a.useRef)(null),o=Object(c.c)(Xl);return r.a.createElement(D,{observe:"upper",ref:n,className:"NewsList"},0===o.length&&[r.a.createElement($n,{key:"noNews"},r.a.createElement("p",null,"There are no news"))],Object(ce.a)(o).filter((function(e){return e.points&&e.points>0})).sort((function(e,t){var n=e.points,a=t.points;return n>a?-1:n<a?1:0})).slice(0,3).map((function(e){return r.a.createElement(us,{key:"top-".concat(e.objectId),messageId:e.objectId,className:"topNews"})})).concat(Object(ce.a)(o).map((function(e){return r.a.createElement(us,{expand:e.objectId===t,key:e.objectId,messageId:e.objectId})}))))},ds=r.a.memo(ss);ss.defaultProps={messageId:void 0};n(90);var ms=function(e){var t=e.id,n=e.messageId,o=e.index,i=Object(c.c)((function(e){return Di(e,{id:st(e)})})),l=Object(a.useCallback)((function(){ke.dispatch(Be({windows:[{id:t,value:{type:Ee.NEWS,messageId:n}}]}))}),[n]),u=Object(a.useCallback)((function(){return ke.dispatch(He({id:t}))}),[t]),s=Object(a.useCallback)((function(){return ke.dispatch(Be({windows:[{id:Ee.DIALOGCREATENEWS,value:{type:Ee.DIALOGCREATENEWS}}]}))}),[]),d=Object(a.useCallback)((function(){ke.dispatch(Be({windows:[{id:Ee.DIALOGSETTINGSNEWS,value:{type:Ee.DIALOGSETTINGSNEWS}}]}))}),[t]);return r.a.createElement(kc,{id:t,index:o,done:u,className:"News",title:"News",onClick:l,menu:r.a.createElement(r.a.Fragment,null,r.a.createElement(uu,{key:"fileMenu",id:t,onSettings:d},i&&r.a.createElement($n,{stopPropagation:!0,key:"createNews",onClick:s},r.a.createElement(Fa,null),r.a.createElement("span",null,"New article"))))},r.a.createElement(ds,{messageId:n}))},fs=r.a.memo(ms);ms.defaultProps={messageId:void 0};var ps=r.a.memo((function(e){var t=e.id,n=e.index,o=Object(c.c)(dt),i=Object(c.c)(Je),u=Object(c.c)((function(e){return Yc(e,{id:i})})),s=Object(Kc.b)(),d=Object(a.useState)(),m=Object(l.a)(d,2),f=m[0],p=(m[1],function(e){var n=e.title,a=e.text,r=e.image;rl({title:n,text:a,image:r}).then((function(e){var n=e.message;Object(c.b)((function(){ke.dispatch(Be({windows:[{id:Ee.NEWS,value:{type:Ee.NEWS,messageId:n.objectId}}]})),ke.dispatch(He({id:t}))}))})).catch((function(e){return console.log(e)}))});return r.a.createElement(bu,{id:t,index:n,className:"CreateNewsDialog",onClick:function(){ke.dispatch(Be({windows:[{id:t,value:{type:Ee.DIALOGCREATENEWS}}]}))},done:function(){return ke.dispatch(He({id:t}))},error:f,title:"New article",buttons:[r.a.createElement(g,{key:"submit",type:"submit",onClick:function(){return s.handleSubmit(p)()}},"Create")]},r.a.createElement(Kc.a,s,r.a.createElement("form",{onSubmit:s.handleSubmit(p)},r.a.createElement("div",{className:"identity"},r.a.createElement("span",null,"You are:"),r.a.createElement(Zo,null)),r.a.createElement("div",null,r.a.createElement("p",null,"The article fee is: ".concat(o)),r.a.createElement("p",null,"You have ".concat(u.amount," in your wallet"))),r.a.createElement(oi,{required:!0,maxLength:200,name:"title",placeholder:"Title"}),r.a.createElement(Cl,null),r.a.createElement(Hl,{required:!0,maxLength:800,name:"text",placeholder:"Text"}))))}));function hs(){return(hs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function vs(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var gs=r.a.createElement("rect",{x:3,y:11,width:18,height:11,rx:2,ry:2}),ys=r.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"}),Es=function(e){var t=e.svgRef,n=e.title,a=vs(e,["svgRef","title"]);return r.a.createElement("svg",hs({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-unlock",ref:t},a),n?r.a.createElement("title",null,n):null,gs,ys)},bs=r.a.forwardRef((function(e,t){return r.a.createElement(Es,hs({svgRef:t},e))})),Os=(n.p,function(e){var t=e.roomId,n=e.id,o=e.index,i=e.password,u=e.messageId,s=Object(a.useState)(),d=Object(l.a)(s,2),m=d[0],f=d[1],p=Object(c.c)((function(e){return Di(e,{id:t})})),h=Object(c.c)(wt),v=Object(Kc.b)(),y=W({objectToAccess:p,toAuth:h}).hasAccess,E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.password;il({roomId:t,password:a}).then((function(){Object(c.b)((function(){ke.dispatch(Be({windows:[{id:Ee.CHAT,value:{type:Ee.CHAT,roomId:t,messageId:u}}]})),ke.dispatch(He({id:n}))}))})).catch((function(e){var t=Object(oe.a)({},e);console.log(e),"not allowed"===e.type&&(t.message="Incorrect password"),f(t)}))};return r.a.createElement(bu,{id:n,error:m,index:o,className:"JoinRoomDialog",onClick:function(){ke.dispatch(Be({windows:[{id:n,value:{roomId:t,password:i,messageId:u,type:Ee.DIALOGJOINROOM}}]}))},done:function(){return ke.dispatch(He({id:n}))},title:y||!p.password?"Join room ".concat(p.roomName):"Unlock room ".concat(p.roomName),buttons:[r.a.createElement(g,{stopPropagation:!0,type:"submit",onClick:function(){return v.handleSubmit(E)()}},!y&&p.password&&r.a.createElement(bs,null),r.a.createElement("span",null,y||!p.password?"Join":"Unlock"))]},r.a.createElement(Kc.a,v,r.a.createElement("form",{onSubmit:v.handleSubmit(E)},r.a.createElement("div",null,(y||!p.password)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Do you want to join the room ".concat(p.roomName,"?")),p.topic&&r.a.createElement("p",null,"Topic: ".concat(p.topic))),!y&&p.password&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"The room is locked."),r.a.createElement("p",null,"Enter the password to continue:"))),!y&&p.password&&r.a.createElement(oi,{defaultValue:i,required:!y,minLength:4,maxLength:100,name:"password",type:"password",placeholder:"Password"}))))}),ws=r.a.memo(Os);Os.defaultProps={password:void 0,messageId:void 0};var js=n(33),Is=n(31),ks=(n(91),r.a.memo((function(e){var t=e.id,n=e.index,o=Object(Kc.b)(),i=Object(c.c)(wt),l=Object(Kc.d)({control:o.control,name:"onDevice",defaultValue:""}),u="this"===l&&i.systemConfig?i.systemConfig[Me()]||{}:i.systemConfig||{};console.log(l);var s=function(e){var n,a=e.hideHelp,r=e.hideTopBar,c=e.alwaysMaximized,s=e.hideMenuBar,d=e.openApps;if(e.removeDeviceConfig){var m=i.systemConfig,f=Me();m[f];n=Object(js.a)(m,[f].map(Is.a)),o.setValue("onDevice","")}else{var p=u[Me()]||{};n="this"===l?Object(oe.a)(Object(oe.a)({},u),{},Object(Ve.a)({},Me(),Object(oe.a)(Object(oe.a)({},p),{},{hideHelp:a,hideTopBar:r,alwaysMaximized:c,hideMenuBar:s,openApps:d.map((function(e){return{id:e,value:{type:e}}}))}))):Object(oe.a)(Object(oe.a)({},u),{},{hideHelp:a,hideTopBar:r,alwaysMaximized:c,hideMenuBar:s,openApps:d.map((function(e){return{id:e,value:{type:e}}}))})}Mn({userId:i.objectId,user:{systemConfig:n}}).then((function(){return ke.dispatch(He({id:t}))})).catch((function(e){return console.log(e)}))},d=Object(a.useCallback)((function(){ke.dispatch(Be({windows:[{id:t,value:{type:Ee.DIALOGCONFIGSYSTEM}}]}))}),[t]),m=Object(a.useCallback)((function(){return ke.dispatch(He({id:t}))}),[t]);return r.a.createElement(bu,{className:"ConfigSystemDialog",id:t,index:n,title:"System config: ".concat(i.username),onClick:d,done:m,buttons:[r.a.createElement(r.a.Fragment,null,"this"===l&&i.systemConfig[Me()]&&r.a.createElement(g,{stopPropagation:!0,key:"removeConfig",type:"button",onClick:function(){return s({removeDeviceConfig:!0})}},"Remove")),r.a.createElement(g,{stopPropagation:!0,key:"submit",onClick:function(){return o.handleSubmit(s)()},type:"submit"},"Update")]},r.a.createElement(Kc.a,o,r.a.createElement("form",{onSubmit:o.handleSubmit(s)},r.a.createElement("div",null,r.a.createElement("p",null,"Changes made here will only affect your user (".concat(i.username,") and only when you are logged in."))),r.a.createElement("div",null,r.a.createElement("span",null,"Do you want to change settings for when you login on any device or a specific device? The device specific settings will override any global settings"),r.a.createElement(ku,{key:"onDevice",name:"onDevice",defaultValue:""},r.a.createElement("option",{value:""},"Any device (default)"),r.a.createElement("option",{value:"this"},"This device"))),r.a.createElement("div",null,r.a.createElement("span",null,"Select apps to auto-open when you log in (you can choose how they are expanded and placed in Settings for each app)"),r.a.createElement(ku,{multiple:!0,key:"openApps-".concat(l),defaultValue:(u.openApps||[""]).map((function(e){return e.value?e.value.type:""})),name:"openApps"},r.a.createElement("option",{value:""},"No app"),r.a.createElement("option",{value:Ee.CHAT},"Chat"),r.a.createElement("option",{value:Ee.WALLET},"Wallet"),r.a.createElement("option",{value:Ee.WORLDMAP},"Map"),r.a.createElement("option",{value:Ee.DOCFILEDIR},"Files"),r.a.createElement("option",{value:Ee.NEWS},"News"))),r.a.createElement("div",null,r.a.createElement("span",null,"Automatically maximize windows?"),r.a.createElement(oi,{key:"alwaysMaximized-".concat(l),type:"checkbox",name:"alwaysMaximized",checked:u.alwaysMaximized})),r.a.createElement("div",null,r.a.createElement("span",null,"Minimize main menu?"),r.a.createElement(oi,{key:"hideMenuBar-".concat(l),type:"checkbox",name:"hideMenuBar",checked:u.hideMenuBar})),r.a.createElement("div",null,r.a.createElement("span",null,"Hide top row in windows? (Windows will be auto-maximized)?"),r.a.createElement(oi,{key:"hideTopBar-".concat(l),type:"checkbox",name:"hideTopBar",checked:u.hideTopBar})),r.a.createElement("div",null,r.a.createElement("span",null,"Hide help buttons?"),r.a.createElement(oi,{key:"hideHelp-".concat(l),type:"checkbox",name:"hideHelp",checked:u.hideHelp})))))}))),xs=function(e){var t=e.docFileId,n=e.id,o=e.index,i=e.code,u=Object(a.useState)(),s=Object(l.a)(u,2),d=s[0],m=s[1],f=Object(c.c)((function(e){return Dn(e,{id:t})})),p=Object(Kc.b)(),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.code;Du({docFileId:t,code:a}).then((function(){Object(c.b)((function(){ke.dispatch(Be({windows:[{id:Ee.DOCFILEVIEW,value:{type:Ee.DOCFILEVIEW,docFileId:t}}]})),ke.dispatch(He({id:n}))}))})).catch((function(e){var t=Object(oe.a)({},e);console.log(e),"not allowed"===e.type&&(t.message="Incorrect code"),m(t)}))};return r.a.createElement(bu,{id:n,error:d,index:o,className:"UnlockDocFileDialog",onClick:function(){ke.dispatch(Be({windows:[{id:n,value:{type:Ee.DIALOGUNLOCKFILE,docFileId:t}}]}))},done:function(){return ke.dispatch(He({id:n}))},title:"Unlock file ".concat(f.title),buttons:[r.a.createElement(g,{stopPropagation:!0,key:"submit",type:"submit",onClick:function(){return p.handleSubmit(h)()}},r.a.createElement(bs,null),r.a.createElement("span",null,"Unlock"))]},r.a.createElement(Kc.a,p,r.a.createElement("form",{onSubmit:p.handleSubmit(h)},r.a.createElement("div",{className:"identity"},r.a.createElement("span",null,"You are: "),r.a.createElement(Zo,null)),r.a.createElement("div",null,r.a.createElement("p",null,"The file is locked."),r.a.createElement("p",null,"Enter the code to continue:")),r.a.createElement(oi,{required:!0,defaultValue:i,name:"code",type:"text",placeholder:"Code"}))))},Cs=r.a.memo(xs);xs.defaultProps={code:void 0};var Ns=r.a.memo((function(e){var t=e.id,n=e.index,o=Object(c.c)(wt),i=Object(Kc.b)(),u=Object(a.useState)(),s=Object(l.a)(u,2),d=s[0],m=(s[1],o.systemConfig),f=void 0===m?Object(Ve.a)({},Ee.NEWS,{}):m,p=function(e){var n=e.expand,a=e.hideTopBar;Mn({userId:o.objectId,user:{systemConfig:Object(oe.a)(Object(oe.a)({},f),{},Object(Ve.a)({},Ee.NEWS,Object(oe.a)(Object(oe.a)({},f[Ee.NEWS]),{},{expand:n,hideTopBar:a})))}}).then((function(){return ke.dispatch(He({id:t}))})).catch((function(e){return console.log(e)}))};return r.a.createElement(bu,{id:t,index:n,className:"SettingsNewsDialog configDialog",onClick:function(){ke.dispatch(Be({windows:[{id:t,value:{type:Ee.DIALOGSETTINGSNEWS}}]}))},done:function(){return ke.dispatch(He({id:t}))},error:d,title:"Settings: News App",buttons:[r.a.createElement(g,{key:"submit",type:"submit",onClick:function(){return i.handleSubmit(p)()}},"Update")]},r.a.createElement(Kc.a,i,r.a.createElement("form",{onSubmit:i.handleSubmit(p)},r.a.createElement("div",null,r.a.createElement("span",null,"Hide top row? (Window will be auto-maximized. You can close and change settings for the window under File)?"),r.a.createElement(oi,{type:"checkbox",name:"hideTopBar",checked:f.hideTopBar})),r.a.createElement("div",null,r.a.createElement("span",null,"Automatically expand and place window?"),r.a.createElement(ku,{defaultValue:f[Ee.NEWS].expand,name:"expand"},r.a.createElement("option",{value:""},"No"),r.a.createElement("option",{value:"maximize"},"Maximize"),r.a.createElement("option",{value:"left"},"Left half"),r.a.createElement("option",{value:"right"},"Right half"))))))})),Ls=(n(92),function(e){var t=e.id,n=e.index,o=e.identityId,i=e.edit,u=void 0!==i&&i,s=Object(Kc.b)(),d=Object(c.c)(vt),m=Object(a.useState)(u),f=Object(l.a)(m,2),p=f[0],h=f[1],v=Object(c.c)(Je),y=Object(c.c)(Bt),E=Object(c.c)(kt),b=Object(c.c)((function(e){return Pt(e,{id:o||v})})),O=Object(c.c)((function(e){return Et(e,{ids:b.partOfTeams})})),w=Object(c.c)((function(e){return function(e,t){var n=t.id;return e.positions.get(n)}(e,{id:o||v})})),j=Object(c.c)(lt),I=Object(c.c)(ut),k=Object(a.useCallback)((function(){ke.dispatch(Be({windows:[{id:t,value:{type:Ee.DIALOGPROFILE,identityId:o}}]}))}),[t]),x=Object(a.useCallback)((function(){return ke.dispatch(He({id:t}))}),[t]),C=function(e){var t=e.name,n=e.pronouns,a=e.image,r=e.description,c=e.status,i=e.occupation,l=e.accessLevel,u=!a||b.image&&a.source==="/upload/images/".concat(b.image.fileName)?void 0:a;if(b.aliasName){var s={pronouns:n,status:c,occupation:i,description:r?r.split("\n"):void 0,aliasName:t!==b.aliasName?t:void 0};Su({alias:s,resetImage:!a&&b.image,image:u,aliasId:o||v}).then((function(){return h(!1)})).catch((function(e){return console.log(e)}))}else{var d={pronouns:n,status:c,occupation:i,accessLevel:l!==E?l:void 0,description:r?r.split("\n"):void 0,username:t!==b.username?t:void 0};Mn({user:d,resetImage:!a&&b.image,image:u,userId:o||v}).then((function(){return h(!1)})).catch((function(e){return console.log(e)}))}},N=Object(a.useCallback)((function(){Object(c.b)((function(){ke.dispatch(Be({windows:[{id:Ee.WORLDMAP,value:{type:Ee.WORLDMAP,positionId:v}}]})),ke.dispatch(He({id:t}))}))}),[t]),L=Object(a.useCallback)((function(){return Object(c.b)((function(){ke.dispatch(Be({windows:[{id:"".concat(Ee.DIALOGCREATETRANSACTION,"-").concat(o),value:{type:Ee.DIALOGCREATETRANSACTION,toWalletId:o}}]})),ke.dispatch(He({id:t}))}))}),[o,t]),S=Object(a.useCallback)((function(){var e=Hi(ke.getState(),{identityId:o,currentIdentityId:v});Object(c.b)((function(){ke.dispatch(Be({windows:[{id:Ee.CHAT,value:{type:Ee.CHAT,roomId:e.objectId}}]})),ke.dispatch(He({id:t}))}))}),[o,v,t]),R=[];return!p&&(!d||E>=F.ADMIN)&&(!o||E>=F.ADMIN||y.find((function(e){return e.objectId===o})))&&R.push(r.a.createElement(g,{stopPropagation:!0,key:"edit",type:"button",onClick:function(){return h(!0)}},o&&r.a.createElement(Ii,null),!o&&r.a.createElement(hu,null),"Edit")),"-1"!==v&&o&&o!==v&&!p&&(console.log(v,o,v,p),R.push(r.a.createElement(g,{stopPropagation:!0,key:"transfer",type:"button",onClick:L},r.a.createElement(nr,null)),r.a.createElement(g,{stopPropagation:!0,key:"whisper",type:"button",onClick:S},r.a.createElement(Ua,null)))),p&&(E>=F.MODERATOR&&(b.isBanned?R.push(r.a.createElement(g,{stopPropagation:!0,key:"unban",type:"button",onClick:function(){}},"Unban")):R.push(r.a.createElement(g,{stopPropagation:!0,key:"ban",type:"button",onClick:function(){}},"Ban"))),R.push(r.a.createElement(g,{stopPropagation:!0,key:"update",type:"submit",onClick:function(){return s.handleSubmit(C)()}},"Update"))),r.a.createElement(bu,{className:"ProfileDialog",id:t,index:n,title:"Profile: ".concat(b.aliasName||b.username),onClick:k,done:x,buttons:R},!p&&r.a.createElement(r.a.Fragment,null,!o&&r.a.createElement("div",{className:"identity"},r.a.createElement("span",null,"You are:"),r.a.createElement(Zo,null)),b.image&&r.a.createElement(Zc,{scrollTo:!0,image:"/upload/images/".concat(b.image.thumbFileName),altText:"pic",width:b.image.thumbWidth,height:b.image.thumbHeight,fullImage:"/upload/images/".concat(b.image.fileName),fullWidth:b.image.width,fullHeight:b.image.height}),r.a.createElement("div",null,r.a.createElement("p",null,"Name"),r.a.createElement("p",null,b.aliasName||b.username)),E>=F.MODERATOR&&r.a.createElement("div",null,r.a.createElement("p",null,"Access level"),r.a.createElement("p",null,Object.keys(F).find((function(e){return F[e]===b.accessLevel})))),b.status&&r.a.createElement("div",null,r.a.createElement("p",null,"Status"),r.a.createElement("p",null,b.status)),r.a.createElement("div",null,r.a.createElement("p",null,"Pronouns"),r.a.createElement("p",null,b.pronouns.map((function(e){return xu[e]})).join(", "))),O.size>0&&r.a.createElement("div",null,r.a.createElement("p",null,"Affiliations"),r.a.createElement("p",null,Object(ce.a)(O.values()).map((function(e){return e.teamName})).join(", "))),b.occupation&&r.a.createElement("div",null,r.a.createElement("p",null,"Occupation"),r.a.createElement("p",null,b.occupation)),j&&w&&w.coordinatesHistory[0]&&r.a.createElement("div",null,r.a.createElement("p",null,"Last known position"),r.a.createElement(g,{onClick:N},r.a.createElement(Tl,null),"Track")),b.description&&b.description.length>0&&r.a.createElement("div",null,r.a.createElement("p",null,"Description"),r.a.createElement("div",{className:"description"},b.description.map((function(e,t){return r.a.createElement("p",{key:t},e)}))))),p&&r.a.createElement(Kc.a,s,r.a.createElement("form",{onSubmit:s.handleSubmit(C)},!o&&r.a.createElement("div",{className:"identity"},r.a.createElement("span",null,"You are"),r.a.createElement(Zo,null)),r.a.createElement(Cl,{image:b.image?{source:"/upload/images/".concat(b.image.fileName)}:void 0}),r.a.createElement("div",null,r.a.createElement("span",null,"Name"),r.a.createElement(oi,{required:!0,name:"name",maxLength:30,placeholder:"Name",type:"text",defaultValue:b.aliasName||b.username})),E>=F.ADMIN&&!b.aliasName&&r.a.createElement("div",null,r.a.createElement("span",null,"Access level"),r.a.createElement(ku,{key:"accessLevel",name:"accessLevel",defaultValue:b.accessLevel},Object.keys(F).filter((function(e){return F[e]>=F.STANDARD&&F[e]<=E})).map((function(e){return r.a.createElement("option",{key:e,value:F[e]},e)})))),r.a.createElement("div",null,r.a.createElement("span",null,"Pronouns"),r.a.createElement(Cu,{preselected:b.pronouns})),E>=I.UpdateUserStatus.accessLevel&&r.a.createElement("div",null,r.a.createElement("span",null,"Status"),r.a.createElement(oi,{name:"status",placeholder:"Status",type:"text",defaultValue:b.status})),E>=I.UpdateUserOccupation.accessLevel&&r.a.createElement("div",null,r.a.createElement("span",null,"Occupation"),r.a.createElement(oi,{name:"occupation",placeholder:"Occupation",type:"text",defaultValue:b.occupation})),r.a.createElement("div",null,r.a.createElement("span",null,"Description"),r.a.createElement(Hl,{name:"description",placeholder:"Description",maxLength:300})))))}),Ss=r.a.memo(Ls);Ls.defaultProps={identityId:void 0,edit:!1};n(93);var Rs=r.a.memo((function(e){var t=e.docFileId,n=Object(c.c)((function(e){return Dn(e,{id:t})})),a=Object(c.c)((function(e){return Ft(e,{id:n.ownerAliasId||n.ownerId})}));return n.isLocked?r.a.createElement("div",{className:"DocFileViewer"},r.a.createElement("div",null,"This file is locked.",r.a.createElement(g,{onClick:function(){Object(c.b)((function(){ke.dispatch(Be({windows:[{id:"".concat(Ee.DIALOGUNLOCKFILE,"-").concat(t),value:{docFileId:t,type:Ee.DIALOGUNLOCKFILE}}]})),ke.dispatch(He({id:"".concat(Ee.DOCFILEVIEW,"-").concat(t)}))}))}},"Unlock?"))):r.a.createElement("div",{className:"DocFileViewer"},r.a.createElement("h1",{className:"title"},n.title),r.a.createElement("div",{className:"info"},r.a.createElement("p",{className:"author"},"Author: ".concat(a.teamName||a.aliasName||a.username)),r.a.createElement("p",{className:"code"},"Code: ".concat(n.code)),r.a.createElement("p",{className:"public"},"Public: ".concat(n.isPublic?"Yes":"No")),n.tags&&n.tags.length>0&&r.a.createElement("p",null,n.tags.join(", "))),n.images&&n.images.length>0&&r.a.createElement("div",{className:"images"},n.images.map((function(e){return r.a.createElement(Zc,{scrollTo:!0,key:e.thumbFileName,image:"/upload/images/".concat(e.thumbFileName),altText:"pic",width:e.thumbWidth,height:e.thumbHeight,fullImage:"/upload/images/".concat(e.fileName),fullWidth:e.width,fullHeight:e.height})}))),r.a.createElement("div",{className:"text"},n.text.join("\n")))})),As=function(e){var t=e.id,n=e.docFileId,o=e.index,i=Object(c.c)((function(e){return Dn(e,{id:n})})),l=Object(a.useCallback)((function(){ke.dispatch(Be({windows:[{id:t,value:{type:Ee.DOCFILEVIEW,docFileId:n}}]}))}),[]),u=Object(a.useCallback)((function(){return ke.dispatch(He({id:t}))}),[t]),s=Object(a.useCallback)((function(){return ke.dispatch(Be({windows:[{id:Ee.DIALOGCREATEDOCFILE,value:{type:Ee.DIALOGCREATEDOCFILE}}]}))}));return r.a.createElement(kc,{id:t,index:o,done:u,className:"DocFileView",title:"".concat(i?"File: ".concat(i.title):"Files"),onClick:l,menu:r.a.createElement(r.a.Fragment,null,r.a.createElement(uu,{id:t},r.a.createElement($n,{stopPropagation:!0,onClick:s,key:"createDocFile"},"New document")))},r.a.createElement(Rs,{key:"viewer",docFileId:n}))},Ts=r.a.memo(As);As.defaultProps={docFileId:void 0};n(94);var Ps=r.a.memo((function(){var e=Object(c.c)(Nt),t=Object(c.c)(wo),n=[];return Object(a.useEffect)((function(){e.openApps&&e.openApps.length>0&&ke.dispatch(Be({windows:e.openApps.map((function(e){return{id:e.id,value:e.value}}))}))}),[e.openApps]),t.forEach((function(e,t){var a=e.type;switch(a){case Ee.CHAT:n.push(r.a.createElement(yu,{key:t,id:t,roomId:e.roomId,messageId:e.messageId,password:e.password,index:e.index}));break;case Ee.WALLET:n.push(r.a.createElement(Ci,{key:t,id:t,index:e.index}));break;case Ee.WORLDMAP:n.push(r.a.createElement(Pi,{key:t,id:t,index:e.index}));break;case Ee.DOCFILEDIR:n.push(r.a.createElement(Ju,{key:t,id:t,index:e.index}));break;case Ee.DOCFILEVIEW:n.push(r.a.createElement(Ts,{key:t,id:t,index:e.index,docFileId:e.docFileId,code:e.code}));break;case Ee.NEWS:n.push(r.a.createElement(fs,{key:t,id:t,messageId:e.messageId,index:e.index}));break;case Ee.DIALOGCREATEROOM:n.push(r.a.createElement(Ou,{key:t,id:t,index:e.index}));break;case Ee.DIALOGLOGIN:n.push(r.a.createElement(ju,{key:t,id:t,index:e.index}));break;case Ee.DIALOGREGISTER:n.push(r.a.createElement(Nu,{key:t,id:t,index:e.index}));break;case Ee.DIALOGREMOVEROOM:n.push(r.a.createElement(wu,{key:t,id:t,roomId:e.roomId,index:e.index}));break;case Ee.DIALOGCREATEALIAS:n.push(r.a.createElement(Ru,{key:t,id:t,index:e.index}));break;case Ee.DIALOGCREATETRANSACTION:n.push(r.a.createElement(Pu,{key:t,id:t,toWalletId:e.toWalletId,index:e.index,amount:e.amount}));break;case Ee.DIALOGCREATEDOCFILE:n.push(r.a.createElement(Ku,{key:t,id:t,index:e.index}));break;case Ee.DIALOGCREATENEWS:n.push(r.a.createElement(ps,{key:t,id:t,index:e.index}));break;case Ee.DIALOGJOINROOM:n.push(r.a.createElement(ws,{key:t,id:t,roomId:e.roomId,index:e.index,messageId:e.messsageId,password:e.password}));break;case Ee.DIALOGCONFIGSYSTEM:n.push(r.a.createElement(ks,{key:t,id:t,index:e.index}));break;case Ee.DIALOGSETTINGSNEWS:n.push(r.a.createElement(Ns,{key:t,id:t,index:e.index}));break;case Ee.DIALOGPROFILE:n.push(r.a.createElement(Ss,{key:t,id:t,index:e.index,identityId:e.identityId,edit:e.edit}));break;case Ee.DIALOGUNLOCKFILE:n.push(r.a.createElement(Cs,{key:t,id:t,index:e.index,docFileId:e.docFileId,code:e.code,auto:e.auto}));break;default:console.error("Unknown window type",a)}})),r.a.createElement("div",{key:"mainWindow",id:"MainWindow"},r.a.createElement(ns,null),n)}));var Ms=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(Qo,null),r.a.createElement(Ps,null)))},Ds=(n(95),n(96));Object(i.a)(),Ds.ElementQueries.listen(),Object(o.render)(r.a.createElement(c.a,{store:ke},r.a.createElement(Ms,null)),document.getElementById("root"))}]),[[34,1,2]]]);
//# sourceMappingURL=main.f09b672d.chunk.js.map