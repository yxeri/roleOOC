(this.webpackJsonproleterminal=this.webpackJsonproleterminal||[]).push([[0],Array(31).concat([function(e,t,n){e.exports=n(89)},,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(14),c=n(1),i=n(29),l=n(3);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d=a.a.createElement("circle",{cx:12,cy:12,r:10}),m=a.a.createElement("polyline",{points:"12 6 12 12 16 14"}),f=function(e){var t=e.svgRef,n=e.title,r=s(e,["svgRef","title"]);return a.a.createElement("svg",u({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-clock",ref:t},r),n?a.a.createElement("title",null,n):null,d,m)},p=a.a.forwardRef((function(e,t){return a.a.createElement(f,u({svgRef:t},e))})),h=(n.p,n(11)),v=(n(41),a.a.forwardRef((function(e,t){var n=e.onClick,r=e.children,o=e.disabled,c=e.stopPropagation,i=e.className,l=void 0===i?"":i,u=e.type,s=void 0===u?"button":u;return a.a.createElement("button",{ref:t,className:"Button ".concat(l),disabled:o,type:s,onClick:function(e){n(e),c&&e.stopPropagation()}},r)}))),g=a.a.memo(v);v.propTypes={onClick:h.func.isRequired,children:h.node.isRequired,type:Object(h.oneOf)(["button","submit"]),disabled:h.bool,className:h.string,stopPropagation:h.bool},v.defaultProps={type:"button",disabled:void 0,className:"",stopPropagation:void 0};var b=function(e){return e>9?"".concat(e):"0".concat(e)},y=function(e){var t=e.date,n=e.offset,r=e.lockDate,a=e.yearModification,o=e.dayModification,c=new Date(t),i={};return n&&c.setHours(c.getHours()+n),r||!a&&!o||(a&&!Number.isNaN(a)&&c.setFullYear(c.getFullYear()+parseInt(a,10)),o&&!Number.isNaN(o)&&c.setDate(c.getDate()+parseInt(o,10))),i.mins=b(c.getMinutes()),i.hours=b(c.getHours()),i.seconds=b(c.getSeconds()),i.month=b(c.getMonth()+1),i.day=b(c.getDate()),i.year=c.getFullYear(),i.halfTime="".concat(i.hours,":").concat(i.mins),i.fullTime="".concat(i.halfTime,":").concat(i.seconds),i.halfDate="".concat(i.day,"/").concat(i.month),i.fullDate="".concat(i.halfDate,"/").concat(i.year),i.fullStamp="".concat(i.halfTime," ").concat(i.fullDate),i},E=(n(42),a.a.memo((function(){var e=Object(r.useRef)(),t=Object(r.useState)(new Date),n=Object(l.a)(t,2),o=n[0],c=n[1],i=Object(r.useState)(!1),u=Object(l.a)(i,2),s=u[0],d=u[1],m=y({date:o});Object(r.useEffect)((function(){return function t(){e.current=setTimeout((function(){c(new Date),t()}),1e3)}(),function(){return clearTimeout(e.current)}}),[]);var f=Object(r.useCallback)((function(){return d(!s)}),[s]);return a.a.createElement("div",{key:"clock",className:"Clock"},a.a.createElement(g,{className:"icon ".concat(s?"active":""),onClick:f},a.a.createElement(p,null)),a.a.createElement(g,{onClick:f,className:"time ".concat(s?"":"hide")},m.fullTime))})));function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var j=a.a.createElement("circle",{cx:12,cy:12,r:10}),I=a.a.createElement("polyline",{points:"16 12 12 8 8 12"}),k=a.a.createElement("line",{x1:12,y1:16,x2:12,y2:8}),x=function(e){var t=e.svgRef,n=e.title,r=w(e,["svgRef","title"]);return a.a.createElement("svg",O({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-up-circle",ref:t},r),n?a.a.createElement("title",null,n):null,j,I,k)},C=a.a.forwardRef((function(e,t){return a.a.createElement(x,O({svgRef:t},e))}));n.p;function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var L=a.a.createElement("circle",{cx:12,cy:12,r:10}),R=a.a.createElement("polyline",{points:"8 12 12 16 16 12"}),T=a.a.createElement("line",{x1:12,y1:8,x2:12,y2:16}),A=function(e){var t=e.svgRef,n=e.title,r=S(e,["svgRef","title"]);return a.a.createElement("svg",N({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-down-circle",ref:t},r),n?a.a.createElement("title",null,n):null,L,R,T)},M=a.a.forwardRef((function(e,t){return a.a.createElement(A,N({svgRef:t},e))})),P=(n.p,n(43),a.a.forwardRef((function(e,t){var n=e.children,o=e.title,c=e.observe,i=e.startRevealed,u=void 0!==i&&i,s=e.alwaysExpanded,d=void 0!==s&&s,m=e.checkWidth,f=void 0!==m&&m,p=e.dropdown,h=void 0!==p&&p,v=e.className,b=void 0===v?"":v,y=Object(r.useRef)(),E=Object(r.useRef)(),O=Object(r.useRef)(null),w=Object(r.useRef)(null),j=Object(r.useState)(!u&&!d&&"undefined"!==typeof o),I=Object(l.a)(j,2),k=I[0],x=I[1],N=[],S=["List"].concat([b]),L=Object(r.useCallback)((function(e){h&&!k&&O.current&&(!f||!w.current||w.current.offsetWidth<600)&&("INPUT"===e.target.tagName||O.current.parentElement.contains(e.target)&&(e.target===O.current||e.currentTarget!==O.current)||x(!0))}),[k]),R=function(e){var t=e.direction;"bottom"===t&&O.current.lastElementChild?O.current.lastElementChild.scrollIntoView({behavior:"smooth",block:"end"}):"top"===t&&O.current.firstElementChild&&O.current.firstElementChild.scrollIntoView({behavior:"smooth",block:"start"})};return Object(r.useEffect)((function(){if(!k&&h&&O.current){var e=O.current.getBoundingClientRect();e.right>window.innerWidth?O.current.classList.add("right"):O.current.classList.remove("right"),e.bottom>window.innerHeight?O.current.classList.add("bottom"):O.current.classList.remove("bottom")}}),[k]),Object(r.useEffect)((function(){return O.current&&c&&(y.current=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?E.current.classList.add("hide"):E.current.classList.remove("hide")}))}),{root:O.current,rootMargin:"50px",threshold:1}),"upper"===c&&O.current.firstElementChild&&y.current.observe(O.current.firstElementChild),"lower"===c&&O.current.lastElementChild&&y.current.observe(O.current.lastElementChild)),function(){y.current&&y.current.disconnect()}}),[]),Object(r.useEffect)((function(){y.current&&(y.current.disconnect(),"upper"===c&&O.current.firstElementChild&&y.current.observe(O.current.firstElementChild),"lower"===c&&O.current.lastElementChild&&y.current.observe(O.current.lastElementChild))}),[n]),Object(r.useEffect)((function(){return h&&(k?document.removeEventListener("mousedown",L):document.addEventListener("mousedown",L)),function(){return document.removeEventListener("mousedown",L)}}),[k]),k?N.push("hide"):S.push("expanded"),h&&N.push("dropdown"),a.a.createElement("div",{key:"List",className:S.join(" ")},o&&a.a.createElement("header",{role:"button",tabIndex:0,key:"listHeader",className:"toggle ".concat(d?"":"clickable"),onClick:function(){d||x(!k)}},o),c&&"upper"===c&&a.a.createElement(g,{key:"upper",className:"upper hide",ref:E,onClick:function(){return R({direction:"top"})}},a.a.createElement(C,null)),a.a.createElement("ul",{ref:function(e){O.current=e,t&&(t.current=e),e&&(w.current=e.closest(".Window"))},key:"listElem",className:"".concat(N.join(" ")),onClick:function(e){h&&(L(e),e.stopPropagation())}},n),c&&"lower"===c&&a.a.createElement(g,{key:"lower",className:"lower hide",ref:E,onClick:function(){return R({direction:"bottom"})}},a.a.createElement(M,null)))}))),D=a.a.memo(P);P.defaultProps={className:"",children:void 0,title:void 0,dropdown:!1,checkWidth:!1,alwaysExpanded:!1,observe:void 0,startRevealed:void 0};var W=0,F=1,G=3,B=4,H=function(e){var t=e.objectToAccess,n=e.toAuth,r=e.adminLevel,a=void 0===r?B:r;if(!t||!n)return{canSee:!1,hasFullAccess:!1,hasAccess:!1};var o=t.ownerId,c=t.ownerAliasId,i=t.teamId,l=t.isPublic,u=t.visibility,s=t.teamIds,d=void 0===s?[]:s,m=t.userIds,f=void 0===m?[]:m,p=t.userAdminIds,h=void 0===p?[]:p,v=t.teamAdminIds,g=void 0===v?[]:v,b=n.hasFullAccess,y=n.partOfTeams,E=void 0===y?[]:y,O=n.accessLevel,w=void 0===O?W:O,j=n.objectId,I=n.teamIds,k=void 0===I?[]:I,x=n.aliases,C=void 0===x?[]:x,N=c&&C.includes(c),S=i&&E.includes(i),L=f.concat([o]).includes(j),R=S||d.find((function(e){return k.includes(e)})),T=N||C.find((function(e){return f.includes(e)})),A=h.includes(j),M=N||C.find((function(e){return h.includes(e)})),P=S||g.find((function(e){return k.includes(e)})),D=o===j||b||w>=a;return{canSee:D||l||L||R||T||w>=u,hasAccess:D||l||L||R||T,hasFullAccess:D||A||P||M,adminAccess:!l&&!L&&!R&&!T&&D}},U=n(2),z=n.n(U),Y=n(7),V=n(13),q=n(27),J="aliases",K="devices",_="docFiles",Q="forums",X="forumPosts",Z="forumThreads",$="gameCodes",ee="invitations",te="messages",ne="rooms",re="simpleMsgs",ae="teams",oe="transactions",ce="users",ie="wallets",le=n(4),ue=n(6),se="update",de="create",me="remove",fe=function(e,t){var n=new Map(Object(ue.a)(e)),r=t.type,a=t.payload,o=a.changeType,c=a[r];switch(o){case de:return n.set(c.objectId,c),n;case se:var i=n.get(c.objectId)||{},l=Object(le.a)(Object(le.a)({},i),c);return i===l?e:(n.set(c.objectId,l),n);case me:return n.has(c.objectId)?(n.delete(c.objectId),n):e;default:return e}},pe=function(e,t){var n=t.type,r=t.payload,a=r.reset,o=r.changeType,c=a?new Map:new Map(Object(ue.a)(e)),i=r[n];switch(o){case de:return i.forEach((function(e){return c.set(e.objectId,e)})),c;case se:return i.forEach((function(e){var t=c.get(e.objectId)||{},n=Object(le.a)(Object(le.a)({},t),e);t!==n&&c.set(e.objectId,n)})),c;case me:return i.forEach((function(e){return c.delete(e.objectId)})),c;default:return e}};var he="chat",ve="whisper",ge="news";var be="online",ye="offline",Ee="reconnecting";var Oe=new Map;Oe.set("broadcastId","111111111111111111111116"),Oe.set("publicRoomId","111111111111111111111110"),Oe.set("newsRoomId","111111111111111111111114"),Oe.set("defaultForum","111111111111111111111120"),Oe.set("defaultLanguage","en"),Oe.set("centerCoordinates",{longitude:0,latitude:0}),Oe.set("cornerOneCoordinates",{longitude:0,latitude:0}),Oe.set("cornerTwoCoordinates",{longitude:0,latitude:0}),Oe.set("defaultZoomLevel",15),Oe.set("yearModification",0),Oe.set("dayModification",0),Oe.set("requireOffName",!1),Oe.set("activateTermination",!1),Oe.set("allowedImages",{CHAT:!1,PROFILE:!1,DOCFILE:!1}),Oe.set("newsCost",0),Oe.set("onlySeen",!1),Oe.set("allowPartialSearch",!0),Oe.set("permissions",{CreateAlias:{name:"CreateAlias",accessLevel:F},CreateUser:{name:"CreateUser",accessLevel:W}}),Oe.set("anonymousUser",{accessLevel:W,followingRooms:["111111111111111111111110"],objectId:"-1",isAnonymous:!0,systemConfig:{},aliases:[],hasSeen:[],partOfTeams:[]}),Oe.set("systemUser",{objectId:"222222222222222222222220",username:"SYSTEM"});var we={WALLET:"Wallet",CHAT:"Chat",WORLDMAP:"Map",DOCFILE:"Files",NEWS:"News",DIALOGIDENTITY:"User",DIALOGCREATEROOM:"New room",DIALOGREMOVEROOM:"Remove room",DIALOGREGISTER:"Register",DIALOGLOGIN:"Login",DIALOGCREATEALIAS:"New alias",DIALOGCREATETRANSACTION:"Transfer",DIALOGCREATEDOCFILE:"New file",DIALOGCREATENEWS:"New article",DIALOGJOINROOM:"Join room",DIALOGCONFIGSYSTEM:"Config system",DIALOGUNLOCKROOM:"Unlock room",DIALOGSETTINGSNEWS:"News settings"},je=new Map;var Ie="help",ke={mode:"default",target:""};var xe={hideMenu:!1};var Ce=Object(V.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"user"===t.type?fe(e,t):t.type===ce?pe(e,t):e},aliases:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"alias"===t.type?fe(e,t):t.type===J?pe(e,t):e},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"message"===t.type?fe(e,t):t.type===te?pe(e,t):e},online:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;if("online"===t.type){var n=t.payload,r=n.online;return r}return e},rooms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"room"===t.type?fe(e,t):t.type===ne?pe(e,t):e},userId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-1",t=arguments.length>1?arguments[1]:void 0;if("userId"===t.type){var n=t.payload,r=n.reset,a=n.userId;return r?"-1":a}return e},positions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"position"===t.type?fe(e,t):"positions"===t.type?pe(e,t):e},transactions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"transaction"===t.type?fe(e,t):t.type===oe?pe(e,t):e},wallets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"wallet"===t.type?fe(e,t):t.type===ie?pe(e,t):e},config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;if("config"===t.type){var n=t.payload,r=n.entries,a=new Map(Object(ue.a)(e));return r.forEach((function(e){return a.set(e[0],e[1])})),a}return e},aliasId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if("aliasId"===t.type){var n=t.payload,r=n.reset,a=n.aliasId;return r?null:a}return e},windowOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;if("windowOrder"===t.type){var n=t.payload,r=n.id,a=n.value,o=n.changeType,c=new Map(Object(ue.a)(e));if(o===se){if(c.size>0&&c.get(r)&&c.get(r).index===c.size){var i=c.get(r);if(Object.keys(a).length===Object.keys(i).length-1&&Object.keys(a).every((function(e){return i[e]===a[e]})))return e}var u=Object(le.a)({},a);if(c.get(r)){var s=Object(ue.a)(c.entries()).sort((function(e,t){var n=e[1].index,r=t[1].index;return n>r?1:n<r?-1:0})),d=s.splice(s.findIndex((function(e){return Object(l.a)(e,1)[0]===r})),1),m=Object(l.a)(d,1),f=m[0];f[1]=Object(le.a)({},u),s.push(f),console.log(s),s.forEach((function(e,t){var n=Object(l.a)(e,2),r=n[0],a=n[1],o=Object(le.a)(Object(le.a)({},a),{},{index:t+1});c.set(r,o)}))}else u.index=c.size+1,c.set(r,u);return c}return o===me?(c.delete(r),c):e}if("windowOrders"===t.type){var p=t.payload,h=p.windows,v=new Map(Object(ue.a)(e));return h.forEach((function(e){var t=e.id,n=e.value;return v.set(t,n)})),v}return e},teams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"team"===t.type?fe(e,t):t.type===ae?pe(e,t):e},docFiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"docFile"===t.type?fe(e,t):t.type===_?pe(e,t):e},mode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;if("mode"===t.type){var n=t.payload,r=n.mode,a=n.target,o=Object(le.a)({},e);return!r&&a&&e.target===a?e:(a&&r!==e.mode?o.target=a:o.target=ke.target,r===e.mode?o.mode=ke.mode:r&&(o.mode=r),o)}return e},interfaceConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;if("interfaceConfiog"===t.type){var n=t.payload,r=n.hideMenu,a=n.toggleHideMenu,o=Object(le.a)({},e);return Object.keys(n).every((function(t){return n[t]===e[t]}))?e:(a?o.hideMenu=!e.hideMenu:"boolean"===typeof r&&(o.hideMenu=r),o)}return e}}),Ne=Object(V.d)(Ce,Object(V.a)(q.a)),Se="deviceId",Le="token",Re="userId",Te="aliasId",Ae=function(e,t){"string"===typeof t?localStorage.setItem(e,t):localStorage.setItem(e,function(e){return JSON.stringify(e)}(t))},Me=function(e){return localStorage.getItem(e)},Pe=function(e){return localStorage.removeItem(e)},De=function(){return Pe(Te)},We=function(){Pe(Le),Pe(Re),De()},Fe=function(){return Me(Se)},Ge=function(){return Me(Le)},Be=function(e){var t=e.userId,n=e.token,r=e.retrieveAll;return Ae(Le,n),function(e){Ae(Re,e)}(t),r({reset:!0}),{type:"userId",payload:{userId:t}}},He=function(e){return We(),e({reset:!0}),function(e){Object(c.b)((function(){e({type:"userId",payload:{reset:!0}}),e({type:"aliasId",payload:{reset:!0}})}))}},Ue=n(10),ze=function(e){return e.online===be},Ye=function(){return{type:"online",payload:{online:be}}},Ve=function(e){return e.aliasId},qe=function(e){return e.userId},Je=function(e){return Ve(e)||qe(e)},Ke=function(e){var t=e.wallets;return 1===t.length?{type:"wallet",payload:{wallet:t[0],changeType:se}}:{type:ie,payload:{wallets:t,changeType:se}}},_e=function(e){var t=e.wallets;return 1===t.length?{type:"wallet",payload:{wallet:t[0],changeType:de}}:{type:ie,payload:{wallets:t,changeType:de}}},Qe=function(e){var t=e.transactions;return 1===t.length?{type:"transaction",payload:{transaction:t[0],changeType:de}}:{type:oe,payload:{transactions:t,changeType:de}}},Xe=function(e){var t=e.transaction,n=e.wallet;return function(e){Object(c.b)((function(){e(Qe({transactions:[t]})),e(Ke({wallets:[n]}))}))}},Ze=function(e){var t=e.messages;return 1===t.length?{type:"message",payload:{changeType:de,message:t[0]}}:{type:te,payload:{messages:t,changeType:de}}},$e=function(e){var t=e.message,n=e.transaction,r=e.wallet;return function(){var e=Object(Y.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(c.b)((function(){a(Ze({messages:[t]})),a(Qe({transactions:[n]})),a(Ke({wallets:[r]}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},et=n(9),tt=n(8),nt=n.n(tt),rt=function(e){return e.aliases},at=function(e,t){var n=t.id;return e.aliases.get(n)},ot=function(e){return e.config.get("requireOffName")},ct=function(e){return e.config.get("publicRoomId")},it=function(e){return e.config.get("allowedImages")},lt=function(e){return e.config.get("gpsTracking")},ut=function(e){return e.config.get("permissions")},st=function(e){return e.config.get("newsRoomId")},dt=function(e){return e.config.get("newsCost")},mt=function(e){return e.config.get("onlySeen")},ft=function(e){return e.config.get("allowPartialSearch")},pt=function(e){return e.config.get("yearModification")},ht=function(e){return e.config.get("dayModification")},vt=function(e){return e.teams},gt=nt()([vt,function(e,t){return t.ids}],(function(e,t){var n=new Map;return t.forEach((function(t){return n.set(t,e.get(t))})),n}))((function(e,t){var n=t.ids;return"teams-".concat(n.join(n))})),bt=function(e){return e.users},yt=function(e,t){var n=t.id;return e.users.get(n)},Et=nt()([function(e){return yt(e,{id:qe(e)})},function(e){return e.config.get("anonymousUser")}],(function(e,t){return e||t}))((function(){return"current-user"})),Ot=nt()([Et],(function(e){return e.isAnonymous}))((function(){return"is-anonymous"})),wt=nt()([Et],(function(e){return e.followingRooms}))({keySelector:function(){return"current-user-rooms"},selectorCreator:Object(et.createSelectorCreator)(et.defaultMemoize,(function(e,t){return e.followingRooms.length===t.followingRooms.length&&e.followingRooms.every((function(e){return t.followingRooms.includes(e)}))}))}),jt=Object(et.createSelector)([Et],(function(e){return e.accessLevel})),It=nt()([Et],(function(e){return e.hasSeen||[]}))({keySelector:function(){return"current-user-hasSeen"},selectorCreator:Object(et.createSelectorCreator)(et.defaultMemoize,(function(e,t){return e.hasSeen&&t.hasSeen&&e.hasSeen.length===t.hasSeen.length&&e.hasSeen.every((function(e){return t.hasSeen.includes(e)}))}))}),kt=nt()([Et],(function(e){return e.partOfTeams}))({keySelector:function(){return"current-user-partOfTeams"},selectorCreator:Object(et.createSelectorCreator)(et.defaultMemoize,(function(e,t){return console.log("team",e.partOfTeams.length!==t.partOfTeams.length,t.partOfTeams.every((function(t){return e.partOfTeams.includes(t)}))),e.partOfTeams.length===t.partOfTeams.length&&t.partOfTeams.every((function(t){return e.partOfTeams.includes(t)}))}))}),xt=nt()([Et],(function(e){return e.systemConfig||{}}))((function(){return"current-system-config"})),Ct=nt()([xt],(function(e){return e.hideTopBar}))((function(){return"current-hideTopBar"})),Nt=nt()([xt],(function(e){return e.alwaysMaximized}))((function(){return"current-alwaysMaximized"})),St=nt()([bt,rt],(function(e,t){return new Map([].concat(Object(ue.a)(e.entries()),Object(ue.a)(t.entries())))}))((function(){return"identities"})),Lt=nt()([bt,rt,function(e,t){return t.ids}],(function(e,t,n){var r=new Map;return n.forEach((function(n){return r.set(n,e.get(n)||t.get(n))})),r}))((function(e,t){var n=t.ids;return"identities-".concat(n.join(" "))})),Rt=nt()([bt,rt,vt,function(e,t){return t.ids}],(function(e,t,n,r){var a=new Map;return r.forEach((function(r){return a.set(r,n.get(r)||e.get(r)||t.get(r))})),a}))((function(e,t){var n=t.ids;return"identities-teams-".concat(n.join(" "))})),Tt=nt()([yt,at],(function(e,t){return t||e}))((function(e,t){var n=t.id;return"identity-".concat(n)})),At=nt()([Tt],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.aliasName,n=e.username;return t||n||""}))((function(e,t){var n=t.id;return"identity-".concat(n,"-name")})),Mt=Object(et.createSelector)([yt,at,function(e,t){var n=t.id;return e.teams.get(n)}],(function(e,t,n){return n||t||e})),Pt=nt()([St,qe],(function(e,t){return Object(ue.a)(e.values()).filter((function(e){return e.objectId!==t&&e.ownerId!==t&&!e.userIds.includes(t)})).map((function(e){return{objectId:e.objectId,partOfTeams:e.partOfTeams,name:e.aliasName||e.username}}))}))({keySelector:function(){return"other-identity-ids"},selectorCreator:Object(et.createSelectorCreator)(et.defaultMemoize,(function(e,t){return"string"===typeof e&&"string"===typeof t?e===t:e.size===t.size&&Object(ue.a)(t.values()).every((function(t){var n=e.get(t.objectId);return!!n&&((t.aliasName||t.username)===(n.aliasName||n.username)&&(t.partOfTeams.length===n.partOfTeams.length&&t.partOfTeams.every((function(e){return n.partOfTeams.includes(e)}))))}))}))}),Dt=nt()([St,qe],(function(e,t){return Object(ue.a)(e.values()).filter((function(e){return e.objectId===t||e.ownerId===t||e.userIds.includes(t)}))}))((function(){return"current-identities"})),Wt=nt()([Dt],(function(e){return e.map((function(e){return{objectId:e.objectId,name:e.aliasName||e.username}}))}))({keySelector:function(){return"current-identities-names"},selectorCreator:Object(et.createSelectorCreator)(et.defaultMemoize,(function(e,t){return e.length===t.length&&t.every((function(t){var n=e.find((function(e){return t.objectId===e.objectId}));return n&&(n.aliasName||n.username)===(t.aliasName||t.username)}))}))}),Ft=function(e){var t=e.rooms;return 1===t.length?{type:"room",payload:{changeType:de,room:t[0]}}:{type:ne,payload:{rooms:t,changeType:de}}},Gt=function(e){var t=e.rooms;return 1===t.length?{type:"room",payload:{changeType:se,room:t[0]}}:{type:ne,payload:{rooms:t,changeType:de}}},Bt=function(e){var t=e.rooms;return 1===t.length?{type:"room",payload:{changeType:me,room:t[0]}}:{type:ne,payload:{rooms:t,changeType:me}}},Ht=function(e){var t=e.room,n=e.user;return function(e){Object(c.b)((function(){e(Gt({rooms:[t]})),e(Yt({users:[n]}))}))}},Ut=function(e){var t=e.forums;return 1===t.length?{type:"forum",payload:{forum:t[0],changeType:de}}:{type:Q,payload:{forums:t,changeType:de}}},zt=function(e){var t=e.gameCodes;return 1===t.length?{type:"gameCode",payload:{gameCode:t[0],changeType:de}}:{type:$,payload:{gameCodes:t,changeType:de}}},Yt=function(e){var t=e.users;return 1===t.length?{type:"user",payload:{user:t[0],changeType:se}}:{type:ce,payload:{users:t,changeType:se}}},Vt=function(e){var t=e.users;return 1===t.length?{type:"user",payload:{user:t[0],changeType:de}}:{type:ce,payload:{users:t,changeType:de}}},qt=function(e){var t=e.user,n=e.wallet,r=e.room,a=e.forum,o=e.gameCode;return function(){var e=Object(Y.a)(z.a.mark((function e(i){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(c.b)((function(){i(Vt({users:[t]})),i(Ft({rooms:[r]})),i(_e({wallets:[n]})),i(Ut({forums:[a]})),i(zt({gameCodes:[o]}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Jt=function(){var e=Object(Y.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t).user.registerDevice=Fe(),e.next=4,yn(dn.USER,n);case 4:return r=e.sent,e.next=7,Ne.dispatch(qt(r));case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kt=function(){var e=Object(Y.a)(z.a.mark((function e(t){var n,r,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r=t.user,e.next=3,yn(dn.UPDATEUSER,{userId:n,user:r});case 3:return a=e.sent,e.next=6,Ne.dispatch(Yt({users:[a.user]}));case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_t="chatMsg",Qt="whisper",Xt="room",Zt="followRoom",$t="user",en=function(e){var t=e.aliasId;return t?(Ae(Te,t),{type:"aliasId",payload:{aliasId:t}}):(De(),{type:"aliasId",payload:{reset:!0}})},tn=function(e){var t=e.aliases;return 1===t.length?{type:"alias",payload:{alias:t[0],changeType:de}}:{type:J,payload:{aliases:t,changeType:de}}},nn=function(e){var t=e.alias,n=e.wallet,r=e.room;return function(){var e=Object(Y.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(c.b)((function(){a(tn({aliases:[t]})),a(Ft({rooms:[r]})),a(_e({wallets:[n]}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},rn="alias",an="wallet",on="transaction",cn=function(e){var t=e.docFiles;return 1===t.length?{type:"docFile",payload:{docFile:t[0],changeType:se}}:{type:_,payload:{docFiles:t,changeType:se}}},ln=function(e){var t=e.docFiles;return 1===t.length?{type:"docFile",payload:{docFile:t[0],changeType:de}}:{type:_,payload:{docFiles:t,changeType:de}}},un="docFile",sn=function(){var e="undefined"!==typeof ioUri?ioUri:"/";return window.io(e,{forceNew:!0})}(),dn={ALIAS:"createAlias",USER:"createUser",MESSAGE:"sendMessage",ROOM:"createRoom",INVITATION:"createInvitation",DOCFILE:"createDocFile",FORUM:"createForum",FORUMPOST:"createForumPost",FORUMTHREAD:"createForumThread",GAMECODE:"createGameCode",SIMPLEMSG:"sendSimpleMsg",TEAM:"createTeam",TRANSACTION:"createTransaction",DEVICE:"createDevice",FOLLOW:"followRoom",GETMSGBYROOM:"getMessagesByRoom",REMOVEROOM:"removeRoom",UNLOCKDOCFILE:"unlockDocFile",UPDATEUSER:"updateUser"},mn={ALIASES:"getAliases",USERS:"getUsers",MESSAGES:"getMessages",ROOMS:"getRooms",INVITATIONS:"getInvitations",DOCFILES:"getDocFiles",FORUMS:"getForums",FORUMPOSTS:"getForumPosts",FORUMTHREADS:"getForumThreads",GAMECODES:"getGameCodes",SIMPLEMSGS:"getSimpleMsgs",TEAMS:"getTeams",TRANSACTIONS:"getTransactions",WALLETS:"getWallets",DEVICES:"getDevices"},fn="login",pn="reconnect",hn="startup",vn="disconnect",gn=function(){var e=Object(Y.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.event,r=t.callback,sn.on(n,(function(e){console.log(n,e),r(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bn=function(){Ne.getState().online!==Ee&&(sn.disconnect(),sn.connect())},yn=function(){var e=Object(Y.a)(z.a.mark((function e(t){var n,r=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",new Promise((function(e,r){var a=n;a.token=Ge(),ze(Ne.getState())||bn(),sn.emit(t,a,(function(t){var n=t.error,a=t.data;n?r(n):e(a)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),En=function(){var e=Object(Y.a)(z.a.mark((function e(){var t,n,r=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.length>0&&void 0!==r[0]?r[0]:{},n=t.reset,[{type:ce,event:mn.USERS},{type:J,event:mn.ALIASES},{type:ae,event:mn.TEAMS},{type:ne,event:mn.ROOMS},{type:te,event:mn.MESSAGES},{type:ee,event:mn.INVITATIONS},{type:_,event:mn.DOCFILES},{type:Q,event:mn.FORUMS},{type:Z,event:mn.FORUMTHREADS},{type:X,event:mn.FORUMPOSTS},{type:$,event:mn.GAMECODES},{type:re,event:mn.SIMPLEMSGS},{type:ie,event:mn.WALLETS},{type:oe,event:mn.TRANSACTIONS},{type:K,event:mn.DEVICES}].forEach((function(e){var t=e.event,r=e.type;yn(t,{}).then((function(e){console.log(t,e),Ne.dispatch({type:r,payload:Object(Ue.a)({reset:n,changeType:de},r,e[r])})})).catch((function(e){console.log(e)}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();gn({event:pn,callback:function(){qe(Ne.getState())?yn("updateId",{}).then((function(){Ne.dispatch(Ye()),En()})).catch((function(e){console.log(e),Ne.dispatch(He(En))})):En()}}),gn({event:hn,callback:function(e){var t,n=e.data,r=Me(Re),a=Ge(),o=Me(Te);Fe()||Ae(Se,"1234567890123456"),Ne.dispatch((t=n,function(e){Object(c.b)((function(){e({type:"config",payload:{entries:Object.entries(t)}}),e(Ye())}))})),r||a?yn("updateId",{}).then((function(){Object(c.b)((function(){o&&Ne.dispatch(en({aliasId:o})),Ne.dispatch(Be({userId:r,token:a,retrieveAll:En}))}))})).catch((function(e){console.log(e),Ne.dispatch(He(En))})):En({reset:!0})}}),gn({event:vn,callback:function(){Ne.dispatch({type:"online",payload:{online:ye}}),bn()}}),gn({event:_t,callback:function(e){var t=e.data,n=e.error;if(t&&t.message){var r=t.message;t.changeType===de&&Ne.dispatch(Ze({messages:[r]}))}else console.log(_t,n,t)}}),gn({event:Qt,callback:function(e){var t=e.data,n=e.error;if(t&&t.message){var r=t.message,a=t.changeType,o=Et(Ne.getState()),c=o.objectId,i=o.hasSeen,l=void 0===i?[]:i,u=o.partOfTeams,s=Tt(Ne.getState(),{id:r.ownerAliasId||r.ownerId});return l.includes(r.ownerAliasId||r.ownerId)||u.some((function(e){return s.partOfTeams.includes(e)}))||Kt({userId:c,user:{hasSeen:l.concat([r.ownerAliasId||r.ownerId])}}).catch((function(e){return console.log(e)})),void(a===de&&Ne.dispatch(Ze({messages:[r]})))}console.log(Qt,n,t)}}),gn({event:Xt,callback:function(e){var t=e.error,n=e.data;if(n&&n.room){var r=n.room,a=n.changeType;if(r.isWhisper&&r.spyMode){var o=Et(Ne.getState());if(!H({objectToAccess:r,toAuth:o}).adminAccess)return}a===de?Ne.dispatch(Ft({rooms:[r]})):a===se?Ne.dispatch(Gt({rooms:[r]})):a===me&&Ne.dispatch(Bt({rooms:[r]}))}else console.log(Xt,t,n)}}),gn({event:Zt,callback:function(e){var t=e.error,n=e.data;n&&n.room&&n.user?Ne.dispatch(function(){var e=Object(Y.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(c.b)((function(){t(Gt({rooms:[n.room]})),t(Yt({users:[n.user]}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):console.log(Zt,t,n)}}),gn({event:$t,callback:function(e){var t=e.error,n=e.data;if(n&&n.user){var r=n.user,a=n.changeType;a===de?Ne.dispatch(Vt({users:[r]})):a===se&&Ne.dispatch(Yt({users:[r]}))}else console.log($t,t,n)}}),gn({event:rn,callback:function(e){var t=e.error,n=e.data;if(n&&n.alias){var r=n.alias,a=n.changeType;a===de?Ne.dispatch(tn({aliases:[r]})):a===se&&Ne.dispatch(function(e){var t=e.aliases;return 1===t.length?{type:"alias",payload:{alias:t[0],changeType:se}}:{type:J,payload:{aliases:t,changeType:se}}}({aliases:[r]}))}else console.log(rn,t,n)}}),gn({event:an,callback:function(e){var t=e.error,n=e.data;if(n&&n.wallet){var r=n.wallet,a=n.changeType;a===de?Ne.dispatch(_e({wallets:[r]})):a===se&&Ne.dispatch(Ke({wallets:[r]}))}else console.log(an,t,n)}}),gn({event:on,callback:function(e){var t=e.error,n=e.data;if(n&&n.transaction&&(n.changeType===se||n.wallet)){var r=n.transaction,a=n.changeType;a===de?Ne.dispatch(Xe(n)):a===se&&Ne.dispatch(function(e){var t=e.transactions;return 1===t.length?{type:"transaction",payload:{transaction:t[0],changeType:se}}:{type:oe,payload:{transactions:t,changeType:se}}}({transactions:[r]}))}else console.log(on,t,n)}}),gn({event:un,callback:function(e){var t=e.error,n=e.data;if(n&&n.docFile){var r=n.docFile,a=n.changeType;a===de?Ne.dispatch(ln({docFiles:[r]})):a===se&&Ne.dispatch(cn({docFiles:[r]}))}else console.log(un,t,n)}});var On=function(){var e=Object(Y.a)(z.a.mark((function e(t,n){var r,a,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn(fn,{user:{username:t,password:n}});case 2:return r=e.sent,a=r.user,o=r.token,Ne.dispatch(Be({userId:a.objectId,token:o,retrieveAll:En})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),wn=function(){var e=Object(Y.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ne.dispatch(He(En));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jn=(n(45),a.a.forwardRef((function(e,t){var n=e.children,o=e.onClick,c=e.elementId,i=e.scrollTo,l=e.stopPropagation,u=void 0!==l&&l,s=e.className,d=void 0===s?"":s,m=Object(r.useRef)(null);return Object(r.useLayoutEffect)((function(){i&&m.current&&(m.current.scrollIntoView({behavior:"smooth",block:"nearest"}),setTimeout((function(){return m.current.scrollIntoView({behavior:"smooth",block:"nearest"})}),300))}),[i]),a.a.createElement("li",{ref:function(e){t&&(t.current=e),m.current=e},id:c,className:"ListItem ".concat(o?"clickable":""," ").concat(d),onClick:function(e){o&&o(e),"UL"===e.target.parentElement.tagName&&e.target.parentElement.click(),u&&e.stopPropagation()}},n)}))),In=a.a.memo(jn);function kn(){return(kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}jn.defaultProps={onClick:void 0,className:"",stopPropagation:!1,elementId:void 0,children:void 0,scrollTo:!1};var Cn=a.a.createElement("line",{x1:3,y1:12,x2:21,y2:12}),Nn=a.a.createElement("line",{x1:3,y1:6,x2:21,y2:6}),Sn=a.a.createElement("line",{x1:3,y1:18,x2:21,y2:18}),Ln=function(e){var t=e.svgRef,n=e.title,r=xn(e,["svgRef","title"]);return a.a.createElement("svg",kn({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-menu",ref:t},r),n?a.a.createElement("title",null,n):null,Cn,Nn,Sn)},Rn=a.a.forwardRef((function(e,t){return a.a.createElement(Ln,kn({svgRef:t},e))})),Tn=(n.p,function(e){return e.mode}),An=function(e){return{type:"mode",payload:{mode:e.mode,target:e.target}}},Mn=function(e){return{type:"mode",payload:{target:e.target}}},Pn=function(e){var t=e.windows;if(1===t.length){var n=Object(l.a)(t,1)[0],r=n.value,a=n.id;return function(e){Object(c.b)((function(){Tn(Ne.getState()).mode===Ie&&e(Mn({target:a})),e({type:"windowOrder",payload:{id:a,value:r,changeType:se}})}))}}return{type:"windowOrders",payload:{windows:t,changeType:se}}},Dn=function(e){return{type:"windowOrder",payload:{id:e.id,changeType:me}}},Wn=a.a.memo((function(){var e=Object(c.c)(jt),t=Object(c.c)(ut),n=[];return e===t.CreateUser.accessLevel&&n.push(a.a.createElement(In,{key:"register",onClick:function(){return Ne.dispatch(Pn({windows:[{id:we.DIALOGREGISTER,value:{type:we.DIALOGREGISTER}}]}))}},"Create user")),e===W&&n.push(a.a.createElement(In,{key:"login",onClick:function(){return Ne.dispatch(Pn({windows:[{id:we.DIALOGLOGIN,value:{type:we.DIALOGLOGIN}}]}))}},"Login")),e>=t.CreateAlias.accessLevel&&n.push(a.a.createElement(In,{key:"alias",onClick:function(){return Ne.dispatch(Pn({windows:[{id:we.DIALOGCREATEALIAS,value:{type:we.DIALOGCREATEALIAS}}]}))}},"Create alias")),e>=F&&(n.push(a.a.createElement(In,{key:"settings",onClick:function(){return Ne.dispatch(Pn({windows:[{id:we.DIALOGCONFIGSYSTEM,value:{type:we.DIALOGCONFIGSYSTEM}}]}))}},"Settings")),n.push(a.a.createElement(In,{key:"logout",onClick:function(){wn()}},"Logout"))),a.a.createElement(D,{dropdown:!0,className:"MainList",title:a.a.createElement(Rn,null)},n)}));function Fn(){return(Fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Gn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Bn=a.a.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),Hn=function(e){var t=e.svgRef,n=e.title,r=Gn(e,["svgRef","title"]);return a.a.createElement("svg",Fn({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-message-square",ref:t},r),n?a.a.createElement("title",null,n):null,Bn)},Un=a.a.forwardRef((function(e,t){return a.a.createElement(Hn,Fn({svgRef:t},e))}));n.p;function zn(){return(zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Yn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Vn=a.a.createElement("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"}),qn=a.a.createElement("line",{x1:8,y1:2,x2:8,y2:18}),Jn=a.a.createElement("line",{x1:16,y1:6,x2:16,y2:22}),Kn=function(e){var t=e.svgRef,n=e.title,r=Yn(e,["svgRef","title"]);return a.a.createElement("svg",zn({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-map",ref:t},r),n?a.a.createElement("title",null,n):null,Vn,qn,Jn)},_n=a.a.forwardRef((function(e,t){return a.a.createElement(Kn,zn({svgRef:t},e))}));n.p;function Qn(){return(Qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Zn=a.a.createElement("rect",{x:1,y:4,width:22,height:16,rx:2,ry:2}),$n=a.a.createElement("line",{x1:1,y1:10,x2:23,y2:10}),er=function(e){var t=e.svgRef,n=e.title,r=Xn(e,["svgRef","title"]);return a.a.createElement("svg",Qn({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-credit-card",ref:t},r),n?a.a.createElement("title",null,n):null,Zn,$n)},tr=a.a.forwardRef((function(e,t){return a.a.createElement(er,Qn({svgRef:t},e))}));n.p;function nr(){return(nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ar=a.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),or=a.a.createElement("polyline",{points:"14 2 14 8 20 8"}),cr=a.a.createElement("line",{x1:16,y1:13,x2:8,y2:13}),ir=a.a.createElement("line",{x1:16,y1:17,x2:8,y2:17}),lr=a.a.createElement("polyline",{points:"10 9 9 9 8 9"}),ur=function(e){var t=e.svgRef,n=e.title,r=rr(e,["svgRef","title"]);return a.a.createElement("svg",nr({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file-text",ref:t},r),n?a.a.createElement("title",null,n):null,ar,or,cr,ir,lr)},sr=a.a.forwardRef((function(e,t){return a.a.createElement(ur,nr({svgRef:t},e))}));n.p;function dr(){return(dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var fr=a.a.createElement("path",{d:"M4 11a9 9 0 0 1 9 9"}),pr=a.a.createElement("path",{d:"M4 4a16 16 0 0 1 16 16"}),hr=a.a.createElement("circle",{cx:5,cy:19,r:1}),vr=function(e){var t=e.svgRef,n=e.title,r=mr(e,["svgRef","title"]);return a.a.createElement("svg",dr({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-rss",ref:t},r),n?a.a.createElement("title",null,n):null,fr,pr,hr)},gr=a.a.forwardRef((function(e,t){return a.a.createElement(vr,dr({svgRef:t},e))}));n.p;function br(){return(br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Er=a.a.createElement("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),Or=a.a.createElement("polyline",{points:"2 17 12 22 22 17"}),wr=a.a.createElement("polyline",{points:"2 12 12 17 22 12"}),jr=function(e){var t=e.svgRef,n=e.title,r=yr(e,["svgRef","title"]);return a.a.createElement("svg",br({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-layers",ref:t},r),n?a.a.createElement("title",null,n):null,Er,Or,wr)},Ir=a.a.forwardRef((function(e,t){return a.a.createElement(jr,br({svgRef:t},e))}));n.p;function kr(){return(kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Cr=a.a.createElement("rect",{x:3,y:3,width:7,height:7}),Nr=a.a.createElement("rect",{x:14,y:3,width:7,height:7}),Sr=a.a.createElement("rect",{x:14,y:14,width:7,height:7}),Lr=a.a.createElement("rect",{x:3,y:14,width:7,height:7}),Rr=function(e){var t=e.svgRef,n=e.title,r=xr(e,["svgRef","title"]);return a.a.createElement("svg",kr({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-grid",ref:t},r),n?a.a.createElement("title",null,n):null,Cr,Nr,Sr,Lr)},Tr=a.a.forwardRef((function(e,t){return a.a.createElement(Rr,kr({svgRef:t},e))})),Ar=(n.p,function(e){return e.windowOrder}),Mr=(n(46),a.a.memo((function(){var e=Object(c.c)(Ar),t=Object(c.c)(jt),n=[],o=Object(r.useCallback)((function(e){var t=e.id,n=e.value;return Ne.dispatch(Pn({windows:[{id:t,value:n}]}))}),[]);return e.forEach((function(e,t){[we.CHAT,we.NEWS,we.DOCFILE,we.WORLDMAP,we.WALLET].includes(t)||n.push(a.a.createElement(In,{key:t},a.a.createElement(g,{onClick:function(){return o({id:t,value:e})}},t)))})),a.a.createElement("div",{className:"OpenApps"},a.a.createElement(D,{dropdown:!0,className:"apps",title:a.a.createElement(Tr,null)},a.a.createElement(In,{key:"chat"},a.a.createElement(g,{key:"chat",className:"".concat(e.get(we.CHAT)&&e.get(we.CHAT).index===e.size?"active":""),onClick:function(){return o({id:we.CHAT,value:{type:we.CHAT}})}},a.a.createElement(Un,null)),a.a.createElement("span",null,"Chat")),a.a.createElement(In,{key:"news"},a.a.createElement(g,{key:"news",className:"".concat(e.get(we.NEWS)&&e.get(we.NEWS).index===e.size?"active":""),onClick:function(){return o({id:we.NEWS,value:{type:we.NEWS}})}},a.a.createElement(gr,null)),a.a.createElement("span",null,"News")),a.a.createElement(In,{key:"docFile"},a.a.createElement(g,{key:"docFile",className:"".concat(e.get(we.DOCFILE)&&e.get(we.DOCFILE).index===e.size?"active":""),onClick:function(){return o({id:we.DOCFILE,value:{type:we.DOCFILE}})}},a.a.createElement(sr,null)),a.a.createElement("span",null,"Files")),a.a.createElement(In,{key:"worldMap"},a.a.createElement(g,{key:"worldMap",className:"".concat(e.get(we.WORLDMAP)&&e.get(we.WORLDMAP).index===e.size?"active":""),onClick:function(){return o({id:we.WORLDMAP,value:{type:we.WORLDMAP}})}},a.a.createElement(_n,null)),a.a.createElement("span",null,"Map")),t>=F&&a.a.createElement(In,{key:"wallet"},a.a.createElement(g,{key:"wallet",className:"".concat(e.get(we.WALLET)&&e.get(we.WALLET).index===e.size?"active":""),onClick:function(){return o({id:we.WALLET,value:{type:we.WALLET}})}},a.a.createElement(tr,null)),a.a.createElement("span",null,"Wallet"))),n.length>0&&a.a.createElement(D,{dropdown:!0,className:"otherWindows",title:a.a.createElement(Ir,null)},n))})));function Pr(){return(Pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Wr=a.a.createElement("circle",{cx:12,cy:12,r:10}),Fr=a.a.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),Gr=a.a.createElement("line",{x1:12,y1:17,x2:12.01,y2:17}),Br=function(e){var t=e.svgRef,n=e.title,r=Dr(e,["svgRef","title"]);return a.a.createElement("svg",Pr({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-help-circle",ref:t},r),n?a.a.createElement("title",null,n):null,Wr,Fr,Gr)},Hr=a.a.forwardRef((function(e,t){return a.a.createElement(Br,Pr({svgRef:t},e))}));n.p;function Ur(){return(Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Yr=a.a.createElement("polyline",{points:"15 18 9 12 15 6"}),Vr=function(e){var t=e.svgRef,n=e.title,r=zr(e,["svgRef","title"]);return a.a.createElement("svg",Ur({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-left",ref:t},r),n?a.a.createElement("title",null,n):null,Yr)},qr=a.a.forwardRef((function(e,t){return a.a.createElement(Vr,Ur({svgRef:t},e))}));n.p;function Jr(){return(Jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var _r=a.a.createElement("polyline",{points:"9 18 15 12 9 6"}),Qr=function(e){var t=e.svgRef,n=e.title,r=Kr(e,["svgRef","title"]);return a.a.createElement("svg",Jr({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-right",ref:t},r),n?a.a.createElement("title",null,n):null,_r)},Xr=a.a.forwardRef((function(e,t){return a.a.createElement(Qr,Jr({svgRef:t},e))})),Zr=(n.p,function(e){return e.interfaceConfig.hideMenu}),$r=(n(47),function(e){return{type:"interfaceConfiog",payload:{hideMenu:e.hideMenu,toggleHideMenu:e.toggleHideMenu}}});function ea(){return(ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ta(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var na=a.a.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),ra=a.a.createElement("circle",{cx:12,cy:7,r:4}),aa=function(e){var t=e.svgRef,n=e.title,r=ta(e,["svgRef","title"]);return a.a.createElement("svg",ea({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-user",ref:t},r),n?a.a.createElement("title",null,n):null,na,ra)},oa=a.a.forwardRef((function(e,t){return a.a.createElement(aa,ea({svgRef:t},e))})),ca=(n.p,n(48),function(e){var t=e.useIcon,n=void 0!==t&&t,r=Object(c.c)(Wt),o=Object(c.c)(Je),i=r.find((function(e){return e.objectId===o})),l=(n?r:r.filter((function(e){return e.objectId!==o}))).map((function(e){return a.a.createElement(In,{className:e.objectId===o?"selected":"",key:e.objectId,onClick:function(){return Ne.dispatch(en({aliasId:at(Ne.getState(),{id:e.objectId})?e.objectId:void 0}))}},e.name)})),u=i?i.name:"---";return a.a.createElement(D,{dropdown:!0,className:"IdentityPicker",title:n?a.a.createElement(oa,null):a.a.createElement(a.a.Fragment,null,a.a.createElement(oa,null),a.a.createElement("span",null,u))},l)}),ia=a.a.memo(ca);ca.defaultProps={useIcon:void 0};var la=a.a.memo((function(){var e=Object(c.c)(jt),t=Object(c.c)(xt),n=Object(c.c)(Zr),o=Object(c.c)(Tn),i=Object(c.c)(ze),l=[];i||l.push("warning"),Object(r.useEffect)((function(){t.hideMenuBar?Ne.dispatch($r({hideMenu:!0})):Ne.dispatch($r({hideMenu:!1}))}),[t.hideMenuBar]);var u=Object(r.useCallback)((function(){return Ne.dispatch(An({mode:Ie,target:"MenuBar"}))}),[]);return a.a.createElement(a.a.Fragment,null,n?a.a.createElement("div",{className:"miniMenu"},a.a.createElement(g,{type:"button",onClick:function(){return Ne.dispatch($r({toggleHideMenu:!0}))}},a.a.createElement(qr,null))):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{key:"MenuBar",onClick:function(){i||bn(),o.mode===Ie&&Ne.dispatch(Mn({target:"MenuBar"}))},className:"".concat("MenuBar"," ").concat(l.join(" ")),id:"MenuBar"},a.a.createElement(Wn,{key:"mainList"}),a.a.createElement(Mr,{key:"openApps"}),a.a.createElement("div",{className:"rightAligned"},!t.hideHelp&&a.a.createElement(g,{type:"button",className:"helpButton ".concat(o.mode===Ie&&"MenuBar"===o.target?"active":""),onClick:u},a.a.createElement(Hr,null)),e>=F&&a.a.createElement(ia,{useIcon:!0}),a.a.createElement(E,null)),o.mode===Ie&&"MenuBar"===o.target&&a.a.createElement("div",{className:"helpOverlay"},a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"Overview of the app, that has everything from chat and news feed to digital currency and map."),a.a.createElement("p",null,"Don't be afraid to experiment! You won't break the system."),a.a.createElement("p",null,"There is a ",a.a.createElement(Hr,null)," button in each app. The scroll is usually hidden, but you can still scroll (like in this pop-up!). Apps and menu:")),a.a.createElement("li",null,a.a.createElement(Tr,null),a.a.createElement("span",null,"APPS Shows all apps.")),a.a.createElement("li",null,a.a.createElement(Un,null),a.a.createElement("span",null,"CHAT Read and send messages. You have access to read Public without logging in.")),a.a.createElement("li",null,a.a.createElement(gr,null),a.a.createElement("span",null,"NEWS Read the latest news. You need access to be able to create news.")),a.a.createElement("li",null,a.a.createElement(sr,null),a.a.createElement("span",null,"FILES Read and create documents. You have access to read documents without logging in.")),a.a.createElement("li",null,a.a.createElement(_n,null),a.a.createElement("span",null,"MAP See the local, world map, track users and add new locations.")),a.a.createElement("li",null,a.a.createElement(tr,null),a.a.createElement("span",null,"WALLET Send and receive currency. You need to login to access your wallet.")),a.a.createElement("li",null,a.a.createElement(Rn,null),a.a.createElement("span",null,"MENU You can create a user, login, check your info, change settings and more here.")),a.a.createElement("li",null,a.a.createElement(Ir,null),a.a.createElement("span",null,"WINDOWS Other windows you have open (like dialog windows) will be listed here.")),a.a.createElement("li",null,a.a.createElement(p,null),a.a.createElement("span",null,"TIME Click it to reveal the current time."))))),e>=F&&a.a.createElement("div",{className:"miniMenu minimize"},a.a.createElement(g,{type:"button",onClick:function(){return Ne.dispatch($r({toggleHideMenu:!0}))}},a.a.createElement(Xr,null)))))})),ua=n(30);function sa(){return(sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function da(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ma=a.a.createElement("polyline",{points:"15 3 21 3 21 9"}),fa=a.a.createElement("polyline",{points:"9 21 3 21 3 15"}),pa=a.a.createElement("line",{x1:21,y1:3,x2:14,y2:10}),ha=a.a.createElement("line",{x1:3,y1:21,x2:10,y2:14}),va=function(e){var t=e.svgRef,n=e.title,r=da(e,["svgRef","title"]);return a.a.createElement("svg",sa({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-maximize-2",ref:t},r),n?a.a.createElement("title",null,n):null,ma,fa,pa,ha)},ga=a.a.forwardRef((function(e,t){return a.a.createElement(va,sa({svgRef:t},e))}));n.p;function ba(){return(ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ya(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ea=a.a.createElement("polyline",{points:"4 14 10 14 10 20"}),Oa=a.a.createElement("polyline",{points:"20 10 14 10 14 4"}),wa=a.a.createElement("line",{x1:14,y1:10,x2:21,y2:3}),ja=a.a.createElement("line",{x1:3,y1:21,x2:10,y2:14}),Ia=function(e){var t=e.svgRef,n=e.title,r=ya(e,["svgRef","title"]);return a.a.createElement("svg",ba({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-minimize-2",ref:t},r),n?a.a.createElement("title",null,n):null,Ea,Oa,wa,ja)},ka=a.a.forwardRef((function(e,t){return a.a.createElement(Ia,ba({svgRef:t},e))}));n.p;function xa(){return(xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ca(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Na=a.a.createElement("line",{x1:18,y1:6,x2:6,y2:18}),Sa=a.a.createElement("line",{x1:6,y1:6,x2:18,y2:18}),La=function(e){var t=e.svgRef,n=e.title,r=Ca(e,["svgRef","title"]);return a.a.createElement("svg",xa({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x",ref:t},r),n?a.a.createElement("title",null,n):null,Na,Sa)},Ra=a.a.forwardRef((function(e,t){return a.a.createElement(La,xa({svgRef:t},e))}));n.p;function Ta(){return(Ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Aa(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ma=a.a.createElement("circle",{cx:12,cy:12,r:3}),Pa=a.a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}),Da=function(e){var t=e.svgRef,n=e.title,r=Aa(e,["svgRef","title"]);return a.a.createElement("svg",Ta({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-settings",ref:t},r),n?a.a.createElement("title",null,n):null,Ma,Pa)},Wa=a.a.forwardRef((function(e,t){return a.a.createElement(Da,Ta({svgRef:t},e))})),Fa=(n.p,n(53),function(e){var t=e.onDoubleClick,n=e.title,o=e.done,i=e.id,l=e.onSettings,u=e.maximized,s=Object(c.c)(jt),d=Object(c.c)(xt),m=Object(c.c)(Tn),f=Object(r.useCallback)((function(){m.mode===Ie&&m.target!==i?Ne.dispatch(Mn({target:i})):Ne.dispatch(An({mode:Ie,target:i}))}),[m,i]);return a.a.createElement("div",{onDoubleClick:t,className:"TopBar"},a.a.createElement("div",{className:"TopBarHandle"},a.a.createElement("span",{className:"title"},n)),a.a.createElement("div",{className:"buttons"},!d.hideHelp&&a.a.createElement(g,{stopPropagation:!0,key:"help",className:"help ".concat(m.mode===Ie&&m.target===i?"active":""),type:"button",onClick:f},a.a.createElement(Hr,null)),s>=F&&l&&a.a.createElement(g,{key:"settings",className:"settings",stopPropagation:!0,type:"button",onClick:l},a.a.createElement(Wa,null)),!d.alwaysMaximized&&a.a.createElement(g,{type:"button",onClick:t},u?a.a.createElement(ka,null):a.a.createElement(ga,null)),a.a.createElement(g,{className:"close",stopPropagation:!0,type:"button",onClick:o},a.a.createElement(Ra,null))))}),Ga=a.a.memo(Fa);Fa.defaultProps={onSettings:void 0,maximized:void 0};n(54);var Ba=function(e){var t=e.onClick,n=e.children,o=e.menu,i=e.done,u=e.index,s=e.id,d=e.onSettings,m=(e.type,e.title),f=void 0===m?"app":m,p=e.className,h=void 0===p?"":p,v=Object(r.useRef)(),g=Object(c.c)(Ct),b=Object(c.c)(Nt),y={width:380,height:340},E=Object(r.useState)(y),O=Object(l.a)(E,2),w=O[0],j=O[1],I=Object(r.useState)({x:0,y:0}),k=Object(l.a)(I,2),x=k[0],C=k[1],N={zIndex:u},S=Object(r.useCallback)((function(){C({x:0,y:0}),j({width:"100%",height:"100%"})}),[]),L=Object(r.useCallback)((function(){"100%"===w.width&&"100%"===w.height?j(y):S()}),[w,x]);return Object(r.useEffect)((function(){(g||b)&&S()}),[g,b]),Object(r.useEffect)((function(){var e=function(e){var t=v.current.resizableElement.current.style,n=v.current.resizableElement.current.getBoundingClientRect(),r=v.current.resizableElement.current.parentElement.getBoundingClientRect(),a=e.target.screen.orientation?e.target.screen.orientation.angle:e.target.orientation;"100%"===t.width&&"100%"===t.height||(0===a?(n.left+10>r.width/2?r.height>r.width?C({x:0,y:r.height/2}):C({x:0,y:(r.width-36)/2}):C({y:0,x:0}),j({width:"100%",height:"50%"})):(n.top+10>r.height/2?r.width>r.height?C({y:0,x:r.width/2}):C({y:0,x:(r.height+36)/2}):C({y:0,x:0}),j({width:"50%",height:"100%"})))};return window.addEventListener("orientationchange",e),function(){return window.removeEventListener("orientationchange",e)}}),[]),a.a.createElement(ua.a,{ref:v,style:N,onClick:t,position:x,className:"rnd",size:w,minWidth:260,minHeight:220,maxWidth:"100%",maxHeight:"calc(100%)",bounds:"#MainWindow",dragHandleClassName:"TopBarHandle",enableResizing:{right:!0,bottom:!0,left:!0,bottomRight:!0,bottomLeft:!0},resizeHandleStyles:{left:{left:0,width:"10px"},right:{right:0,width:"10px"},bottom:{bottom:0,height:"5px"},bottomLeft:{bottom:0,left:0,width:"20px",height:"15px"},bottomRight:{bottom:0,right:0,width:"20px",height:"15px"}},onDragStart:t,onDragStop:function(e,t){var n=t.node,r=t.x,a=t.y;if(!x||r!==x.x||a!==x.y){var o=r+n.offsetWidth>=window.innerWidth,c=0===r,i=0===a,l=a+n.offsetHeight+36>=window.innerHeight,u=window.innerHeight<450,s=window.innerWidth<450,d=v.current.resizableElement.current.parentElement.getBoundingClientRect();u||s||!i||!c||o||l?u||s||!i||!o||c||l?u||s||!l||!c||o||i?u||s||!l||!o||c||i?s||!c||o?s||!o||c?u||!i||l?u||!l||i?C({x:r,y:a}):(j({height:"50%",width:"100%"}),C({x:0,y:d.height/2})):(j({height:"50%",width:"100%"}),C({y:0,x:0})):(j({width:"50%",height:"100%"}),C({x:d.width/2,y:0})):(j({width:"50%",height:"100%"}),C({x:0,y:0})):(j({width:"50%",height:"50%"}),C({x:d.width/2,y:d.height/2})):(j({width:"50%",height:"50%"}),C({x:0,y:d.height/2})):(j({width:"50%",height:"50%"}),C({x:d.width/2,y:0})):(j({width:"50%",height:"50%"}),C({x:0,y:0}))}},onResizeStart:t,onResizeStop:function(e,t,n,r,a){n.offsetWidth===w.width&&n.offsetHeight===w.height||(j({width:n.offsetWidth,height:n.offsetHeight}),C(a))}},a.a.createElement("div",{className:"Window ".concat(h)},g?a.a.createElement("div",null):a.a.createElement(Ga,{maximized:"100%"===w.width&&"100%"===w.height,onSettings:d,id:s,done:i,title:f,onDoubleClick:L}),a.a.createElement("div",{className:"windowBox"},o&&a.a.createElement("div",{className:"menu"},o),a.a.createElement("div",{className:"content"},n))))},Ha=a.a.memo(Ba);Ba.defaultProps={done:void 0,className:void 0,title:"app",menu:void 0,type:"window",onSettings:void 0};var Ua=nt()([function(e){return e.transactions},function(e,t){return t.ids}],(function(e,t){return Object(ue.a)(e.values()).filter((function(e){var n=e.fromWalletId,r=e.toWalletId;return t.includes(n)||t.includes(r)})).map((function(e){return e.objectId})).reverse()}))((function(e,t){var n=t.ids;return"transaction-ids-".concat(n.join(" "))})),za=(n(55),a.a.memo((function(e){var t=e.transactionId,n=Object(c.c)((function(e){return function(e,t){var n=t.id;return e.transactions.get(n)}(e,{id:t})})),r=Object(c.c)((function(e){return Mt(e,{id:n.fromWalletId})})),o=Object(c.c)((function(e){return Mt(e,{id:n.toWalletId})}))||Ne.getState().config.get("systemUser"),i=Object(c.c)(ht),l=Object(c.c)(pt),u=y({date:n.customTimeCreated||n.timeCreated,dayModification:i,yearModification:l});return a.a.createElement(In,{className:"TransactionItem"},a.a.createElement("p",null,u.fullStamp),a.a.createElement("p",null,"".concat(r.teamName||r.aliasName||r.username," -> ").concat(o.teamName||o.aliasName||o.username)),a.a.createElement("p",null,"Amount: ".concat(n.amount)),n.note&&a.a.createElement("p",null,n.note))}))),Ya=a.a.memo((function(e){var t=e.walletIds,n=Object(c.c)((function(e){return Ua(e,{ids:t})}));return a.a.createElement(D,null,n.map((function(e){return a.a.createElement(za,{key:e,transactionId:e})})))})),Va=function(e){return e.wallets},qa=function(e,t){var n=t.id;return e.wallets.get(n)},Ja=nt()([Va],(function(e){return Object(ue.a)(e.values()).map((function(e){return e.objectId}))}))((function(){return"wallet-ids"})),Ka=nt()([Va,Et],(function(e,t){return Object(ue.a)(e.values()).filter((function(e){return e.ownerId===t.objectId||t.aliases.includes(e.ownerAliasId)})).map((function(e){return e.objectId}))}))((function(){return"wallet-ids-current-user"})),_a=n(5),Qa=function(e){var t=e.identityId,n=e.onClick,o=Object(c.c)((function(e){return At(e,{id:t})})),i=Object(r.useCallback)((function(){n&&n(),Ne.dispatch(Pn({windows:[{id:"".concat(we.DIALOGIDENTITY,"-").concat(t),value:{identityId:t,type:we.DIALOGIDENTITY}}]}))}),[t]);return a.a.createElement(In,{stopPropagation:!0,key:t,onClick:i},o||"-")},Xa=a.a.memo(Qa);Qa.defaultProps={onClick:void 0};n(56);var Za=function(e){var t=e.onChange,n=e.name,o=e.shouldEqual,c=e.maxLength,i=e.minLength,u=e.checked,s=e.type,d=void 0===s?"text":s,m=e.required,f=void 0!==m&&m,p=e.placeholder,h=void 0===p?"":p,v=Object(_a.c)(),g=v.register,b=v.getValues,y=Object(r.useState)(!1),E=Object(l.a)(y,2),O=E[0],w=E[1],j=Object(r.useState)(!1),I=Object(l.a)(j,2),k=I[0],x=I[1];return a.a.createElement("input",{defaultChecked:u,minLength:i,maxLength:c,required:f,name:n,ref:g({maxLength:c,minLength:i,validate:function(e){return!o||e===b(o)||"Must match ".concat(o)}}),type:d,defaultValue:"",className:"Input ".concat(k?"empty":""),onFocus:function(){O?k&&x(!1):w(!0)},onBlur:function(e){O&&f&&x(!e.target.value||""===e.target.value)},onChange:function(e){t&&t(e.target.value)},placeholder:h})},$a=a.a.memo(Za);function eo(){return(eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function to(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}Za.defaultProps={placeholder:"",required:!1,type:"text",onChange:void 0,shouldEqual:void 0,maxLength:void 0,minLength:void 0,checked:void 0};var no=a.a.createElement("path",{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"}),ro=a.a.createElement("line",{x1:18,y1:9,x2:12,y2:15}),ao=a.a.createElement("line",{x1:12,y1:9,x2:18,y2:15}),oo=function(e){var t=e.svgRef,n=e.title,r=to(e,["svgRef","title"]);return a.a.createElement("svg",eo({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-delete",ref:t},r),n?a.a.createElement("title",null,n):null,no,ro,ao)},co=a.a.forwardRef((function(e,t){return a.a.createElement(oo,eo({svgRef:t},e))})),io=(n.p,n(57),function(e){var t=e.onSubmit,n=e.formMethods,r=e.placeholder,o=void 0===r?"Search":r;return a.a.createElement(In,{className:"SearchItem"},a.a.createElement(_a.a,n,a.a.createElement("form",{onSubmit:n.handleSubmit(t)},a.a.createElement($a,{name:"search",placeholder:o}),a.a.createElement(g,{stopPropagation:!0,onClick:function(){return n.reset()}},a.a.createElement(co,null)))))}),lo=a.a.memo(io);function uo(){return(uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function so(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}io.defaultProps={placeholder:"Search"};var mo=a.a.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),fo=a.a.createElement("circle",{cx:9,cy:7,r:4}),po=a.a.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),ho=a.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),vo=function(e){var t=e.svgRef,n=e.title,r=so(e,["svgRef","title"]);return a.a.createElement("svg",uo({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-users",ref:t},r),n?a.a.createElement("title",null,n):null,mo,fo,po,ho)},go=a.a.forwardRef((function(e,t){return a.a.createElement(vo,uo({svgRef:t},e))})),bo=(n.p,n(58),a.a.memo((function(){var e=Object(_a.b)(),t=Object(_a.d)({control:e.control,name:"search"}),n=Object(c.c)(mt),o=Object(c.c)(jt),i=Object(c.c)(It),l=Object(c.c)(kt),u=Object(c.c)(Pt),s=Object(c.c)(ft),d=Object(r.useCallback)((function(){e.reset()}),[]),m=function(){var e=u;return t&&t.length>0?e=e.filter((function(e){return s||o>=B||i.includes(e.objectId)||l.some((function(t){return e.partOfTeams.includes(t)}))?e.name.toLowerCase().includes(t.toLowerCase()):e.name.toLowerCase()===t.toLowerCase()})):n&&o<B&&(e=e.filter((function(e){return i.includes(e.objectId)||l.some((function(t){return e.partOfTeams.includes(t)}))}))),e.map((function(e){var t=e.objectId;return a.a.createElement(Xa,{key:t,identityId:t,onClick:d})}))}();return a.a.createElement(D,{dropdown:!0,checkWidth:!0,className:"IdentityList",title:a.a.createElement(go,null)},a.a.createElement(lo,{onSubmit:function(){0===m.length?e.reset():1===m.length&&(Ne.dispatch(Pn({windows:[{id:"".concat(we.DIALOGIDENTITY,"-").concat(m[0].key),value:{identityId:m[0].key,type:we.DIALOGIDENTITY}}]})),e.reset())},formMethods:e,placeholder:"Search by name"}),t&&0===m.length?[a.a.createElement(In,{key:"noMatch"},"No match found")]:m)}))),yo=function(e){var t=e.walletId,n=e.onChange,r=e.className,o=void 0===r?"":r,i=Object(c.c)((function(e){return qa(e,{id:t})})),l=Object(c.c)((function(e){return Mt(e,{id:t})}));return a.a.createElement(In,{className:"WalletItem ".concat(o),onClick:function(){return n(t)}},l?"".concat(l.teamName||l.aliasName||l.username,": ").concat(i.amount):"Show all")},Eo=a.a.memo(yo);yo.defaultProps={className:""};var Oo=a.a.memo((function(e){var t=e.onChange,n=e.walletId,r=Object(c.c)(Ka);return a.a.createElement(D,{dropdown:!0,checkWidth:!0,title:"Wallets",className:"WalletList"},a.a.createElement(Eo,{className:"showAll"===n?"selected":"",key:"showAll",onChange:t,walletId:"showAll"}),r.map((function(e){return a.a.createElement(Eo,{key:e,walletId:e,onChange:t,className:n===e?"selected":""})})))}));function wo(){return(wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function jo(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Io=a.a.createElement("circle",{cx:12,cy:8,r:7}),ko=a.a.createElement("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"}),xo=function(e){var t=e.svgRef,n=e.title,r=jo(e,["svgRef","title"]);return a.a.createElement("svg",wo({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-award",ref:t},r),n?a.a.createElement("title",null,n):null,Io,ko)},Co=a.a.forwardRef((function(e,t){return a.a.createElement(xo,wo({svgRef:t},e))})),No=(n.p,a.a.memo((function(e){var t=e.onChange,n=e.walletId,r=Object(c.c)(Ja);return a.a.createElement(D,{dropdown:!0,checkWidth:!0,title:a.a.createElement("span",null,a.a.createElement(Co,null),"WALLETS"),className:"WalletList"},r.map((function(e){return a.a.createElement(Eo,{key:e,walletId:e,onChange:t,className:n===e?"selected":""})})))}))),So=(n(59),a.a.memo((function(e){var t=e.id,n=e.index,o=Object(r.useState)("showAll"),i=Object(l.a)(o,2),u=i[0],s=i[1],d=Object(c.c)(Ka),m=Object(c.c)((function(e){return Mt(e,{id:u})})),f=Object(c.c)(jt),p=Object(r.useCallback)((function(){Ne.dispatch(Pn({windows:[{id:t,value:{type:we.WALLET}}]}))}),[]),h=Object(r.useCallback)((function(){return Ne.dispatch(Dn({id:t}))}),[t]),v=Object(r.useCallback)((function(e){return s(e)}),[]),g=Object(r.useMemo)((function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Oo,{key:"walletList",onChange:v,walletId:u}),a.a.createElement(bo,{key:"identityList"}),f>=G&&a.a.createElement(No,{key:"adminWalletList",onChange:v,walletId:u}))}),[v,u]);return a.a.createElement(Ha,{id:t,className:"Wallet",index:n,done:h,title:"Wallet".concat(m?": ".concat(m.teamName||m.aliasName||m.username):""),onClick:p,menu:g},a.a.createElement(Ya,{key:"transactionList",walletIds:"showAll"!==u?[u]:d}))}))),Lo=(n(60),function(){var e=Object(r.useState)(),t=Object(l.a)(e,2),n=(t[0],t[1]),o=Object(r.useRef)();return Object(r.useEffect)((function(){!function e(){if("undefined"!==typeof window.google&&"undefined"!==typeof window.MarkerClusterer&&"undefined"!==typeof window.MapLabel){var t=new window.google.maps.Map(o.current,{disableDefaultUI:!0,fullscreenControl:!1,keyboardShortcuts:!1,mapTypeControl:!1,noClear:!0,zoomControl:!1,panControl:!1,overviewMapControl:!1,rotateControl:!1,scaleControl:!1,streetViewControl:!1,center:{lat:-34.397,lng:150.644},zoom:8,styles:[{elementType:"geometry",stylers:[{color:"#13002d"}]},{elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"administrative",stylers:[{color:"#370087"}]},{featureType:"landscape.natural.terrain",stylers:[{color:"#44003a"}]},{featureType:"road",stylers:[{color:"#6e6c6d"},{weight:.5}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{color:"#7d006c"}]}]});n(t)}else setTimeout(e,1e3)}()}),[]),a.a.createElement("div",{ref:o,className:"MapView"})}),Ro=function(e){return e.positions},To=function(e){return Object(et.createSelector)([Ro],(function(t){return Object(ue.a)(t.values()).filter((function(t){var n=t.positionType;return e===n})).map((function(e){return{positionName:e.positionName,objectId:e.objectId}}))}))},Ao=function(e){var t=e.title,n=e.positionType,o=Object(r.useMemo)(To,[]),i=Object(c.c)((function(e){return o(e,n)}));return a.a.createElement("div",{key:"positionsList",className:"PositionsList"},a.a.createElement(D,{title:t},i.map((function(e){return a.a.createElement(In,{key:e.objectId,onClick:function(){console.log(e.objectId)}},e.positionName)}))))},Mo=a.a.memo(Ao);Ao.defaultProps={title:void 0};var Po=function(e){var t=e.positionTypes,n=void 0===t?[]:t;return a.a.createElement("div",{className:"lists Positions"},n.map((function(e){return a.a.createElement(Mo,{title:e,positionType:e})})))},Do=(n(61),a.a.memo((function(e){var t=e.id,n=e.index,o=Object(r.useCallback)((function(){Ne.dispatch(Pn({windows:[{id:t,value:{type:we.WORLDMAP}}]}))}),[]);return a.a.createElement(Ha,{id:t,index:n,done:function(){return Ne.dispatch(Dn({id:t}))},className:"WorldMap",title:"map",onClick:o,menu:a.a.createElement(a.a.Fragment,null,a.a.createElement(Po,null))},a.a.createElement(Lo,null))}))),Wo=function(e){return e.rooms},Fo=function(e,t){var n=t.id;return e.rooms.get(n)},Go=nt()([Wo],(function(e){return Object(ue.a)(e.values()).filter((function(e){return!e.isWhisper&&!e.isUser}))}))((function(){return"normalRooms"})),Bo=nt()([Wo,function(e,t){return t.spyMode}],(function(e,t){return Object(ue.a)(e.values()).filter((function(e){return e.isWhisper&&("boolean"!==typeof e.spyMode&&!t||t===e.spyMode)})).map((function(e){return{objectId:e.objectId,participantIds:e.participantIds}}))}))((function(){return"whisperRooms"})),Ho=nt()([Go,wt],(function(e,t){return e.filter((function(e){return!t.includes(e.objectId)})).map((function(e){return{roomName:e.roomName,objectId:e.objectId}})).sort((function(e,t){var n=e.roomName.toLowerCase(),r=t.roomName.toLowerCase();return n>r||r<n?1:0})).map((function(e){return e.objectId}))}))((function(){return"unfollowedRooms"})),Uo=nt()([Go,wt],(function(e,t){return e.filter((function(e){return t.includes(e.objectId)})).map((function(e){return e.objectId}))}))((function(){return"followedRooms"})),zo=nt()([Bo,function(e,t){return{identityId:t.identityId,currentIdentityId:t.currentIdentityId}},function(e,t){var n=t.identityId;return Fo(e,{id:n})}],(function(e,t,n){var r=t.currentIdentityId,a=t.identityId;return e.find((function(e){return e.participantIds.includes(r)&&e.participantIds.includes(a)}))||n}))((function(e,t){var n=t.currentIdentityId,r=t.identityId;return"whisper-".concat(n,"-").concat(r)})),Yo=nt()([Lt,Dt,function(e,t){return t.ids}],(function(e,t,n){var r=e.get(n[0]),a=e.get(n[1]);return r&&a?t.find((function(e){var t=e.objectId;return r.objectId===t||r.ownerId===t||r.userIds.includes(t)}))?"".concat(r.username||r.aliasName," > ").concat(a.username||r.aliasName):"".concat(a.username||r.aliasName," > ").concat(r.username||r.aliasName):""}))((function(e,t){var n=t.ids;return"w-name-".concat(n.join(" "))}));function Vo(){return(Vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qo(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Jo=a.a.createElement("rect",{x:3,y:11,width:18,height:11,rx:2,ry:2}),Ko=a.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}),_o=function(e){var t=e.svgRef,n=e.title,r=qo(e,["svgRef","title"]);return a.a.createElement("svg",Vo({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-lock",ref:t},r),n?a.a.createElement("title",null,n):null,Jo,Ko)},Qo=a.a.forwardRef((function(e,t){return a.a.createElement(_o,Vo({svgRef:t},e))})),Xo=(n.p,n(62),a.a.memo((function(e){var t=e.roomId,n=Object(c.c)((function(e){return Fo(e,{id:t})})),o=Object(r.useCallback)((function(){Ne.dispatch(Pn({windows:[{id:"".concat(we.DIALOGJOINROOM,"-").concat(t),value:{type:we.DIALOGJOINROOM,roomId:t}}]}))}),[t]);return a.a.createElement(In,{className:"RoomItem",key:t,onClick:o},n.roomName,n.isLocked&&a.a.createElement("div",{className:"lock"},a.a.createElement(Qo,null)))}))),Zo=a.a.memo((function(e){var t=e.onChange,n=Object(c.c)(Ho);return a.a.createElement(D,{dropdown:!0,checkWidth:!0,key:"roomList",className:"RoomList",title:"Rooms"},n.map((function(e){return a.a.createElement(Xo,{key:e,roomId:e,onChange:t})})))}));function $o(){return($o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ec(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var tc=a.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),nc=a.a.createElement("circle",{cx:12,cy:12,r:3}),rc=function(e){var t=e.svgRef,n=e.title,r=ec(e,["svgRef","title"]);return a.a.createElement("svg",$o({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye",ref:t},r),n?a.a.createElement("title",null,n):null,tc,nc)},ac=a.a.forwardRef((function(e,t){return a.a.createElement(rc,$o({svgRef:t},e))})),oc=(n.p,function(){var e=Object(Y.a)(z.a.mark((function e(t){var n,r,a,o,c,i,l;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.text,r=t.roomId,a=t.image,o=Fo(Ne.getState(),{id:r}),c=o.isWhisper?o.participantIds:[],i={roomId:r,ownerAliasId:Ve(Ne.getState())||void 0,text:n.split("\n")},o.isUser?(i.messageType=ve,c.push(Je(Ne.getState())),c.push(r)):o.isWhisper?i.messageType=ve:i.messageType=he,e.next=7,yn(dn.MESSAGE,{message:i,image:a,participantIds:c});case 7:return l=e.sent,Ne.dispatch(Ze({messages:[l.message]})),e.abrupt("return",{message:l.message,switchRoom:!0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),cc=function(){var e=Object(Y.a)(z.a.mark((function e(t){var n,r,a,o,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,r=t.text,a=t.image,o={messageType:ge,text:[n].concat(r.split("\n")),roomId:st(Ne.getState()),ownerAliasId:Ve(Ne.getState())||void 0},e.next=4,yn(dn.MESSAGE,{message:o,image:a});case 4:return c=e.sent,Ne.dispatch($e(c)),e.abrupt("return",{message:c.message});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ic=function(){var e=Object(Y.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.roomId,e.next=3,yn(dn.GETMSGBYROOM,{roomId:n});case 3:return r=e.sent,Ne.dispatch(Ze({messages:r.messages})),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lc=function(){var e=Object(Y.a)(z.a.mark((function e(t){var n,r,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.room,r=Object(le.a)(Object(le.a)({},n),{},{ownerAliasId:Ve(Ne.getState())||void 0}),e.next=4,yn(dn.ROOM,{room:r});case 4:return a=e.sent,e.next=7,Ne.dispatch(Ht({room:a.room,user:a.user}));case 7:return e.abrupt("return",{room:a.room});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),uc=function(){var e=Object(Y.a)(z.a.mark((function e(t){var n,r,a,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.roomId,r=t.password,a={roomId:n,password:r,aliasId:Ve(Ne.getState())||void 0},e.next=4,yn(dn.FOLLOW,a);case 4:return o=e.sent,e.next=7,ic({roomId:n});case 7:return e.next=9,Ne.dispatch(Ht({room:o.room,user:o.user}));case 9:return e.abrupt("return",{room:o.room,user:o.user});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sc=function(){var e=Object(Y.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.roomId,e.next=3,yn(dn.REMOVEROOM,{roomId:n});case 3:return r=e.sent,e.next=6,Ne.dispatch(Bt({rooms:[{objectId:n}]}));case 6:return e.abrupt("return",{room:r.room});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dc=(n(63),function(e){var t=e.room,n=e.onChange,r=e.className,o=Object(c.c)((function(e){return Yo(e,{ids:t.participantIds})}));return a.a.createElement(In,{className:r,key:t.objectId,onClick:function(){var e=Et(Ne.getState());t.participantIds.some((function(t){return e.objectId===t||e.aliases.includes(t)}))?n({roomId:t.objectId,spyMode:t.spyMode}):uc({roomId:t.objectId}).then((function(){n({roomId:t.objectId,spyMode:t.spyMode})})).catch((function(e){return console.log(e)}))}},o,t.spyMode&&a.a.createElement("div",{className:"spy"},a.a.createElement(ac,null)))}),mc=a.a.memo(dc,(function(e,t){var n=e.room,r=t.room;return e.className===t.className&&(!!Object.keys(r).every((function(e){return n[e]&&r[e]}))&&!!r.participantIds.every((function(e){return n.participantIds.includes(e)})))}));dc.defaultProps={className:void 0};var fc=function(e){var t=e.onChange,n=e.roomId,r=Object(c.c)((function(e){return Bo(e,{spyMode:!1})})).map((function(e){return a.a.createElement(mc,{key:e.objectId,room:e,onChange:t,className:"".concat(e.objectId===n?"selected":"")})}));return a.a.createElement(D,{dropdown:!0,checkWidth:!0,key:"whisperList",className:"WhisperList",title:"PM"},r)},pc=a.a.memo(fc);fc.defaultProps={roomId:void 0};var hc=function(e){var t=e.roomId,n=e.onChange,o=e.className,i=void 0===o?"":o,l=Object(c.c)((function(e){return Fo(e,{id:t})})),u=Object(r.useCallback)((function(){return n({roomId:t})}),[t]);return a.a.createElement(In,{className:"FollowingItem ".concat(i),key:t,onClick:u},l.roomName)},vc=a.a.memo(hc);hc.defaultProps={className:""};var gc=a.a.memo((function(e){var t=e.onChange,n=e.roomId,r=Object(c.c)(Uo);return a.a.createElement(D,{dropdown:!0,checkWidth:!0,key:"followingList",className:"FollowingList",title:"Joined"},r.map((function(e){return a.a.createElement(vc,{className:"".concat(e===n?"selected":""),key:e,roomId:e,onChange:t})})))})),bc=a.a.memo((function(e){var t=e.onChange,n=e.roomId,r=Object(c.c)(jt);return a.a.createElement(a.a.Fragment,null,a.a.createElement(gc,{roomId:n,key:"following",onChange:t}),r>=F&&a.a.createElement(a.a.Fragment,null,a.a.createElement(pc,{roomId:n,key:"whisper",onChange:t}),a.a.createElement(Zo,{key:"room",onChange:t})),a.a.createElement(bo,{onDone:t,key:"user"}))})),yc=(n(64),a.a.forwardRef((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.image,n=e.onRemove,o=e.width,c=e.height,i=e.scrollTo,u=void 0!==i&&i,s=e.className,d=void 0===s?"":s,m=e.altText,f=void 0===m?"":m,p=e.fullImage,h=e.fullWidth,v=e.fullHeight,g=arguments.length>1?arguments[1]:void 0,b=Object(r.useRef)(null),y=Object(r.useState)(!1),E=Object(l.a)(y,2),O=E[0],w=E[1];Object(r.useEffect)((function(){u&&!O&&b.current&&b.current.scrollIntoView({block:"nearest"})}),[O]);var j=function(e){p&&(w(!O),e.stopPropagation())};return a.a.createElement("div",{role:"complementary",ref:b,className:"Image ".concat(O?"full":""," ").concat(d),onClick:j},n&&a.a.createElement("div",{className:"remove clickable",role:"complementary",onClick:function(e){n(),e.stopPropagation()}},"X"),p&&a.a.createElement("div",{onClick:j,className:"zoom clickable",role:"complementary"},O?a.a.createElement(ka,null):a.a.createElement(ga,null)),a.a.createElement("img",{className:p?"clickable":"",onClick:j,width:O?h:o,height:O?v:c,ref:g,src:O?p:t,alt:f}))}))),Ec=yc;function Oc(){return(Oc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wc(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}yc.defaultProps={altText:"",className:"",onRemove:void 0,width:void 0,height:void 0,fullImage:void 0,fullWidth:void 0,fullHeight:void 0,scrollTo:!1};var jc=a.a.createElement("rect",{x:3,y:3,width:18,height:18,rx:2,ry:2}),Ic=a.a.createElement("circle",{cx:8.5,cy:8.5,r:1.5}),kc=a.a.createElement("polyline",{points:"21 15 16 10 5 21"}),xc=function(e){var t=e.svgRef,n=e.title,r=wc(e,["svgRef","title"]);return a.a.createElement("svg",Oc({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-image",ref:t},r),n?a.a.createElement("title",null,n):null,jc,Ic,kc)},Cc=a.a.forwardRef((function(e,t){return a.a.createElement(xc,Oc({svgRef:t},e))})),Nc=(n.p,n(65),a.a.memo((function(e){var t=e.useIcon,n=void 0!==t&&t,o=Object(_a.c)(),c=o.register,i=o.setValue,u=Object(r.useRef)(null),s=Object(r.useState)(),d=Object(l.a)(s,2),m=d[0],f=d[1],p=Object(_a.d)({name:"image"});Object(r.useEffect)((function(){c("image")}),[]),Object(r.useEffect)((function(){i("image",m||void 0)}),[m]),Object(r.useEffect)((function(){p||f()}),[p]);return a.a.createElement("div",{className:"ImageUpload"},a.a.createElement("input",{key:"uploadInput",className:"hide",ref:u,type:"file",accept:"image/png, image/jpeg, image/pjpeg",onChange:function(e){var t=(e.target.files||[])[0];if(t){var n=new FileReader;n.addEventListener("load",(function(){if(n.result){var e={imageName:t.name,source:n.result};f(e)}})),n.readAsDataURL(t)}}}),a.a.createElement(Ec,{onRemove:function(){return f()},className:"previewImage ".concat(m?"":"hide"),image:m?m.source:"",altText:"Image preview"}),a.a.createElement(g,{type:"button",onClick:function(){u.current.click()}},a.a.createElement(Cc,null),!n&&a.a.createElement("span",null,"Upload image")))})));function Sc(){return(Sc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Lc(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Rc=a.a.createElement("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),Tc=a.a.createElement("circle",{cx:12,cy:10,r:3}),Ac=function(e){var t=e.svgRef,n=e.title,r=Lc(e,["svgRef","title"]);return a.a.createElement("svg",Sc({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-map-pin",ref:t},r),n?a.a.createElement("title",null,n):null,Rc,Tc)},Mc=a.a.forwardRef((function(e,t){return a.a.createElement(Ac,Sc({svgRef:t},e))}));n.p;function Pc(){return(Pc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dc(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Wc=a.a.createElement("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),Fc=a.a.createElement("line",{x1:7,y1:7,x2:7.01,y2:7}),Gc=function(e){var t=e.svgRef,n=e.title,r=Dc(e,["svgRef","title"]);return a.a.createElement("svg",Pc({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-tag",ref:t},r),n?a.a.createElement("title",null,n):null,Wc,Fc)},Bc=a.a.forwardRef((function(e,t){return a.a.createElement(Gc,Pc({svgRef:t},e))}));n.p;function Hc(){return(Hc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Uc(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var zc=a.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),Yc=a.a.createElement("polyline",{points:"14 2 14 8 20 8"}),Vc=a.a.createElement("line",{x1:12,y1:18,x2:12,y2:12}),qc=a.a.createElement("line",{x1:9,y1:15,x2:15,y2:15}),Jc=function(e){var t=e.svgRef,n=e.title,r=Uc(e,["svgRef","title"]);return a.a.createElement("svg",Hc({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file-plus",ref:t},r),n?a.a.createElement("title",null,n):null,zc,Yc,Vc,qc)},Kc=a.a.forwardRef((function(e,t){return a.a.createElement(Jc,Hc({svgRef:t},e))}));n.p;function _c(){return(_c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qc(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Xc=a.a.createElement("path",{d:"M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"}),Zc=a.a.createElement("line",{x1:1,y1:1,x2:23,y2:23}),$c=function(e){var t=e.svgRef,n=e.title,r=Qc(e,["svgRef","title"]);return a.a.createElement("svg",_c({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-cloud-off",ref:t},r),n?a.a.createElement("title",null,n):null,Xc,Zc)},ei=a.a.forwardRef((function(e,t){return a.a.createElement($c,_c({svgRef:t},e))})),ti=(n.p,n(66),n(67),function(e){var t=e.name,n=e.maxLength,o=e.onKeyDown,c=e.required,i=void 0!==c&&c,u=e.placeholder,s=void 0===u?"":u,d=Object(_a.c)(),m=d.register,f=d.control,p=Object(_a.d)({control:f,name:t}),h=Object(r.useState)(!1),v=Object(l.a)(h,2),g=v[0],b=v[1],y=Object(r.useState)(!1),E=Object(l.a)(y,2),O=E[0],w=E[1],j=Object(r.useRef)(null);Object(r.useEffect)((function(){!function(){if(j.current){var e=j.current;e.style.height&&e.scrollHeight.toString()===e.style.height.split("px")[0]||(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"),j.current.scrollIntoView())}}()}),[p]);return a.a.createElement("textarea",{onKeyDown:o,rows:1,maxLength:n,required:i,name:t,ref:function(e){j.current=e,m(e,{maxLength:n})},defaultValue:"",className:"Textarea ".concat(O?"empty":""),onFocus:function(){return b(!0)},onBlur:function(e){var t=e.target.value.trim();g&&i&&w(""!==t)},placeholder:s})}),ni=ti;ti.defaultProps={placeholder:"",required:!1,maxLength:void 0,onKeyDown:void 0};var ri=function(e){var t=e.roomId,n=e.onSend,o=e.minAccessLevel,i=void 0===o?F:o,u=Object(r.useState)(!1),s=Object(l.a)(u,2),d=s[0],m=s[1],f=Object(_a.b)(),p=Object(r.useRef)(null),h=Object(c.c)(ze),v=Object(c.c)(jt),b=Object(c.c)(it),y=Object(c.c)(lt);return a.a.createElement("div",{className:"InputArea"},a.a.createElement(_a.a,f,a.a.createElement("form",{onSubmit:f.handleSubmit((function(e){var r=e.text,a=e.image;m(!0),oc({roomId:t,image:a,text:r}).then((function(e){var t=e.message,r=e.switchRoom;f.setValue("text",""),f.setValue("image",void 0),r&&n({roomId:t.roomId}),m(!1)})).catch((function(e){console.log("error",e),m(!1)}))}))},v>=i&&a.a.createElement("div",{key:"buttonBox",className:"buttonBox"},b.CHAT&&a.a.createElement(Nc,{useIcon:!0}),a.a.createElement(g,{onClick:function(){}},a.a.createElement(Bc,null)),a.a.createElement(g,{onClick:function(){}},a.a.createElement(Kc,null)),y&&a.a.createElement(g,{onClick:function(){}},a.a.createElement(Mc,null)),a.a.createElement(ia,null)),a.a.createElement("div",{className:"input"},a.a.createElement(ni,{key:"input",name:"text",onKeyDown:function(e){var t=e.key;e.altKey&&"Enter"===t&&p.current&&p.current.click()},placeholder:h?"Alt+Enter to send message":"Offline. Reconnecting to server..."}),a.a.createElement(g,{ref:p,disabled:!h||d,key:"send",type:"submit",className:"sendButton",onClick:function(){}},h?a.a.createElement("span",null,"Send"):a.a.createElement(ei,null))))))},ai=a.a.memo(ri);ri.defaultProps={minAccessLevel:F};var oi=function(e,t){var n=t.id;return e.messages.get(n)},ci=function(e){return e.messages},ii=nt()([ci,function(e,t){return t.roomId}],(function(e,t){return Object(ue.a)(e.values()).filter((function(e){return e.roomId===t}))}))((function(e,t){return t.roomId})),li=nt()([ci],(function(e){return Object(ue.a)(e.values()).filter((function(e){return e.messageType===ge})).reverse()}))((function(){return"news"})),ui=nt()([ii],(function(e){return e.map((function(e){return e.objectId}))}))((function(e,t){var n=t.roomId;return"id-".concat(n)})),si=nt()([li],(function(e){return e.map((function(e){return{objectId:e.objectId,points:e.points}}))}))({keySelector:function(){return"news-ids"},selectorCreator:Object(et.createSelectorCreator)(et.defaultMemoize,(function(e,t){return e.length===t.length&&t.every((function(t,n){var r=e[n];return r&&r.objectId===t.objectId}))}))}),di=(n(68),a.a.memo((function(e){var t=e.identityId,n=e.timeCreated,r=Object(c.c)((function(e){return At(e,{id:t})})),o=Object(c.c)(ht),i=Object(c.c)(pt),l=y({date:n,dayModification:o,yearModification:i});return a.a.createElement("p",{className:"MessageInfo"},a.a.createElement("span",{role:"button",tabIndex:0,className:"clickable username",onClick:function(e){r&&Ne.dispatch(Pn({windows:[{id:"".concat(we.DIALOGIDENTITY,"-").concat(t),value:{identityId:t,type:we.DIALOGIDENTITY}}]})),e.stopPropagation()}},r||"-"),a.a.createElement("span",{className:"time"},l.fullStamp))}))),mi=(n(69),function(e){var t=e.previousMessageId,n=e.messageId,o=e.isLatest,i=void 0!==o&&o,l=e.selected,u=void 0!==l&&l,s=Object(r.useRef)(),d=Object(c.c)((function(e){return oi(e,{id:t})})),m=Object(c.c)((function(e){return oi(e,{id:n})})),f=H({objectToAccess:m,toAuth:Et(Ne.getState())}).hasFullAccess;return a.a.createElement(In,{scrollTo:u||i,ref:s,className:"MessageItem ".concat(f?"clickable":""),key:n},!(!!d&&!(new Date(m.lastUpdated).getTime()-9e5>new Date(d.lastUpdated).getTime())&&(!(!d.ownerAliasId||!m.ownerAliasId||d.ownerAliasId!==m.ownerAliasId)||!d.ownerAliasId&&!m.ownerAliasId&&d.ownerId===m.ownerId))&&a.a.createElement(di,{key:"msgInfo",identityId:m.ownerAliasId||m.ownerId,timeCreated:m.customTimeCreated||m.timeCreated}),a.a.createElement("div",{className:"text"},m.text.map((function(e,t){return a.a.createElement("p",{key:t},e)})),m.image&&m.image.thumbFileName&&a.a.createElement(Ec,{scrollTo:!0,key:m.image.thumbFileName,image:"/upload/images/".concat(m.image.thumbFileName),altText:"pic",width:m.image.thumbWidth,height:m.image.thumbHeight,fullImage:"/upload/images/".concat(m.image.fileName),fullWidth:m.image.width,fullHeight:m.image.height})))}),fi=a.a.memo(mi);mi.defaultProps={previousMessageId:void 0,selected:!1,isLatest:!1};n(70);var pi=function(e){var t=e.roomId,n=e.messageId,o=Object(c.c)((function(e){return ui(e,{roomId:t})})),i=Object(r.useRef)("");o[o.length-1]!==i&&(i.current=o[o.length-1]);return a.a.createElement(D,{observe:"lower",key:"messageList",className:"MessageList"},o.map((function(e,t,r){return a.a.createElement(fi,{isLatest:e===i.current,selected:n&&n===e,key:e,previousMessageId:r[t-1],messageId:e})})))},hi=a.a.memo(pi);pi.defaultProps={roomId:void 0,messageId:void 0};n(71);var vi=function(e){var t=e.roomId,n=e.onSend,r=Object(c.c)(jt);return a.a.createElement("div",{className:"Messages"},a.a.createElement("div",{className:"spacer"}),a.a.createElement(hi,{key:"messagesList",roomId:t}),r>=F&&a.a.createElement(ai,{onSend:n,roomId:t,key:"inputArea"}))},gi=a.a.memo(vi);vi.defaultProps={roomId:void 0};var bi=function(e){var t=e.id,n=e.children,r=Object(c.c)(Et).systemConfig,o=void 0===r?{}:r;return a.a.createElement(D,{dropdown:!0,checkWidth:!0,className:"FileMenu",title:a.a.createElement(Rn,null)},n,!o.hideTopRow&&a.a.createElement(a.a.Fragment,null,a.a.createElement(In,{stopPropagation:!0,key:"settings",onClick:function(){}},"Settings"),a.a.createElement(In,{stopPropagation:!0,key:"quit",onClick:function(){return Ne.dispatch(Dn({id:t}))}},"Quit")))},yi=a.a.memo(bi);bi.defaultProps={children:void 0};var Ei=function(e){var t=e.id,n=e.roomId,o=Object(c.c)(Et),i=Object(c.c)((function(e){return Fo(e,{id:n})})),l=Object(r.useCallback)((function(){return Ne.dispatch(Pn({windows:[{id:we.DIALOGCREATEROOM,value:{type:we.DIALOGCREATEROOM}}]}))}),[]),u=H({objectToAccess:i,toAuth:o}).hasFullAccess;return a.a.createElement(yi,{key:"fileMenu",id:t},a.a.createElement(In,{stopPropagation:!0,key:"createRoom",onClick:l},"New room"),u&&a.a.createElement(In,{stopPropagation:!0,key:"configRoom",onClick:function(){}},"Config room"),u&&!i.isWhisper&&!i.isUser&&!i.isSystemRoom&&!i.isTeam&&a.a.createElement(In,{stopPropagation:!0,key:"removeRoom",onClick:function(){return Ne.dispatch(Pn({windows:[{id:we.DIALOGREMOVEROOM,value:{type:we.DIALOGREMOVEROOM,roomId:n}}]}))}},"Delete room"))},Oi=(n(72),function(e){var t=e.id,n=e.index,o=e.roomId,i=Object(c.c)(Tn),u=Object(r.useState)(o||ct(Ne.getState())),s=Object(l.a)(u,2),d=s[0],m=s[1],f=Object(c.c)((function(e){return Fo(e,{id:d})})),p=Object(c.c)(Ot);Object(r.useEffect)((function(){!p&&f||d===ct(Ne.getState())||m(ct(Ne.getState()))}),[f,p]),Object(r.useEffect)((function(){o&&d!==o&&m(o)}),[o]);var h=function(){if(!f)return"Chat";if(f.isUser){var e=Tt(Ne.getState(),{id:d});return"PM: ".concat(e.aliasName||e.username)}return f.isWhisper?"PM: ".concat(Yo(Ne.getState(),{ids:f.participantIds})):"Chat: ".concat(f.roomName)}(),v=Object(r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.roomId;m(t)}),[]),g=Object(r.useCallback)((function(){Ne.dispatch(Pn({windows:[{id:t,value:{type:we.CHAT}}]}))}),[]),b=Object(r.useCallback)((function(){return Ne.dispatch(Dn({id:t}))}),[t]);return a.a.createElement(Ha,{id:t,index:n,done:b,className:"Chat",title:h,onClick:g,menu:a.a.createElement(a.a.Fragment,null,a.a.createElement(Ei,{roomId:d,id:t}),a.a.createElement(bc,{roomId:d,key:"rooms",onChange:v}))},a.a.createElement(gi,{key:"messages",roomId:d,onSend:v}),i.mode===Ie&&i.target===t&&a.a.createElement("div",{className:"helpOverlay"},a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,a.a.createElement(Un,null),a.a.createElement("span",null,"CHAT APP Read and send messages, to users or rooms.")),a.a.createElement("p",null,"You can only read the Public chat without logging in."),a.a.createElement("p",null,"Menus are on the left (or top in smaller windows). Messages from the current room are to the right (or below)."),a.a.createElement("p",null,"Your current room is shown in the title (CHAT: public) and in JOINED.")),a.a.createElement("li",null,a.a.createElement("p",null,"SEND The message input is shown on the bottom when you are logged in. You can send the message with either alt+Enter or clicking Send."),a.a.createElement("p",null,a.a.createElement(Cc,null),a.a.createElement("span",null,"IMAGE Attach an image. You can send a message with just an image.")),a.a.createElement("p",null,a.a.createElement(oa,null),a.a.createElement("span",null,"YOU Your name. Click it to switch identities."))),a.a.createElement("li",null,a.a.createElement("p",null,"FILE You can create a room, change settings (like changing password or name) or remove the room you are in."),a.a.createElement("p",null,"JOINED Shows you the rooms you joined. Click one to switch to it."),a.a.createElement("p",null,"PM All private conversations are shown here. It always shows your name on the left."),a.a.createElement("p",null,a.a.createElement("span",null,"ROOMS All available rooms that you haven't joined yet."),a.a.createElement(Qo,null),a.a.createElement("span",null," means that the room is password-protected.")),a.a.createElement("p",null,a.a.createElement("span",null,"USERS All users. Send a private message to a user by clicking them and choosing "),a.a.createElement(Un,null),a.a.createElement("span",null," in the pop-up."))),a.a.createElement("li",null,a.a.createElement(Wa,null),a.a.createElement("span",null,"APP SETTINGS Change settings for this app. You have to be logged in to access it.")),a.a.createElement("li",null,a.a.createElement(ga,null),a.a.createElement("span",null,"MAXIMIZE Make the window expand and take up all available space. Clicking it again will shrink the window.")),a.a.createElement("li",null,a.a.createElement(Ra,null),a.a.createElement("span",null,"CLOSE Close the window")))))}),wi=a.a.memo(Oi);Oi.defaultProps={roomId:void 0};n(73);var ji=function(e){var t=e.children,n=e.title,r=e.error,o=e.text,c=e.done,i=e.onClick,l=e.index,u=e.id,s=e.buttons,d=e.className,m=void 0===d?"":d;return a.a.createElement(Ha,{id:u,index:l,type:"dialog",done:c,title:n,className:"Dialog ".concat(m),onClick:i},r&&a.a.createElement("div",{className:"error"},a.a.createElement("span",null,r.message)),o&&a.a.createElement("div",null,o),t,s.length>0&&a.a.createElement("div",{className:"buttons"},a.a.createElement(g,{stopPropagation:!0,type:"button",onClick:function(){return Ne.dispatch(Dn({id:u}))}},"Cancel"),s))},Ii=a.a.memo(ji);ji.defaultProps={children:void 0,error:void 0,title:void 0,text:void 0,className:"",buttons:void 0};var ki=a.a.memo((function(e){var t=e.id,n=e.identityId,o=e.index,i=Object(c.c)((function(e){return Tt(e,{id:n})})),l=Object(c.c)(Je),u=Object(c.c)(Et),s=u.objectId,d=u.hasSeen,m=void 0===d?[]:d,f=u.isAnonymous,p=Object(c.c)((function(e){return gt(e,{ids:i.partOfTeams})}));Object(r.useEffect)((function(){f||m.includes(i.objectId)||Kt({userId:s,user:{hasSeen:m.concat([i.objectId])}}).catch((function(e){return console.log(e)}))}),[m,i]);var h=Object(r.useCallback)((function(){Ne.dispatch(Pn({windows:[{id:t,value:{type:we.DIALOGIDENTITY,identityId:n}}]}))}),[t,n]),v=Object(r.useCallback)((function(){return Ne.dispatch(Dn({id:t}))}),[t]),b=Object(r.useCallback)((function(){return Object(c.b)((function(){Ne.dispatch(Pn({windows:[{id:"".concat(we.DIALOGCREATETRANSACTION,"-").concat(n),value:{type:we.DIALOGCREATETRANSACTION,toWalletId:n}}]})),Ne.dispatch(Dn({id:t}))}))}),[n,t]),y=Object(r.useCallback)((function(){var e=zo(Ne.getState(),{identityId:n,currentIdentityId:l});Object(c.b)((function(){Ne.dispatch(Pn({windows:[{id:we.CHAT,value:{type:we.CHAT,roomId:e.objectId}}]})),Ne.dispatch(Dn({id:t}))}))}),[n,l,t]);return a.a.createElement(Ii,{id:t,index:o,title:"User: ".concat(i.aliasName||i.username),onClick:h,done:v,buttons:"-1"!==l&&[a.a.createElement(g,{stopPropagation:!0,key:"transfer",type:"button",onClick:b},a.a.createElement(tr,null)),a.a.createElement(g,{stopPropagation:!0,key:"whisper",type:"button",onClick:y},a.a.createElement(Un,null)),a.a.createElement(g,{stopPropagation:!0,key:"gps",type:"button",onClick:function(){}},a.a.createElement(Mc,null))]},i.image&&a.a.createElement(Ec,{scrollTo:!0,image:"/upload/images/".concat(i.image.thumbFileName),altText:"pic",width:i.image.thumbWidth,height:i.image.thumbHeight,fullImage:"/upload/images/".concat(i.image.fileName),fullWidth:i.image.width,fullHeight:i.image.height}),a.a.createElement("p",null,"Name: ".concat(i.aliasName||i.username)),p.size>0&&a.a.createElement("p",null,"Affiliations: ".concat(Object(ue.a)(p.values()).map((function(e){return e.teamName})).join(", "))))})),xi=a.a.memo((function(e){var t=e.id,n=e.index,r=Object(_a.b)(),o=function(e){var n=e.roomName,r=e.password,a=e.topic;lc({room:{roomName:n,password:r,topic:a}}).then((function(e){var n=e.room;Object(c.b)((function(){Ne.dispatch(Pn({windows:[{id:we.CHAT,value:{type:we.CHAT,roomId:n.objectId}}]})),Ne.dispatch(Dn({id:t}))}))})).catch((function(e){return console.log(e)}))};return r.errors.repeatPassword&&r.setValue("repeatPassword",""),a.a.createElement(Ii,{id:t,index:n,className:"CreateRoomDialog",onClick:function(){Ne.dispatch(Pn({windows:[{id:t,value:{type:we.DIALOGCREATEROOM}}]}))},done:function(){return Ne.dispatch(Dn({id:t}))},title:"New room",buttons:[a.a.createElement(g,{type:"submit",onClick:function(){return r.handleSubmit(o)()}},"Create")]},a.a.createElement(_a.a,r,a.a.createElement("form",{onSubmit:r.handleSubmit(o)},a.a.createElement("div",{className:"identity"},a.a.createElement("span",null,"You are: "),a.a.createElement(ia,null)),a.a.createElement($a,{required:!0,maxLength:20,name:"roomName",placeholder:"Name of the room"}),a.a.createElement($a,{maxLength:300,name:"topic",placeholder:"(opt) Topic (shown when joining the room)"}),a.a.createElement($a,{minLength:4,maxLength:100,name:"password",type:"password",placeholder:"(opt) Password"}),a.a.createElement($a,{minLength:4,maxLength:100,shouldEqual:"password",name:"repeatPassword",type:"password",placeholder:"".concat(r.errors.repeatPassword?"Error. Passwords must match!":"(opt) Repeat password")}))))})),Ci=a.a.memo((function(e){var t=e.id,n=e.roomId,o=e.index,i=Object(r.useState)(),u=Object(l.a)(i,2),s=u[0],d=u[1],m=Object(c.c)((function(e){return Fo(e,{id:n})}));return a.a.createElement(Ii,{id:t,index:o,className:"RemoveRoomDialog",error:s,onClick:function(){Ne.dispatch(Pn({windows:[{id:t,value:{type:we.DIALOGREMOVEROOM,roomId:n}}]}))},done:function(){return Ne.dispatch(Dn({id:t}))},title:"Delete room ".concat(m?m.roomName:""),text:"Are you sure you want to delete ".concat(m?m.roomName:"","?"),buttons:[a.a.createElement(g,{type:"submit",onClick:function(){sc({roomId:n}).then((function(){Object(c.b)((function(){Ne.dispatch(Pn({windows:[{id:we.CHAT,value:{type:we.CHAT}}]})),Ne.dispatch(Dn({id:t}))}))})).catch((function(e){return d(e)}))}},"Yes")]})})),Ni=a.a.memo((function(e){var t=e.id,n=e.index,o=Object(_a.b)(),c=Object(r.useState)(),i=Object(l.a)(c,2),u=i[0],s=i[1],d=function(){var e=Object(Y.a)(z.a.mark((function e(n){var r,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.username,a=n.password,On(r,a).then((function(){Ne.dispatch(Dn({id:t}))})).catch((function(e){s(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=Object(r.useCallback)((function(){Ne.dispatch(Pn({windows:[{id:t,value:{type:we.DIALOGLOGIN}}]}))}),[t]),f=Object(r.useCallback)((function(){return o.handleSubmit(d)()}),[]),p=Object(r.useCallback)((function(){return Ne.dispatch(Dn({id:t}))}),[t]);return a.a.createElement(Ii,{id:t,index:n,className:"LoginDialog",onClick:m,done:p,error:u,title:"Login",buttons:[a.a.createElement(g,{key:"submit",type:"submit",onClick:f},"Login")]},a.a.createElement(_a.a,o,a.a.createElement("form",{onSubmit:o.handleSubmit(d)},a.a.createElement($a,{name:"username",placeholder:"Username"}),a.a.createElement($a,{name:"password",placeholder:"Password",type:"password"}))))})),Si=(n(74),function(e){var t=e.onChange,n=e.children,o=e.name,c=e.defaultValue,i=e.required,u=void 0!==i&&i,s=e.placeholder,d=void 0===s?"":s,m=e.multiple,f=void 0!==m&&m,p=Object(_a.c)().register,h=Object(r.useState)(!1),v=Object(l.a)(h,2),g=v[0],b=v[1],y=Object(r.useState)(!1),E=Object(l.a)(y,2),O=E[0],w=E[1],j=function(e){var t=Array.from(e.target.selectedOptions).filter((function(e){return""!==e.value}));g&&u&&w(0===t.length)};return a.a.createElement("select",{defaultValue:c,required:u,name:o,ref:p,className:"Select ".concat(O?"empty":""),onFocus:function(){return b(!0)},onBlur:j,onChange:function(e){j(e),t&&t(Array.from(e.target.selectedOptions).map((function(e){return e.value})).filter((function(e){return""!==e})))},placeholder:d,multiple:f},n)}),Li=Si;Si.defaultProps={multiple:!1,children:void 0,placeholder:"",required:!1,onChange:void 0,defaultValue:void 0};var Ri=a.a.memo((function(e){var t=e.id,n=e.index,o=Object(_a.b)(),i=Object(r.useState)(),u=Object(l.a)(i,2),s=u[0],d=(u[1],Object(r.useState)()),m=Object(l.a)(d,2),f=m[0],p=m[1],h=Object(c.c)(ot),v=function(){var e=Object(Y.a)(z.a.mark((function e(n){var r,a,o,c,i,l,u;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.offName,a=n.username,o=n.password,c=n.repeatPassword,i=n.pronouns,l=n.description,(!h||r)&&a&&o&&c&&i){e.next=3;break}return e.abrupt("return");case 3:if(o===c){e.next=5;break}return e.abrupt("return");case 5:return u={image:s,user:{offName:r,username:a,password:o,pronouns:i,description:l?l.split("\n"):void 0}},e.prev=6,e.next=9,Jt(u);case 9:return e.next=11,On(a,o);case 11:Ne.dispatch(Dn({id:t})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),p(e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),b=Object(r.useCallback)((function(){Ne.dispatch(Pn({windows:[{id:t,value:{type:we.DIALOGREGISTER}}]}))}),[t]),y=Object(r.useCallback)((function(){return Ne.dispatch(Dn({id:t}))}),[t]),E=Object(r.useCallback)((function(){return o.handleSubmit(v)()}),[]);return a.a.createElement(Ii,{id:t,index:n,error:f,onClick:b,done:y,title:"Register user",buttons:[a.a.createElement(g,{type:"submit",onClick:E},"Register")]},a.a.createElement(_a.a,o,a.a.createElement("form",{onSubmit:o.handleSubmit(v)},h&&a.a.createElement($a,{required:!0,name:"offName",placeholder:"Out-of-game name"}),a.a.createElement($a,{required:!0,name:"username",placeholder:"Username"}),a.a.createElement(Li,{multiple:!0,required:!0,name:"pronouns"},a.a.createElement("option",{value:""},"---Choose pronouns---"),a.a.createElement("option",{value:"they"},"They/Them"),a.a.createElement("option",{value:"she"},"She/Her"),a.a.createElement("option",{value:"he"},"He/Him"),a.a.createElement("option",{value:"it"},"It")),a.a.createElement($a,{required:!0,name:"password",placeholder:"Password",type:"password"}),a.a.createElement($a,{required:!0,shouldEqual:"password",name:"repeatPassword",placeholder:"Repeat password",type:"password"}),a.a.createElement(ni,{name:"description",placeholder:"Description"}))))})),Ti=function(){var e=Object(Y.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn(dn.ALIAS,t);case 2:return n=e.sent,e.next=5,Ne.dispatch(nn(n));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ai=a.a.memo((function(e){var t=e.id,n=e.index,o=Object(_a.b)(),c=Object(r.useState)(),i=Object(l.a)(c,2),u=i[0],s=(i[1],function(){var e=Object(Y.a)(z.a.mark((function e(n){var r,a,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.aliasName,a=n.pronouns,o=n.description,Ti({image:u,alias:{aliasName:r,pronouns:a,description:o}}).then((function(){return Ne.dispatch(Dn({id:t}))})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=Object(r.useCallback)((function(){Ne.dispatch(Pn({windows:[{id:t,value:{type:we.DIALOGCREATEALIAS}}]}))}),[t]),m=Object(r.useCallback)((function(){return Ne.dispatch(Dn({id:t}))}),[t]),f=Object(r.useCallback)((function(){return o.handleSubmit(s)()}),[]);return a.a.createElement(Ii,{id:t,index:n,title:"New alias",onClick:d,done:m,buttons:[a.a.createElement(g,{stopPropagation:!0,key:"submit",type:"submit",onClick:f},"Create")]},a.a.createElement(_a.a,o,a.a.createElement("form",{onSubmit:o.handleSubmit(s)},a.a.createElement($a,{required:!0,name:"aliasName",placeholder:"Alias name"}),a.a.createElement(Li,{multiple:!0,required:!0,name:"pronouns"},a.a.createElement("option",{value:""},"---Choose pronouns---"),a.a.createElement("option",{value:"they"},"They/Them"),a.a.createElement("option",{value:"she"},"She/Her"),a.a.createElement("option",{value:"he"},"He/Him"),a.a.createElement("option",{value:"it"},"It")),a.a.createElement(ni,{name:"description",placeholder:"Description"}))))})),Mi=function(){var e=Object(Y.a)(z.a.mark((function e(t){var n,r,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.transaction,r=Object(le.a)(Object(le.a)({},n),{},{ownerAliasId:Ve(Ne.getState())||void 0}),e.next=4,yn(dn.TRANSACTION,{transaction:r});case 4:return a=e.sent,e.next=7,Ne.dispatch(Xe(a));case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pi=a.a.memo((function(e){var t=e.id,n=e.toWalletId,o=e.index,i=Object(_a.b)(),l=Object(c.c)(Je),u=Object(c.c)(Ka),s=Object(c.c)((function(e){return Rt(e,{ids:u})})),d=Object(c.c)((function(e){return Mt(e,{id:n})})),m=[],f=function(){var e=Object(Y.a)(z.a.mark((function e(r){var a,o,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.note,o=r.amount,c=r.fromWalletId,Mi({transaction:{note:a,amount:o,fromWalletId:c,toWalletId:n}}).then((function(){return Ne.dispatch(Dn({id:t}))})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();s.forEach((function(e){m.push(a.a.createElement("option",{key:e.objectId,value:e.objectId},e.teamName||e.aliasName||e.username))}));var p=Object(r.useCallback)((function(){Ne.dispatch(Pn({windows:[{id:t,value:{type:we.DIALOGCREATETRANSACTION,toWalletId:n}}]}))}),[t,n]),h=Object(r.useCallback)((function(){return Ne.dispatch(Dn({id:t}))}),[t]),v=Object(r.useCallback)((function(){return i.handleSubmit(f)()}),[]);return a.a.createElement(Ii,{id:t,index:o,title:"Transfer to ".concat(d.teamName||d.aliasName||d.username),onClick:p,done:h,buttons:[a.a.createElement(g,{stopPropagation:!0,key:"submit",type:"submit",onClick:v},"Transfer")]},a.a.createElement(_a.a,i,a.a.createElement("form",{onSubmit:i.handleSubmit(f)},a.a.createElement("p",null,"You are making a transfer to ".concat(d.teamName||d.aliasName||d.username)),a.a.createElement("div",null,a.a.createElement("span",null,"From your wallet: "),a.a.createElement(Li,{required:!0,defaultValue:l,name:"fromWalletId"},a.a.createElement("option",{value:""},"---Choose wallet---"),a.a.createElement(a.a.Fragment,null,m))),a.a.createElement($a,{required:!0,name:"amount",placeholder:"Amount"}),a.a.createElement($a,{name:"note",placeholder:"Note"}))))})),Di=(n(75),function(e,t){var n=t.id;return e.docFiles.get(n)}),Wi=nt()([function(e){return e.docFiles}],(function(e){return Object(ue.a)(e.values()).map((function(e){return{objectId:e.objectId,title:e.title}}))}))((function(){return"docFile-ids-names"})),Fi=function(){var e=Object(Y.a)(z.a.mark((function e(t){var n,r,a,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docFile,r=t.images,a=Object(le.a)(Object(le.a)({},n),{},{code:""!==n.code?n.code:void 0,ownerAliasId:Ve(Ne.getState())||void 0,text:n.text.split("\n")}),e.next=4,yn(dn.DOCFILE,{docFile:a,images:r});case 4:return o=e.sent,e.next=7,Ne.dispatch(ln({docFiles:[o.docFile]}));case 7:return e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gi=function(){var e=Object(Y.a)(z.a.mark((function e(t){var n,r,a,o,c,i,l,u,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.docFileId,r=t.code,a={docFileId:n,code:r,aliasId:Ve(Ne.getState())||void 0},o=Et(Ne.getState()),c=Di(Ne.getState(),{id:n}),!o.isAnonymous||!c.isPublic){e.next=6;break}return e.abrupt("return",{docFile:c});case 6:if(i=H({toAuth:o,objectToAccess:Object(le.a)(Object(le.a)({},c),{},{isPublic:!1})}),l=i.hasAccess,u=i.adminAccess,!l||u){e.next=9;break}return e.abrupt("return",{docFile:c});case 9:return e.next=11,yn(dn.UNLOCKDOCFILE,a);case 11:return s=e.sent,e.next=14,Ne.dispatch(cn({docFiles:[s.docFile]}));case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bi=(n(76),a.a.memo((function(e){var t=e.docFileId,n=e.onChange,r=Object(c.c)((function(e){return Di(e,{id:t})})),o=Object(c.c)(jt);return a.a.createElement(In,{stopPropagation:!0,elementId:"docFile-".concat(t),className:"DocFileItem",key:r.objectId,onClick:function(){r.isLocked&&o<B?Ne.dispatch(Pn({windows:[{id:"".concat(we.DIALOGUNLOCKROOM,"-").concat(t),value:{docFileId:t,type:we.DIALOGUNLOCKROOM}}]})):Gi({docFileId:t}).then((function(){return n(t)})).catch((function(e){return console.log(e)}))}},r.title,r.isLocked&&a.a.createElement("div",{className:"lock"},a.a.createElement(Qo,null)))}))),Hi=a.a.memo((function(e){var t=e.onChange,n=Object(r.useRef)(),o=Object(_a.b)(),i=Object(_a.d)({control:o.control,name:"search"}),l=Object(c.c)(Wi),u=function(){var e=l.sort((function(e,t){var n=e.title.toLowerCase(),r=t.title.toLowerCase();return n>r?1:n<r?-1:0}));return i&&i.length>0&&(e=e.filter((function(e){return e.title.toLowerCase().includes(i.toLowerCase())||(e.tags||[]).includes(i.toLowerCase())}))),e.map((function(e){var n=e.objectId;return a.a.createElement(Bi,{key:n,docFileId:n,onChange:t})}))}();return a.a.createElement(D,{alwaysExpanded:!0,ref:n},a.a.createElement(lo,{onSubmit:function(){if(0===u.length)o.reset();else if(1===u.length){var e=n.current.querySelector("#docFile-".concat(u[0].key));e&&(e.click(),o.reset())}},formMethods:o,placeholder:"Search by tile/tags"}),u)})),Ui=(n(77),a.a.memo((function(e){var t=e.docFileId,n=Object(c.c)((function(e){return Di(e,{id:t})})),r=Object(c.c)((function(e){return Mt(e,{id:n.ownerAliasId||n.ownerId})}));return a.a.createElement("div",{className:"DocFileViewer"},a.a.createElement("div",{className:"close"}),a.a.createElement("h1",{className:"title"},n.title),a.a.createElement("div",{className:"info"},a.a.createElement("p",{className:"author"},"Author: ".concat(r.teamName||r.aliasName||r.username)),a.a.createElement("p",{className:"code"},"Code: ".concat(n.code)),a.a.createElement("p",{className:"public"},"Public: ".concat(n.isPublic?"Yes":"No"))),a.a.createElement("div",{className:"text"},n.text.join("\n")))}))),zi=function(e){var t=e.id,n=e.docFileId,o=e.index,i=Object(r.useState)(),u=Object(l.a)(i,2),s=u[0],d=u[1],m=Object(c.c)((function(e){return Di(e,{id:n})}));Object(r.useEffect)((function(){n&&s!==n&&d(n)}),[n]);var f=Object(r.useCallback)((function(){Ne.dispatch(Pn({windows:[{id:t,value:{type:we.DOCFILE}}]}))}),[]),p=Object(r.useCallback)((function(){return Ne.dispatch(Dn({id:t}))}),[t]),h=Object(r.useCallback)((function(e){return d(e)}),[]),v=Object(r.useCallback)((function(){return Ne.dispatch(Pn({windows:[{id:we.DIALOGCREATEDOCFILE,value:{type:we.DIALOGCREATEDOCFILE}}]}))}));return a.a.createElement(Ha,{id:t,index:o,done:p,className:"DocFile",title:"".concat(m?"Document: ".concat(m.title):"Documents"),onClick:f,menu:a.a.createElement(a.a.Fragment,null,a.a.createElement(yi,{id:t},a.a.createElement(In,{stopPropagation:!0,onClick:v,key:"createDocFile"},"New document")))},a.a.createElement(Hi,{onChange:h}),s&&a.a.createElement(Ui,{key:"viewer",docFileId:s,onChange:h}))},Yi=a.a.memo(zi);zi.defaultProps={docFileId:void 0};n(78);var Vi=a.a.memo((function(e){var t=e.id,n=e.index,o=Object(_a.b)(),c=Object(r.useState)(),i=Object(l.a)(c,2),u=i[0],s=(i[1],function(){var e=Object(Y.a)(z.a.mark((function e(n){var r,a,o,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.title,a=n.text,o=n.code,c=n.isPublic,Fi({images:u?[u]:void 0,docFile:{title:r,text:a,code:o,isPublic:c}}).then((function(){return Ne.dispatch(Dn({id:t}))})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return a.a.createElement(Ii,{id:t,index:n,className:"CreateDocFileDialog",title:"New document",onClick:function(){Ne.dispatch(Pn({windows:[{id:t,value:{type:we.DIALOGCREATEDOCFILE}}]}))},done:function(){return Ne.dispatch(Dn({id:t}))},buttons:[a.a.createElement(g,{stopPropagation:!0,key:"submit",type:"submit",onClick:function(){return o.handleSubmit(s)()}},"Create")]},a.a.createElement(_a.a,o,a.a.createElement("form",{onSubmit:o.handleSubmit(s)},a.a.createElement("div",{className:"identity"},a.a.createElement("span",null,"You are:"),a.a.createElement(ia,null)),a.a.createElement("div",{className:"public"},a.a.createElement($a,{type:"checkbox",name:"isPublic"}),a.a.createElement("span",null,"Do you want it to be available to the public? (A user with the right code can always access the document)")),a.a.createElement($a,{required:!0,maxLength:40,name:"title",placeholder:"Title"}),a.a.createElement($a,{name:"code",placeholder:"Code"}),a.a.createElement(ni,{required:!0,maxLength:3500,name:"text",placeholder:"Text"}))))}));function qi(){return(qi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ji(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ki=a.a.createElement("line",{x1:5,y1:12,x2:19,y2:12}),_i=a.a.createElement("polyline",{points:"12 5 19 12 12 19"}),Qi=function(e){var t=e.svgRef,n=e.title,r=Ji(e,["svgRef","title"]);return a.a.createElement("svg",qi({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-right",ref:t},r),n?a.a.createElement("title",null,n):null,Ki,_i)},Xi=a.a.forwardRef((function(e,t){return a.a.createElement(Qi,qi({svgRef:t},e))})),Zi=(n.p,n(79),a.a.memo((function(e){var t=e.messageId,n=Object(c.c)((function(e){return oi(e,{id:t})}));return a.a.createElement(In,{className:"DashNewsItem",key:n.objectId,onClick:function(){return Ne.dispatch(Pn({windows:[{id:we.NEWS,value:{type:we.NEWS,messageId:n.objectId}}]}))}},a.a.createElement("p",null,n.text[0],a.a.createElement(Xi,null)))}))),$i=(n(80),a.a.memo((function(){var e=Object(c.c)(Je),t=Object(c.c)(Ot),n=Object(c.c)((function(t){return At(t,{id:e})})),r=Object(c.c)((function(t){return qa(t,{id:e})})),o=Object(c.c)(si),i=Object(c.c)(Zr),l=Object(c.c)(ht),u=Object(c.c)(pt),s=y({date:new Date,dayModification:l,yearModification:u}),d=function(){return o&&0!==o.length?o.sort((function(e,t){var n=e.points,r=t.points;return n>r?-1:n<r?1:0})).slice(0,5).map((function(e){return a.a.createElement(Zi,{key:e.objectId,messageId:e.objectId})})):[a.a.createElement(In,{key:"noNews"},"There are no news.")]};return a.a.createElement("div",{className:"Dashboard"},i&&a.a.createElement("div",{className:"nav"},a.a.createElement(Wn,null),a.a.createElement(Mr,null),a.a.createElement(E,null)),t&&a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Welcome!"),a.a.createElement("p",null,s.fullDate),a.a.createElement(D,{alwaysExpanded:!0,title:"Top News",className:"news"},d())),!t&&a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Welcome, ".concat(n,"!")),a.a.createElement("p",null,"Today's date is ".concat(s.fullDate)),r&&a.a.createElement("p",null,"You have ".concat(r.amount," in your wallet.")),a.a.createElement(D,{alwaysExpanded:!0,title:"News",className:"news"},d())))})));function el(){return(el=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tl(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var nl=a.a.createElement("polyline",{points:"6 9 12 15 18 9"}),rl=function(e){var t=e.svgRef,n=e.title,r=tl(e,["svgRef","title"]);return a.a.createElement("svg",el({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-down",ref:t},r),n?a.a.createElement("title",null,n):null,nl)},al=a.a.forwardRef((function(e,t){return a.a.createElement(rl,el({svgRef:t},e))}));n.p;function ol(){return(ol=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cl(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var il=a.a.createElement("polyline",{points:"18 15 12 9 6 15"}),ll=function(e){var t=e.svgRef,n=e.title,r=cl(e,["svgRef","title"]);return a.a.createElement("svg",ol({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-up",ref:t},r),n?a.a.createElement("title",null,n):null,il)},ul=a.a.forwardRef((function(e,t){return a.a.createElement(ll,ol({svgRef:t},e))})),sl=(n.p,n(81),function(e){var t=e.messageId,n=e.expand,o=void 0!==n&&n,i=e.className,u=void 0===i?"":i,s=Object(r.useRef)(),d=Object(r.useState)(!1),m=Object(l.a)(d,2),f=m[0],p=m[1],h=Object(c.c)((function(e){return oi(e,{id:t})})),v=Object(c.c)((function(e){return At(e,{id:h.ownerAliasId||h.ownerId})})),g=Object(c.c)(ht),b=Object(c.c)(pt),E=y({date:h.customTimeCreated||h.timeCreated,dayModification:g,yearModification:b});return Object(r.useEffect)((function(){p(o)}),[o]),a.a.createElement(In,{scrollTo:f,ref:s,elementId:"news-".concat(t),onClick:function(){return p(!f)},className:"NewsItem ".concat(f?"expanded":""," ").concat(u)},a.a.createElement("div",{className:"title"},a.a.createElement("p",null,h.text[0]),a.a.createElement("p",{className:"info"},a.a.createElement("span",null,"".concat(E.halfDate," "),E.halfTime),a.a.createElement("span",null," By: ".concat(v)),!f&&a.a.createElement(al,null),f&&a.a.createElement(ul,null))),f&&a.a.createElement("div",{className:"newsContent"},h.image&&h.image.thumbFileName&&a.a.createElement(Ec,{image:"/upload/images/".concat(h.image.thumbFileName),fullImage:"/upload/images/".concat(h.image.fileName),altText:"pic",width:h.image.thumbWidth,height:h.image.thumbHeight,fullWidth:h.image.width,fullHeight:h.image.height}),a.a.createElement("div",{className:"text"},h.text.slice(1).map((function(e,t){return a.a.createElement("p",{key:t},e)})))))}),dl=a.a.memo(sl);sl.defaultProps={className:"",expand:!1};n(82);var ml=function(e){var t=e.messageId,n=Object(r.useRef)(null),o=Object(c.c)(si);return a.a.createElement(D,{observe:"upper",ref:n,className:"NewsList"},0===o.length&&[a.a.createElement(In,{key:"noNews"},a.a.createElement("p",null,"There are no news"))],Object(ue.a)(o).filter((function(e){return e.points&&e.points>0})).sort((function(e,t){var n=e.points,r=t.points;return n>r?-1:n<r?1:0})).slice(0,3).map((function(e){return a.a.createElement(dl,{key:"top-".concat(e.objectId),messageId:e.objectId,className:"topNews"})})).concat(Object(ue.a)(o).map((function(e){return a.a.createElement(dl,{expand:e.objectId===t,key:e.objectId,messageId:e.objectId})}))))},fl=a.a.memo(ml);ml.defaultProps={messageId:void 0};n(83);var pl=function(e){var t=e.id,n=e.messageId,o=e.index,i=Object(c.c)((function(e){return Fo(e,{id:st(e)})})),l=Object(r.useCallback)((function(){Ne.dispatch(Pn({windows:[{id:t,value:{type:we.NEWS,messageId:n}}]}))}),[n]),u=Object(r.useCallback)((function(){return Ne.dispatch(Dn({id:t}))}),[t]),s=Object(r.useCallback)((function(){return Ne.dispatch(Pn({windows:[{id:we.DIALOGCREATENEWS,value:{type:we.DIALOGCREATENEWS}}]}))}),[]),d=Object(r.useCallback)((function(){Ne.dispatch(Pn({windows:[{id:we.DIALOGSETTINGSNEWS,value:{type:we.DIALOGSETTINGSNEWS}}]}))}),[t]);return a.a.createElement(Ha,{onSettings:d,id:t,index:o,done:u,className:"News",title:"News",onClick:l,menu:a.a.createElement(a.a.Fragment,null,a.a.createElement(yi,{key:"fileMenu",id:t},i&&a.a.createElement(In,{stopPropagation:!0,key:"createNews",onClick:s},"New article")))},a.a.createElement(fl,{messageId:n}))},hl=a.a.memo(pl);pl.defaultProps={messageId:void 0};var vl=a.a.memo((function(e){var t=e.id,n=e.index,o=Object(c.c)(dt),i=Object(c.c)(Je),u=Object(c.c)((function(e){return qa(e,{id:i})})),s=Object(_a.b)(),d=Object(r.useState)(),m=Object(l.a)(d,2),f=m[0],p=(m[1],function(e){var n=e.title,r=e.text,a=e.image;cc({title:n,text:r,image:a}).then((function(e){var n=e.message;Object(c.b)((function(){Ne.dispatch(Pn({windows:[{id:we.NEWS,value:{type:we.NEWS,messageId:n.objectId}}]})),Ne.dispatch(Dn({id:t}))}))})).catch((function(e){return console.log(e)}))});return a.a.createElement(Ii,{id:t,index:n,className:"CreateNewsDialog",onClick:function(){Ne.dispatch(Pn({windows:[{id:t,value:{type:we.DIALOGCREATENEWS}}]}))},done:function(){return Ne.dispatch(Dn({id:t}))},error:f,title:"New article",buttons:[a.a.createElement(g,{key:"submit",type:"submit",onClick:function(){return s.handleSubmit(p)()}},"Create")]},a.a.createElement(_a.a,s,a.a.createElement("form",{onSubmit:s.handleSubmit(p)},a.a.createElement("div",{className:"identity"},a.a.createElement("span",null,"You are:"),a.a.createElement(ia,null)),a.a.createElement("div",null,a.a.createElement("p",null,"The article fee is: ".concat(o)),a.a.createElement("p",null,"You have ".concat(u.amount," in your wallet"))),a.a.createElement($a,{required:!0,maxLength:200,name:"title",placeholder:"Title"}),a.a.createElement(Nc,null),a.a.createElement(ni,{required:!0,maxLength:800,name:"text",placeholder:"Text"}))))}));function gl(){return(gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bl(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var yl=a.a.createElement("rect",{x:3,y:11,width:18,height:11,rx:2,ry:2}),El=a.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"}),Ol=function(e){var t=e.svgRef,n=e.title,r=bl(e,["svgRef","title"]);return a.a.createElement("svg",gl({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-unlock",ref:t},r),n?a.a.createElement("title",null,n):null,yl,El)},wl=a.a.forwardRef((function(e,t){return a.a.createElement(Ol,gl({svgRef:t},e))})),jl=(n.p,a.a.memo((function(e){var t=e.roomId,n=e.id,o=e.index,i=Object(r.useState)(),u=Object(l.a)(i,2),s=u[0],d=u[1],m=Object(c.c)((function(e){return Fo(e,{id:t})})),f=Object(c.c)(Et),p=Object(_a.b)(),h=H({objectToAccess:m,toAuth:f}).hasAccess,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.password;uc({roomId:t,password:r}).then((function(){Object(c.b)((function(){Ne.dispatch(Pn({windows:[{id:we.CHAT,value:{type:we.CHAT,roomId:t}}]})),Ne.dispatch(Dn({id:n}))}))})).catch((function(e){var t=Object(le.a)({},e);console.log(e),"not allowed"===e.type&&(t.message="Incorrect password"),d(t)}))};return a.a.createElement(Ii,{id:n,error:s,index:o,className:"JoinRoomDialog",onClick:function(){Ne.dispatch(Pn({windows:[{id:n,value:{type:we.DIALOGJOINROOM,roomId:t}}]}))},done:function(){return Ne.dispatch(Dn({id:n}))},title:h?"Join room ".concat(m.roomName):"Unlock room ".concat(m.roomName),buttons:[a.a.createElement(g,{stopPropagation:!0,type:"submit",onClick:function(){return p.handleSubmit(v)()}},!h&&a.a.createElement(wl,null),a.a.createElement("span",null,h?"Join":"Unlock"))]},a.a.createElement(_a.a,p,a.a.createElement("form",{onSubmit:p.handleSubmit(v)},a.a.createElement("div",{className:"identity"},a.a.createElement("span",null,"You are: "),a.a.createElement(ia,null)),a.a.createElement("div",null,h&&a.a.createElement("p",null,"Do you want to join room ".concat(m.roomName,"?")),h&&m.topic&&a.a.createElement("p",null,"Topic: ".concat(m.topic)),!h&&a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"The room is locked."),a.a.createElement("p",null,"Enter the password to continue:"))),!h&&a.a.createElement($a,{required:!h,minLength:4,maxLength:100,name:"password",type:"password",placeholder:"Password"}))))}))),Il=(n(84),a.a.memo((function(e){var t=e.id,n=e.index,o=Object(_a.b)(),i=Object(c.c)(Et),l=i.systemConfig,u=void 0===l?{}:l,s=function(e){var n=e.hideHelp,r=e.hideTopBar,a=e.alwaysMaximized,o=e.hideMenuBar,c=e.openApps;Kt({userId:i.objectId,user:{systemConfig:Object(le.a)(Object(le.a)({},u),{},{hideHelp:n,hideTopBar:r,alwaysMaximized:a,hideMenuBar:o,openApps:c})}}).then((function(){return Ne.dispatch(Dn({id:t}))})).catch((function(e){return console.log(e)}))},d=Object(r.useCallback)((function(){Ne.dispatch(Pn({windows:[{id:t,value:{type:we.DIALOGCONFIGSYSTEM}}]}))}),[t]),m=Object(r.useCallback)((function(){return Ne.dispatch(Dn({id:t}))}),[t]),f=Object(r.useCallback)((function(){return o.handleSubmit(s)()}),[]);return a.a.createElement(Ii,{className:"ConfigSystemDialog configDialog",id:t,index:n,title:"System config: ".concat(i.username),onClick:d,done:m,buttons:[a.a.createElement(g,{stopPropagation:!0,key:"submit",onClick:f,type:"submit"},"Update")]},a.a.createElement(_a.a,o,a.a.createElement("form",{onSubmit:o.handleSubmit(s)},a.a.createElement("div",null,a.a.createElement("span",null,"Select up to 2 apps that will auto-open when you log in (you can choose how they are expanded and placed in Settings for each app):"),a.a.createElement(Li,{multiple:!0,defaultValue:u.openApps,name:"openApps"},a.a.createElement("option",{value:""},"No app"),a.a.createElement("option",{value:we.CHAT},"Chat"),a.a.createElement("option",{value:we.WALLET},"Wallet"),a.a.createElement("option",{value:we.WORLDMAP},"Map"),a.a.createElement("option",{value:we.DOCFILE},"Files"),a.a.createElement("option",{value:we.NEWS},"News"))),a.a.createElement("div",null,a.a.createElement("span",null,"Hide help buttons?"),a.a.createElement($a,{type:"checkbox",name:"hideHelp",checked:u.hideHelp})),a.a.createElement("div",null,a.a.createElement("span",null,"Hide top row in windows? (Windows will be auto-maximized)?"),a.a.createElement($a,{type:"checkbox",name:"hideTopBar",checked:u.hideTopBar})),a.a.createElement("div",null,a.a.createElement("span",null,"Automatically maximize windows?"),a.a.createElement($a,{type:"checkbox",name:"alwaysMaximized",checked:u.alwaysMaximized})),a.a.createElement("div",null,a.a.createElement("span",null,"Minimize main menu?"),a.a.createElement($a,{type:"checkbox",name:"hideMenuBar",checked:u.hideMenuBar})))))}))),kl=a.a.memo((function(e){var t=e.docFileId,n=e.id,o=e.index,i=Object(r.useState)(),u=Object(l.a)(i,2),s=u[0],d=u[1],m=Object(c.c)((function(e){return Di(e,{id:t})})),f=Object(_a.b)(),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.code;Gi({docFileId:t,code:r}).then((function(){Object(c.b)((function(){Ne.dispatch(Pn({windows:[{id:we.DOCFILE,value:{type:we.DOCFILE,docFileId:t}}]})),Ne.dispatch(Dn({id:n}))}))})).catch((function(e){var t=Object(le.a)({},e);console.log(e),"not allowed"===e.type&&(t.message="Incorrect code"),d(t)}))};return a.a.createElement(Ii,{id:n,error:s,index:o,className:"UnlockDocFileDialog",onClick:function(){Ne.dispatch(Pn({windows:[{id:n,value:{type:we.DIALOGUNLOCKROOM,docFileId:t}}]}))},done:function(){return Ne.dispatch(Dn({id:n}))},title:"Unlock file ".concat(m.title),buttons:[a.a.createElement(g,{stopPropagation:!0,key:"submit",type:"submit",onClick:function(){return f.handleSubmit(p)()}},a.a.createElement(wl,null),a.a.createElement("span",null,"Unlock"))]},a.a.createElement(_a.a,f,a.a.createElement("form",{onSubmit:f.handleSubmit(p)},a.a.createElement("div",{className:"identity"},a.a.createElement("span",null,"You are: "),a.a.createElement(ia,null)),a.a.createElement("div",null,a.a.createElement("p",null,"The file is locked."),a.a.createElement("p",null,"Enter the code to continue:")),a.a.createElement($a,{required:!0,name:"code",type:"text",placeholder:"Code"}))))})),xl=a.a.memo((function(e){var t=e.id,n=e.index,o=Object(c.c)(Et),i=Object(_a.b)(),u=Object(r.useState)(),s=Object(l.a)(u,2),d=s[0],m=(s[1],o.systemConfig),f=void 0===m?Object(Ue.a)({},we.NEWS,{}):m,p=function(e){var n=e.expand,r=e.hideTopBar;Kt({userId:o.objectId,user:{systemConfig:Object(le.a)(Object(le.a)({},f),{},Object(Ue.a)({},we.NEWS,Object(le.a)(Object(le.a)({},f[we.NEWS]),{},{expand:n,hideTopBar:r})))}}).then((function(){return Ne.dispatch(Dn({id:t}))})).catch((function(e){return console.log(e)}))};return a.a.createElement(Ii,{id:t,index:n,className:"SettingsNewsDialog configDialog",onClick:function(){Ne.dispatch(Pn({windows:[{id:t,value:{type:we.DIALOGSETTINGSNEWS}}]}))},done:function(){return Ne.dispatch(Dn({id:t}))},error:d,title:"Settings: News App",buttons:[a.a.createElement(g,{key:"submit",type:"submit",onClick:function(){return i.handleSubmit(p)()}},"Update")]},a.a.createElement(_a.a,i,a.a.createElement("form",{onSubmit:i.handleSubmit(p)},a.a.createElement("div",null,a.a.createElement("span",null,"Hide top row? (Window will be auto-maximized. You can close and change settings for the window under File)?"),a.a.createElement($a,{type:"checkbox",name:"hideTopBar",checked:f.hideTopBar})),a.a.createElement("div",null,a.a.createElement("span",null,"Automatically expand and place window?"),a.a.createElement(Li,{defaultValue:f[we.NEWS].expand,name:"expand"},a.a.createElement("option",{value:""},"No"),a.a.createElement("option",{value:"maximize"},"Maximize"),a.a.createElement("option",{value:"left"},"Left half"),a.a.createElement("option",{value:"right"},"Right half"))))))})),Cl=(n(85),a.a.memo((function(){var e=Object(c.c)(xt),t=Object(c.c)(Ar),n=[];return Object(r.useEffect)((function(){e.openApp&&Ne.dispatch(Pn({windows:[{id:e.openApp,value:{type:e.openApp}}]}))}),[e.openApp]),Object(r.useEffect)((function(){document.addEventListener("click",(function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.mozRequestFullScreen&&e.mozRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}))}),[]),t.forEach((function(e,t){var r=e.type;r===we.CHAT?n.push(a.a.createElement(wi,{key:t,id:t,roomId:e.roomId,index:e.index})):r===we.WALLET?n.push(a.a.createElement(So,{key:t,id:t,index:e.index})):r===we.WORLDMAP?n.push(a.a.createElement(Do,{key:t,id:t,index:e.index})):r===we.DOCFILE?n.push(a.a.createElement(Yi,{key:t,id:t,docFileId:e.docFileId,index:e.index})):r===we.NEWS?n.push(a.a.createElement(hl,{key:t,id:t,messageId:e.messageId,index:e.index})):r===we.DIALOGIDENTITY?n.push(a.a.createElement(ki,{key:t,id:t,identityId:e.identityId,index:e.index})):r===we.DIALOGCREATEROOM?n.push(a.a.createElement(xi,{key:t,id:t,index:e.index})):r===we.DIALOGLOGIN?n.push(a.a.createElement(Ni,{key:t,id:t,index:e.index})):r===we.DIALOGREGISTER?n.push(a.a.createElement(Ri,{key:t,id:t,index:e.index})):r===we.DIALOGREMOVEROOM?n.push(a.a.createElement(Ci,{key:t,id:t,roomId:e.roomId,index:e.index})):r===we.DIALOGCREATEALIAS?n.push(a.a.createElement(Ai,{key:t,id:t,index:e.index})):r===we.DIALOGCREATETRANSACTION?n.push(a.a.createElement(Pi,{key:t,id:t,toWalletId:e.toWalletId,index:e.index})):r===we.DIALOGCREATEDOCFILE?n.push(a.a.createElement(Vi,{key:t,id:t,index:e.index})):r===we.DIALOGCREATENEWS?n.push(a.a.createElement(vl,{key:t,id:t,index:e.index})):r===we.DIALOGJOINROOM?n.push(a.a.createElement(jl,{key:t,id:t,roomId:e.roomId,index:e.index})):r===we.DIALOGCONFIGSYSTEM?n.push(a.a.createElement(Il,{key:t,id:t,index:e.index})):r===we.DIALOGUNLOCKROOM?n.push(a.a.createElement(kl,{key:t,id:t,index:e.index,docFileId:e.docFileId})):r===we.DIALOGSETTINGSNEWS&&n.push(a.a.createElement(xl,{key:t,id:t,index:e.index}))})),a.a.createElement("div",{key:"mainWindow",id:"MainWindow"},a.a.createElement($i,null),n)})));var Nl=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(a.a.StrictMode,null,a.a.createElement(la,null),a.a.createElement(Cl,null)))},Sl=(n(86),n(87));Object(i.a)(),Sl.ElementQueries.listen(),Object(o.render)(a.a.createElement(c.a,{store:Ne},a.a.createElement(Nl,null)),document.getElementById("root"))}]),[[31,1,2]]]);
//# sourceMappingURL=main.221731f9.chunk.js.map