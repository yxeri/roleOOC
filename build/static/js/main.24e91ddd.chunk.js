(this.webpackJsonproleterminal=this.webpackJsonproleterminal||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){},,,,,,,,,function(e,t,a){e.exports=a(90)},,,,,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var n,l,r=a(0),o=a.n(r),c=a(5),i=a(1),s=a(22);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const m=e=>{let{svgRef:t,title:a,...r}=e;return o.a.createElement("svg",d({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-clock",ref:t},r),a?o.a.createElement("title",null,a):null,n||(n=o.a.createElement("circle",{cx:12,cy:12,r:10})),l||(l=o.a.createElement("polyline",{points:"12 6 12 12 16 14"})))},u=o.a.forwardRef((e,t)=>o.a.createElement(m,d({svgRef:t},e)));a.p;var p=a(6);a(32);const h=o.a.forwardRef((e,t)=>{let{onClick:a,children:n,disabled:l,stopPropagation:r,className:c="",type:i="button"}=e;return o.a.createElement("button",{ref:t,className:"Button ".concat(c),disabled:l,type:i,onClick:e=>{a(e),r&&e.stopPropagation()}},n)});var g=o.a.memo(h);h.propTypes={onClick:p.func.isRequired,children:p.node.isRequired,type:Object(p.oneOf)(["button","submit"]),disabled:p.bool,className:p.string,stopPropagation:p.bool},h.defaultProps={type:"button",disabled:void 0,className:"",stopPropagation:void 0};const E=e=>e>9?"".concat(e):"0".concat(e),f=e=>{let{date:t,offset:a,lockDate:n,yearModification:l,dayModification:r}=e;const o=new Date(t),c={};return a&&o.setHours(o.getHours()+a),n||!l&&!r||(l&&!Number.isNaN(l)&&o.setFullYear(o.getFullYear()+parseInt(l,10)),r&&!Number.isNaN(r)&&o.setDate(o.getDate()+parseInt(r,10))),c.mins=E(o.getMinutes()),c.hours=E(o.getHours()),c.seconds=E(o.getSeconds()),c.month=E(o.getMonth()+1),c.day=E(o.getDate()),c.year=o.getFullYear(),c.halfTime="".concat(c.hours,":").concat(c.mins),c.fullTime="".concat(c.halfTime,":").concat(c.seconds),c.halfDate="".concat(c.day,"/").concat(c.month),c.fullDate="".concat(c.halfDate,"/").concat(c.year),c.fullStamp="".concat(c.halfTime," ").concat(c.fullDate),c};a(35);const y=e=>{let{alwaysShow:t}=e;const a=Object(r.useRef)(),[n,l]=Object(r.useState)(new Date),[c,i]=Object(r.useState)(!1),s=f({date:n}),d=()=>{a.current=setTimeout(()=>{l(new Date),d()},1e3)};Object(r.useEffect)(()=>(d(),()=>clearTimeout(a.current)),[]);const m=Object(r.useCallback)(()=>i(!c),[c]);return o.a.createElement("div",{key:"clock",className:"Clock"},!t&&o.a.createElement(g,{className:"icon ".concat(c?"active":""),onClick:m},o.a.createElement(u,null)),o.a.createElement(g,{onClick:m,className:"time ".concat(c||t?"":"hide")},s.fullTime))};var b,v,w,O=o.a.memo(y);function I(){return(I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}y.defaultProps={alwaysShow:void 0};const k=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",I({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-up-circle",ref:t},n),a?o.a.createElement("title",null,a):null,b||(b=o.a.createElement("circle",{cx:12,cy:12,r:10})),v||(v=o.a.createElement("polyline",{points:"16 12 12 8 8 12"})),w||(w=o.a.createElement("line",{x1:12,y1:16,x2:12,y2:8})))},j=o.a.forwardRef((e,t)=>o.a.createElement(k,I({svgRef:t},e)));var C,N,L;a.p;function x(){return(x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const A=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",x({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-down-circle",ref:t},n),a?o.a.createElement("title",null,a):null,C||(C=o.a.createElement("circle",{cx:12,cy:12,r:10})),N||(N=o.a.createElement("polyline",{points:"8 12 12 16 16 12"})),L||(L=o.a.createElement("line",{x1:12,y1:8,x2:12,y2:16})))},R=o.a.forwardRef((e,t)=>o.a.createElement(A,x({svgRef:t},e)));a.p,a(36);const T=o.a.forwardRef((e,t)=>{let{children:a,title:n,wideTitle:l,observe:c,startRevealed:i=!1,alwaysExpanded:s=!1,checkWidth:d=!1,dropdown:m=!1,className:u=""}=e;const p=Object(r.useRef)(),h=Object(r.useRef)(),E=Object(r.useRef)(null),f=Object(r.useRef)(null),[y,b]=Object(r.useState)(!i&&!s&&"undefined"!==typeof n),v=[],w=["List"].concat([u]),O=Object(r.useCallback)(e=>{m&&!y&&E.current&&(!d||!f.current||f.current.offsetWidth<600)&&("INPUT"===e.target.tagName||E.current.parentElement.contains(e.target)&&(e.target===E.current||e.currentTarget!==E.current)||b(!0))},[y]),I=e=>{let{direction:t}=e;"bottom"===t&&E.current.lastElementChild?E.current.lastElementChild.scrollIntoView({behavior:"smooth",block:"end"}):"top"===t&&E.current.firstElementChild&&E.current.firstElementChild.scrollIntoView({behavior:"smooth",block:"start"})};return Object(r.useEffect)(()=>{if(!y&&m&&E.current){const e=E.current.getBoundingClientRect();e.right>window.innerWidth?E.current.classList.add("right"):E.current.classList.remove("right"),e.bottom>window.innerHeight?E.current.classList.add("bottom"):E.current.classList.remove("bottom")}},[y]),Object(r.useEffect)(()=>(E.current&&c&&(p.current=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?h.current.classList.add("hide"):h.current.classList.remove("hide")})},{root:E.current,rootMargin:"50px",threshold:1}),"upper"===c&&E.current.firstElementChild&&p.current.observe(E.current.firstElementChild),"lower"===c&&E.current.lastElementChild&&p.current.observe(E.current.lastElementChild)),()=>{p.current&&p.current.disconnect()}),[]),Object(r.useEffect)(()=>{p.current&&(p.current.disconnect(),"upper"===c&&E.current.firstElementChild&&p.current.observe(E.current.firstElementChild),"lower"===c&&E.current.lastElementChild&&p.current.observe(E.current.lastElementChild))},[a]),Object(r.useEffect)(()=>(m&&(y?document.removeEventListener("mousedown",O):document.addEventListener("mousedown",O)),()=>document.removeEventListener("mousedown",O)),[y]),y?v.push("hide"):w.push("expanded"),m&&v.push("dropdown"),o.a.createElement("div",{key:"List",className:w.join(" ")},n&&o.a.createElement("header",{role:"button",tabIndex:0,key:"listHeader",className:"toggle ".concat(s?"":"clickable"),onClick:()=>{s||b(!y)}},n,l&&o.a.createElement("div",{className:"wideTitle"},l)),c&&"upper"===c&&o.a.createElement(g,{key:"upper",className:"upper hide",ref:h,onClick:()=>I({direction:"top"})},o.a.createElement(j,null)),o.a.createElement("ul",{ref:e=>{E.current=e,t&&(t.current=e),e&&(f.current=e.closest(".Window"))},key:"listElem",className:"".concat(v.join(" ")),onClick:e=>{m&&(O(e),e.stopPropagation())}},a),c&&"lower"===c&&o.a.createElement(g,{key:"lower",className:"lower hide",ref:h,onClick:()=>I({direction:"bottom"})},o.a.createElement(R,null)))});var S=o.a.memo(T);T.defaultProps={className:"",children:void 0,title:void 0,dropdown:!1,checkWidth:!1,alwaysExpanded:!1,observe:void 0,startRevealed:void 0,wideTitle:void 0};const D={ANONYMOUS:0,STANDARD:1,PRIVILEGED:2,MODERATOR:3,ADMIN:4,SUPERUSER:5,GOD:6},M=e=>{let{objectToAccess:t,toAuth:a,adminLevel:n=D.ADMIN}=e;if(!t||!a)return{canSee:!1,hasFullAccess:!1,hasAccess:!1};const{ownerId:l,ownerAliasId:r,teamId:o,isPublic:c,visibility:i,teamIds:s=[],userIds:d=[],userAdminIds:m=[],teamAdminIds:u=[]}=t,{hasFullAccess:p,partOfTeams:h=[],accessLevel:g=D.ANONYMOUS,objectId:E,teamIds:f=[],aliases:y=[]}=a,b=r&&y.includes(r),v=o&&h.includes(o),w=d.concat([l]).includes(E),O=v||s.find(e=>f.includes(e)),I=b||y.find(e=>d.includes(e)),k=m.includes(E),j=b||y.find(e=>m.includes(e)),C=v||u.find(e=>f.includes(e)),N=l===E||p||g>=n;return{canSee:N||c||w||O||I||g>=i,hasAccess:N||c||w||O||I,hasFullAccess:N||k||C||j,adminAccess:!c&&!w&&!O&&!I&&N}};var P=a(7),F=a(18);const W="aliases",G="devices",B="docFiles",H="forums",U="forumPosts",V="forumThreads",z="gameCodes",Y="invitations",q="messages",J="rooms",K="simpleMsgs",X="teams",Z="transactions",Q="users",$="wallets",_="update",ee="create",te="remove",ae=(e,t)=>{const a=new Map([...e]),{type:n,payload:l}=t,{changeType:r}=l,o=l[n];switch(r){case ee:return a.set(o.objectId,o),a;case _:{const t=a.get(o.objectId)||{},n={...t,...o};return t===n?e:(a.set(o.objectId,n),a)}case te:return a.has(o.objectId)?(a.delete(o.objectId),a):e;default:return e}},ne=(e,t)=>{const{type:a,payload:n}=t,{reset:l,changeType:r}=n,o=l?new Map:new Map([...e]),c=n[a];switch(r){case ee:return c.forEach(e=>o.set(e.objectId,e)),o;case _:return c.forEach(e=>{const t=o.get(e.objectId)||{},a={...t,...e};t!==a&&o.set(e.objectId,a)}),o;case te:return c.forEach(e=>o.delete(e.objectId)),o;default:return e}};const le="chat",re="whisper",oe="news";const ce="online",ie="offline",se="reconnecting";const de=new Map;de.set("broadcastId","111111111111111111111116"),de.set("publicRoomId","111111111111111111111110"),de.set("newsRoomId","111111111111111111111114"),de.set("defaultForum","111111111111111111111120"),de.set("defaultLanguage","en"),de.set("centerCoordinates",{longitude:0,latitude:0}),de.set("cornerOneCoordinates",{longitude:0,latitude:0}),de.set("cornerTwoCoordinates",{longitude:0,latitude:0}),de.set("defaultZoomLevel",15),de.set("yearModification",0),de.set("dayModification",0),de.set("requireOffName",!1),de.set("activateTermination",!1),de.set("allowedImages",{CHAT:!1,PROFILE:!1,DOCFILE:!1}),de.set("newsCost",0),de.set("onlySeen",!1),de.set("allowPartialSearch",!0),de.set("disallowProfileEdit",!1),de.set("gpsTracking",!1),de.set("permissions",{CreateAlias:{name:"CreateAlias",accessLevel:D.STANDARD},CreateUser:{name:"CreateUser",accessLevel:D.ANONYMOUS}}),de.set("anonymousUser",{accessLevel:D.ANONYMOUS,followingRooms:["111111111111111111111110"],objectId:"-1",isAnonymous:!0,systemConfig:{},aliases:[],hasSeen:[],partOfTeams:[]}),de.set("systemUser",{objectId:"222222222222222222222220",username:"SYSTEM"});const me={WALLET:"Wallet",CHAT:"Chat",WORLDMAP:"Map",DOCFILEDIR:"Files directory",DOCFILEVIEW:"File",NEWS:"News",TEAMS:"Teams",IDENTITIES:"Users",DIALOGIDENTITY:"User",DIALOGCREATEROOM:"New room",DIALOGREMOVEROOM:"Remove room",DIALOGREGISTER:"Register",DIALOGLOGIN:"Login",DIALOGCREATEALIAS:"New alias",DIALOGCREATETRANSACTION:"Transfer",DIALOGCREATEDOCFILE:"New file",DIALOGCREATENEWS:"New article",DIALOGJOINROOM:"Join room",DIALOGCONFIGSYSTEM:"Config system",DIALOGPROFILE:"Profile",DIALOGUNLOCKFILE:"Unlock file",DIALOGAPPSETTINGS:"App settings"},ue=new Map;const pe="help",he={mode:"default",target:""};const ge={hideMenu:!1};var Ee=Object(P.b)({users:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"user"===t.type?ae(e,t):t.type===Q?ne(e,t):e},aliases:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"alias"===t.type?ae(e,t):t.type===W?ne(e,t):e},messages:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"message"===t.type?ae(e,t):t.type===q?ne(e,t):e},online:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;if("online"===t.type){const{payload:e}=t,{online:a}=e;return a}return e},rooms:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"room"===t.type?ae(e,t):t.type===J?ne(e,t):e},userId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-1",t=arguments.length>1?arguments[1]:void 0;if("userId"===t.type){const{payload:e}=t,{reset:a,userId:n}=e;return a?"-1":n}return e},positions:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"position"===t.type?ae(e,t):"positions"===t.type?ne(e,t):e},transactions:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"transaction"===t.type?ae(e,t):t.type===Z?ne(e,t):e},wallets:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"wallet"===t.type?ae(e,t):t.type===$?ne(e,t):e},config:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;if("config"===t.type){const{payload:a}=t,{entries:n}=a,l=new Map([...e]);return n.forEach(e=>l.set(e[0],e[1])),l}return e},aliasId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if("aliasId"===t.type){const{payload:e}=t,{reset:a,aliasId:n}=e;return a?null:n}return e},windowOrder:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;if("windowOrder"===t.type){const{payload:a}=t,{id:n,value:l,changeType:r}=a,o=new Map([...e]);if(r===_){if(o.size>0&&o.get(n)&&o.get(n).index===o.size){const t=o.get(n);if(Object.keys(l).length===Object.keys(t).length-1&&Object.keys(l).every(e=>t[e]===l[e]))return e}const t={...l};if(o.get(n)){const e=[...o.entries()].sort((e,t)=>{const a=e[1].index,n=t[1].index;return a>n?1:a<n?-1:0}),[a]=e.splice(e.findIndex(e=>{let[t]=e;return t===n}),1);a[1]={...t},e.push(a),e.forEach((e,t)=>{let[a,n]=e;const l={...n,index:t+1};o.set(a,l)})}else t.index=o.size+1,o.set(n,t);return o}return r===te?(o.delete(n),o):e}if("windowOrders"===t.type){const{payload:a}=t,{windows:n,reset:l}=a,r=new Map([...e]);return l?ue:(n.forEach(e=>{let{id:t,value:a}=e;const n={...a,index:r.size+1};r.set(t,n)}),r)}return e},teams:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"team"===t.type?ae(e,t):t.type===X?ne(e,t):e},docFiles:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"docFile"===t.type?ae(e,t):t.type===B?ne(e,t):e},mode:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;if("mode"===t.type){const{payload:a}=t,{mode:n,target:l}=a,r={...e};return!n&&l&&e.target===l?e:(l&&n!==e.mode?r.target=l:r.target=he.target,n===e.mode?r.mode=he.mode:n&&(r.mode=n),r)}return e},interfaceConfig:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;if("interfaceConfiog"===t.type){const{payload:a}=t,{hideMenu:n,toggleHideMenu:l}=a,r={...e};return Object.keys(a).every(t=>a[t]===e[t])?e:(l?r.hideMenu=!e.hideMenu:"boolean"===typeof n&&(r.hideMenu=n),r)}return e},devices:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"device"===t.type?ae(e,t):t.type===G?ne(e,t):e}}),fe=Object(P.c)(Ee,Object(P.a)(F.a));const ye="deviceId",be="token",ve="userId",we="aliasId",Oe=(e,t)=>{"string"===typeof t?localStorage.setItem(e,t):localStorage.setItem(e,(e=>JSON.stringify(e))(t))},Ie=e=>localStorage.getItem(e),ke=e=>localStorage.removeItem(e),je=()=>ke(we),Ce=()=>{ke(be),ke(ve),je()},Ne=()=>Ie(ye),Le=()=>Ie(be),xe=e=>e.mode,Ae=e=>{let{mode:t,target:a}=e;return{type:"mode",payload:{mode:t,target:a}}},Re=e=>{let{target:t}=e;return{type:"mode",payload:{target:t}}},Te=e=>{let{windows:t}=e;if(1===t.length){const[{value:e,id:a}]=t;return t=>{Object(i.b)(()=>{xe(fe.getState()).mode===pe&&t(Re({target:a})),t({type:"windowOrder",payload:{id:a,value:e,changeType:_}})})}}return{type:"windowOrders",payload:{windows:t,changeType:_}}},Se=e=>{let{id:t}=e;return{type:"windowOrder",payload:{id:t,changeType:te}}},De=e=>e.online===ce,Me=()=>({type:"online",payload:{online:ce}}),Pe=e=>e.aliasId,Fe=e=>e.userId,We=e=>Pe(e)||Fe(e),Ge=e=>{let{wallets:t}=e;return 1===t.length?{type:"wallet",payload:{wallet:t[0],changeType:_}}:{type:$,payload:{wallets:t,changeType:_}}},Be=e=>{let{wallets:t}=e;return 1===t.length?{type:"wallet",payload:{wallet:t[0],changeType:ee}}:{type:$,payload:{wallets:t,changeType:ee}}},He=e=>{let{transactions:t}=e;return 1===t.length?{type:"transaction",payload:{transaction:t[0],changeType:ee}}:{type:Z,payload:{transactions:t,changeType:ee}}},Ue=e=>{let{transaction:t,wallet:a}=e;return e=>{Object(i.b)(()=>{e(He({transactions:[t]})),e(Ge({wallets:[a]}))})}},Ve=e=>{let{messages:t}=e;return 1===t.length?{type:"message",payload:{changeType:ee,message:t[0]}}:{type:q,payload:{messages:t,changeType:ee}}};var ze=a(4),Ye=a(9),qe=a(3),Je=a.n(qe);const Ke=e=>e.aliases,Xe=(e,t)=>{let{id:a}=t;return e.aliases.get(a)},Ze=e=>e.config.get("requireOffName"),Qe=e=>e.config.get("publicRoomId"),$e=e=>e.config.get("allowedImages"),_e=e=>e.config.get("gpsTracking"),et=e=>e.config.get("permissions"),tt=e=>e.config.get("newsRoomId"),at=e=>e.config.get("newsCost"),nt=e=>e.config.get("onlySeen"),lt=e=>e.config.get("allowPartialSearch"),rt=e=>e.config.get("yearModification"),ot=e=>e.config.get("dayModification"),ct=e=>e.config.get("disallowProfileEdit"),it=e=>e.teams,st=(e,t)=>{let{id:a}=t;return e.teams.get(a)},dt=(Je()([it],e=>[...e.values()].map(e=>({objectId:e.objectId,teamName:e.teamName,shortName:e.shortName})))(()=>"team-ids"),Je()([it,(e,t)=>{let{ids:a}=t;return a}],(e,t)=>{const a=new Map;return t.forEach(t=>a.set(t,e.get(t))),a})((e,t)=>{let{ids:a}=t;return"teams-".concat(a.join(a))})),mt=e=>e.users,ut=(e,t)=>{let{id:a}=t;return e.users.get(a)},pt=Je()([e=>ut(e,{id:Fe(e)}),e=>e.config.get("anonymousUser")],(e,t)=>e||t)(()=>"current-user"),ht=Je()([pt],e=>e.isAnonymous)(()=>"is-anonymous"),gt=Je()([pt],e=>e.followingRooms)({keySelector:()=>"current-user-rooms",selectorCreator:Object(ze.createSelectorCreator)(Ye.b,(e,t)=>e.followingRooms.length===t.followingRooms.length&&e.followingRooms.every(e=>t.followingRooms.includes(e)))}),Et=Object(ze.createSelector)([pt],e=>e.accessLevel),ft=Je()([pt],e=>e.hasSeen||[])({keySelector:()=>"current-user-hasSeen",selectorCreator:Object(ze.createSelectorCreator)(Ye.b,(e,t)=>e.hasSeen&&t.hasSeen&&e.hasSeen.length===t.hasSeen.length&&e.hasSeen.every(e=>t.hasSeen.includes(e)))}),yt=Je()([pt],e=>e.partOfTeams)({keySelector:()=>"current-user-partOfTeams",selectorCreator:Object(ze.createSelectorCreator)(Ye.b,(e,t)=>e.partOfTeams.length===t.partOfTeams.length&&t.partOfTeams.every(t=>e.partOfTeams.includes(t)))}),bt=Je()([pt,()=>Ne()],(e,t)=>e.systemConfig?e.systemConfig[t]||e.systemConfig:{})(()=>"current-system-config"),vt=Je()([bt],e=>e.hideTopBar)(()=>"current-hideTopBar"),wt=Je()([bt],e=>e.alwaysMaximized)(()=>"current-alwaysMaximized"),Ot=Je()([bt],e=>e.alwaysCompactMenu)(()=>"current-alwaysCompactMenu"),It=Je()([mt,Ke],(e,t)=>new Map([...e.entries(),...t.entries()]))(()=>"identities"),kt=Je()([mt,Ke,(e,t)=>{let{ids:a}=t;return a}],(e,t,a)=>{const n=new Map;return a.forEach(a=>n.set(a,e.get(a)||t.get(a))),n})((e,t)=>{let{ids:a}=t;return"identities-".concat(a.join(" "))}),jt=Je()([mt,Ke,it,(e,t)=>{let{ids:a}=t;return a}],(e,t,a,n)=>{const l=new Map;return n.forEach(n=>l.set(n,a.get(n)||e.get(n)||t.get(n))),l})((e,t)=>{let{ids:a}=t;return"identities-teams-".concat(a.join(" "))}),Ct=Je()([ut,Xe],(e,t)=>t||e)((e,t)=>{let{id:a}=t;return"identity-".concat(a)}),Nt=Je()([Ct],e=>e.image)((e,t)=>{let{id:a}=t;return"identity-".concat(a,"-image")}),Lt=Je()([Ct,st,(e,t)=>{let{id:a}=t;const n=(e=>e.config.get("systemUser"))(e);return n.objectId===a?n.username:void 0}],(function(){let e,{aliasName:t,username:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{teamName:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;return e=t||a?"identity":n?"team":l?"system":"fallback",{type:e,name:t||a||n||l||""}}))((e,t)=>{let{id:a}=t;return"identity-".concat(a,"-name")}),xt=Je()([ut,Xe,st],(e,t,a)=>a||t||e)((e,t)=>{let{id:a}=t;return"identity-team-".concat(a)}),At=Je()([It,Fe],(e,t)=>[...e.values()].filter(e=>e.objectId!==t&&e.ownerId!==t&&!e.userIds.includes(t)).map(e=>({objectId:e.objectId,partOfTeams:e.partOfTeams,name:e.aliasName||e.username})))({keySelector:()=>"other-identity-ids",selectorCreator:Object(ze.createSelectorCreator)(Ye.b,(e,t)=>"string"===typeof e&&"string"===typeof t?e===t:e.size===t.size&&[...t.values()].every(t=>{const a=e.get(t.objectId);return!!a&&((t.aliasName||t.username)===(a.aliasName||a.username)&&(t.partOfTeams.length===a.partOfTeams.length&&t.partOfTeams.every(e=>a.partOfTeams.includes(e))))}))}),Rt=Je()([It,Fe],(e,t)=>[...e.values()].filter(e=>e.objectId===t||e.ownerId===t||e.userIds.includes(t)))(()=>"current-identities"),Tt=Je()([Rt],e=>e.map(e=>({objectId:e.objectId,name:e.aliasName||e.username})))({keySelector:()=>"current-identities-names",selectorCreator:Object(ze.createSelectorCreator)(Ye.b,(e,t)=>e.length===t.length&&t.every(t=>{const a=e.find(e=>t.objectId===e.objectId);return a&&(a.aliasName||a.username)===(t.aliasName||t.username)}))}),St="chatMsg",Dt="whisper",Mt=e=>{let{users:t}=e;return 1===t.length?{type:"user",payload:{user:t[0],changeType:_}}:{type:Q,payload:{users:t,changeType:_}}},Pt=e=>{let{users:t}=e;return 1===t.length?{type:"user",payload:{user:t[0],changeType:ee}}:{type:Q,payload:{users:t,changeType:ee}}},Ft=e=>{let{user:t,wallet:a,room:n,forum:l,gameCode:r}=e;return async e=>{Object(i.b)(()=>{e(Pt({users:[t]})),e(Wt({rooms:[n]})),e(Be({wallets:[a]})),e((e=>{let{forums:t}=e;return 1===t.length?{type:"forum",payload:{forum:t[0],changeType:ee}}:{type:H,payload:{forums:t,changeType:ee}}})({forums:[l]})),e((e=>{let{gameCodes:t}=e;return 1===t.length?{type:"gameCode",payload:{gameCode:t[0],changeType:ee}}:{type:z,payload:{gameCodes:t,changeType:ee}}})({gameCodes:[r]}))})}},Wt=e=>{let{rooms:t}=e;return 1===t.length?{type:"room",payload:{changeType:ee,room:t[0]}}:{type:J,payload:{rooms:t,changeType:ee}}},Gt=e=>{let{rooms:t}=e;return 1===t.length?{type:"room",payload:{changeType:_,room:t[0]}}:{type:J,payload:{rooms:t,changeType:ee}}},Bt=e=>{let{rooms:t}=e;return 1===t.length?{type:"room",payload:{changeType:te,room:t[0]}}:{type:J,payload:{rooms:t,changeType:te}}},Ht=e=>{let{room:t,user:a}=e;return e=>{Object(i.b)(()=>{e(Gt({rooms:[t]})),e(Mt({users:[a]}))})}},Ut="room",Vt="followRoom",zt="user",Yt=e=>{let{aliasId:t}=e;return t?(Oe(we,t),{type:"aliasId",payload:{aliasId:t}}):(je(),{type:"aliasId",payload:{reset:!0}})},qt=e=>{let{aliases:t}=e;return 1===t.length?{type:"alias",payload:{alias:t[0],changeType:_}}:{type:W,payload:{aliases:t,changeType:_}}},Jt=e=>{let{aliases:t}=e;return 1===t.length?{type:"alias",payload:{alias:t[0],changeType:ee}}:{type:W,payload:{aliases:t,changeType:ee}}},Kt="alias",Xt="wallet",Zt="transaction",Qt=e=>{let{docFiles:t}=e;return 1===t.length?{type:"docFile",payload:{docFile:t[0],changeType:_}}:{type:B,payload:{docFiles:t,changeType:_}}},$t=e=>{let{docFiles:t}=e;return 1===t.length?{type:"docFile",payload:{docFile:t[0],changeType:ee}}:{type:B,payload:{docFiles:t,changeType:ee}}},_t="docFile";const ea=(()=>{let e="undefined"!==typeof ioUri?ioUri:"/";return window.io(e,{forceNew:!0})})(),ta="createAlias",aa="createUser",na="sendMessage",la="createRoom",ra="createDocFile",oa="createTransaction",ca="followRoom",ia="getMessagesByRoom",sa="removeRoom",da="unlockDocFile",ma="updateUser",ua="updateAlias",pa={ALIASES:"getAliases",USERS:"getUsers",MESSAGES:"getMessages",ROOMS:"getRooms",INVITATIONS:"getInvitations",DOCFILES:"getDocFiles",FORUMS:"getForums",FORUMPOSTS:"getForumPosts",FORUMTHREADS:"getForumThreads",GAMECODES:"getGameCodes",SIMPLEMSGS:"getSimpleMsgs",TEAMS:"getTeams",TRANSACTIONS:"getTransactions",WALLETS:"getWallets",DEVICES:"getDevices"},ha="login",ga="startup",Ea="disconnect",fa=async e=>{let{event:t,callback:a}=e;ea.on(t,e=>{console.log(t,e),a(e)})},ya=()=>{fe.getState().online!==se&&(ea.disconnect(),ea.connect())},ba=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((a,n)=>{const l=t;l.token=Le(),De(fe.getState())||ya(),ea.emit(e,l,e=>{let{error:t,data:l}=e;t?n(t):a(l)})})},va=async function(){let{reset:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};[{type:Q,event:pa.USERS},{type:W,event:pa.ALIASES},{type:X,event:pa.TEAMS},{type:J,event:pa.ROOMS},{type:q,event:pa.MESSAGES},{type:Y,event:pa.INVITATIONS},{type:B,event:pa.DOCFILES},{type:H,event:pa.FORUMS},{type:V,event:pa.FORUMTHREADS},{type:U,event:pa.FORUMPOSTS},{type:z,event:pa.GAMECODES},{type:K,event:pa.SIMPLEMSGS},{type:$,event:pa.WALLETS},{type:Z,event:pa.TRANSACTIONS},{type:G,event:pa.DEVICES}].forEach(t=>{const{event:a,type:n}=t;ba(a,{}).then(t=>{console.log(a,t),fe.dispatch({type:n,payload:{reset:e,changeType:ee,[n]:t[n]}})}).catch(e=>{console.log(e)})})};fa({event:"reconnect",callback:()=>{Fe(fe.getState())?ba("updateId",{}).then(()=>{fe.dispatch(Me()),va()}).catch(e=>{console.log(e),fe.dispatch(Da(va))}):va()}}),fa({event:ga,callback:e=>{let{data:t}=e;const a=Ie(ve),n=Le(),l=Ie(we);var r;Ne()&&"1234567890123456"!==Ne()||(console.log(Ne()),ba("createDevice",{device:{},firstStartup:!0}).then(e=>{let{device:t}=e;var a;a=t.objectId,Oe(ye,a),fe.dispatch((e=>{let{devices:t}=e;return 1===t.length?{type:"device",payload:{device:t[0],changeType:ee}}:{type:G,payload:{devices:t,changeType:ee}}})({devices:[t]}))}).catch(e=>console.log("device create",e))),fe.dispatch((r=t,e=>{Object(i.b)(()=>{e({type:"config",payload:{entries:Object.entries(r)}}),e(Me())})})),a||n?ba("updateId",{}).then(()=>{Object(i.b)(()=>{l&&fe.dispatch(Yt({aliasId:l})),fe.dispatch(Sa({userId:a,token:n,retrieveAll:va}))})}).catch(e=>{console.log(e),fe.dispatch(Da(va))}):va({reset:!0})}}),fa({event:Ea,callback:()=>{fe.dispatch({type:"online",payload:{online:ie}}),ya()}}),fa({event:St,callback:e=>{let{data:t,error:a}=e;if(t&&t.message){const{message:e,changeType:a}=t;a===ee&&fe.dispatch(Ve({messages:[e]}))}else console.log(St,a,t)}}),fa({event:Dt,callback:e=>{let{data:t,error:a}=e;if(t&&t.message){const{message:e,changeType:a}=t,{objectId:n,hasSeen:l=[],partOfTeams:r}=pt(fe.getState()),o=Ct(fe.getState(),{id:e.ownerAliasId||e.ownerId});return l.includes(e.ownerAliasId||e.ownerId)||r.some(e=>o.partOfTeams.includes(e))||wa({userId:n,user:{hasSeen:l.concat([e.ownerAliasId||e.ownerId])}}).catch(e=>console.log(e)),void(a===ee&&fe.dispatch(Ve({messages:[e]})))}console.log(Dt,a,t)}}),fa({event:Ut,callback:e=>{let{error:t,data:a}=e;if(a&&a.room){const{room:e,changeType:t}=a;if(e.isWhisper&&e.spyMode){const t=pt(fe.getState()),{adminAccess:a}=M({objectToAccess:e,toAuth:t});if(!a)return}t===ee?fe.dispatch(Wt({rooms:[e]})):t===_?fe.dispatch(Gt({rooms:[e]})):t===te&&fe.dispatch(Bt({rooms:[e]}))}else console.log(Ut,t,a)}}),fa({event:Vt,callback:e=>{let{error:t,data:a}=e;a&&a.room&&a.user?fe.dispatch(async e=>{Object(i.b)(()=>{e(Gt({rooms:[a.room]})),e(Mt({users:[a.user]}))})}):console.log(Vt,t,a)}}),fa({event:zt,callback:e=>{let{error:t,data:a}=e;if(a&&a.user){const{user:e,changeType:t}=a;t===ee?fe.dispatch(Pt({users:[e]})):t===_&&fe.dispatch(Mt({users:[e]}))}else console.log(zt,t,a)}}),fa({event:Kt,callback:e=>{let{error:t,data:a}=e;if(a&&a.alias){const{alias:e,changeType:t}=a;t===ee?fe.dispatch(Jt({aliases:[e]})):t===_&&fe.dispatch(qt({aliases:[e]}))}else console.log(Kt,t,a)}}),fa({event:Xt,callback:e=>{let{error:t,data:a}=e;if(a&&a.wallet){const{wallet:e,changeType:t}=a;t===ee?fe.dispatch(Be({wallets:[e]})):t===_&&fe.dispatch(Ge({wallets:[e]}))}else console.log(Xt,t,a)}}),fa({event:Zt,callback:e=>{let{error:t,data:a}=e;if(a&&a.transaction&&(a.changeType===_||a.wallet)){const{transaction:e,changeType:t}=a;t===ee?fe.dispatch(Ue(a)):t===_&&fe.dispatch((e=>{let{transactions:t}=e;return 1===t.length?{type:"transaction",payload:{transaction:t[0],changeType:_}}:{type:Z,payload:{transactions:t,changeType:_}}})({transactions:[e]}))}else console.log(Zt,t,a)}}),fa({event:_t,callback:e=>{let{error:t,data:a}=e;if(a&&a.docFile){const{docFile:e,changeType:t}=a;t===ee?fe.dispatch($t({docFiles:[e]})):t===_&&fe.dispatch(Qt({docFiles:[e]}))}else console.log(_t,t,a)}});const wa=async e=>{let{userId:t,user:a,image:n,resetImage:l}=e;const r=await ba(ma,{userId:t,user:a,image:n,options:{resetImage:l}});return console.log(r),await fe.dispatch(Mt({users:[r.user]})),r},Oa=(e,t)=>{let{id:a}=t;return e.docFiles.get(a)},Ia=Je()([e=>e.docFiles],e=>[...e.values()].map(e=>{let{objectId:t,title:a,ownerAliasId:n,ownerId:l,isLocked:r}=e;return{objectId:t,title:a,ownerAliasId:n,ownerId:l,isLocked:r}}))(()=>"docFile-ids-names"),ka="notification",ja="window",Ca="pushToken",Na="message",La="login",xa="qr",Aa="quit",Ra=e=>{let{type:t,data:a}=e;window.ReactNativeWebView&&window.ReactNativeWebView.postMessage&&window.ReactNativeWebView.postMessage(JSON.stringify({type:t,data:a}))},Ta=e=>{if(e.data){const{type:t,data:a}=JSON.parse(e.data);switch(t){case ka:(e=>{alert(JSON.stringify(e))})(a);break;case ja:(e=>{let{windowType:t,value:a}=e;fe.dispatch(Te({windows:[{id:t,value:{...a,type:t}}]}))})(a);break;case Ca:(e=>{let{token:t}=e;const a=pt(fe.getState());a.isAnonymous||t===a.pushToken||wa({userId:a.objectId,user:{pushToken:t}}).catch(e=>console.log(e))})(a);break;case Na:(e=>{let{message:t}=e;alert(JSON.stringify(t))})(a);break;case xa:(e=>{try{const{ri:t,rp:a,mi:n,wi:l,a:r,m:o,di:c,c:i,ti:s,ii:d}=e,m=tt(fe.getState());if(t&&n&&t===m)fe.dispatch(Te({windows:[{id:me.NEWS,value:{type:me.NEWS,messageId:n}}]}));else if(t){gt(fe.getState()).includes(t)?fe.dispatch(Te({windows:[{id:me.CHAT,value:{type:me.CHAT,roomId:t,messageId:n}}]})):fe.dispatch(Te({windows:[{id:"".concat(me.DIALOGJOINROOM,"-").concat(t),value:{roomId:t,messageId:n,password:a,type:me.DIALOGJOINROOM}}]}))}else if(l)fe.dispatch(Te({windows:[{id:"".concat(me.DIALOGCREATETRANSACTION,"-").concat(l),value:{type:me.DIALOGCREATETRANSACTION,toWalletId:l,amount:r}}]}));else if(c){Oa(fe.getState(),{id:c}).isLocked?fe.dispatch(Te({windows:[{id:me.DIALOGUNLOCKFILE,value:{type:me.DIALOGUNLOCKFILE,docFileId:c,code:i}}]})):fe.dispatch(Te({windows:[{id:me.DOCFILEVIEW,value:{type:me.DOCFILEVIEW,docFileId:c}}]}))}else s?fe.dispatch(Te({windows:[{id:me.TEAMS,value:{type:me.TEAMS,teamId:s}}]})):d?fe.dispatch(Te({windows:[{id:"".concat(me.DIALOGPROFILE,"-").concat(d),value:{type:me.DIALOGPROFILE,identityId:d}}]})):o&&alert(o)}catch(t){alert("Invalid data ".concat(e))}})(a);break;default:console.log("Unknown message",e.nativeEvent.data)}}};window.ReactNativeWebView&&(window.addEventListener("message",Ta),document.addEventListener("message",Ta));const Sa=e=>{let{userId:t,token:a,retrieveAll:n}=e;return Oe(be,a),(e=>{Oe(ve,e)})(t),n({reset:!0}),Ra({type:La,data:{userId:t}}),{type:"userId",payload:{userId:t}}},Da=e=>(fe.dispatch({type:"windowOrders",payload:{reset:!0}}),Ce(),e({reset:!0}),e=>{Object(i.b)(()=>{e({type:"userId",payload:{reset:!0}}),e({type:"aliasId",payload:{reset:!0}})})}),Ma=async(e,t)=>{const a=await ba(ha,{user:{username:e,password:t}}),{user:n,token:l}=a;return fe.dispatch(Sa({userId:n.objectId,token:l,retrieveAll:va})),a};a(37);const Pa=o.a.forwardRef((e,t)=>{let{children:a,onClick:n,elementId:l,scrollTo:c,stopPropagation:i=!1,className:s=""}=e;const d=Object(r.useRef)(null);return Object(r.useLayoutEffect)(()=>{c&&d.current&&(d.current.scrollIntoView({behavior:"smooth",block:"nearest"}),setTimeout(()=>d.current.scrollIntoView({behavior:"smooth",block:"nearest"}),300))},[c]),o.a.createElement("li",{ref:e=>{t&&(t.current=e),d.current=e},id:l,className:"ListItem ".concat(n?"clickable":""," ").concat(s),onClick:e=>{n&&n(e),"UL"===e.target.parentElement.tagName&&e.target.parentElement.click(),i&&e.stopPropagation()}},a)});var Fa,Wa,Ga,Ba=o.a.memo(Pa);function Ha(){return(Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}Pa.defaultProps={onClick:void 0,className:"",stopPropagation:!1,elementId:void 0,children:void 0,scrollTo:!1};const Ua=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Ha({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-menu",ref:t},n),a?o.a.createElement("title",null,a):null,Fa||(Fa=o.a.createElement("line",{x1:3,y1:12,x2:21,y2:12})),Wa||(Wa=o.a.createElement("line",{x1:3,y1:6,x2:21,y2:6})),Ga||(Ga=o.a.createElement("line",{x1:3,y1:18,x2:21,y2:18})))},Va=o.a.forwardRef((e,t)=>o.a.createElement(Ua,Ha({svgRef:t},e)));var za,Ya,qa;a.p;function Ja(){return(Ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Ka=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Ja({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-log-out",ref:t},n),a?o.a.createElement("title",null,a):null,za||(za=o.a.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"})),Ya||(Ya=o.a.createElement("polyline",{points:"16 17 21 12 16 7"})),qa||(qa=o.a.createElement("line",{x1:21,y1:12,x2:9,y2:12})))},Xa=o.a.forwardRef((e,t)=>o.a.createElement(Ka,Ja({svgRef:t},e)));var Za,Qa;a.p;function $a(){return($a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const _a=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",$a({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-settings",ref:t},n),a?o.a.createElement("title",null,a):null,Za||(Za=o.a.createElement("circle",{cx:12,cy:12,r:3})),Qa||(Qa=o.a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})))},en=o.a.forwardRef((e,t)=>o.a.createElement(_a,$a({svgRef:t},e)));var tn,an;a.p;function nn(){return(nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ln=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",nn({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-user",ref:t},n),a?o.a.createElement("title",null,a):null,tn||(tn=o.a.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"})),an||(an=o.a.createElement("circle",{cx:12,cy:7,r:4})))},rn=o.a.forwardRef((e,t)=>o.a.createElement(ln,nn({svgRef:t},e)));var on,cn,sn;a.p;function dn(){return(dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const mn=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",dn({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-log-in",ref:t},n),a?o.a.createElement("title",null,a):null,on||(on=o.a.createElement("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"})),cn||(cn=o.a.createElement("polyline",{points:"10 17 15 12 10 7"})),sn||(sn=o.a.createElement("line",{x1:15,y1:12,x2:3,y2:12})))},un=o.a.forwardRef((e,t)=>o.a.createElement(mn,dn({svgRef:t},e)));var pn,hn;a.p;function gn(){return(gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const En=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",gn({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",ref:t},n),a?o.a.createElement("title",null,a):null,pn||(pn=o.a.createElement("line",{x1:12,y1:5,x2:12,y2:19})),hn||(hn=o.a.createElement("line",{x1:5,y1:12,x2:19,y2:12})))},fn=o.a.forwardRef((e,t)=>o.a.createElement(En,gn({svgRef:t},e)));a.p,a(38);var yn,bn=o.a.memo(()=>{const e=Object(i.c)(Et),t=Object(i.c)(et),a=[];return e===t.CreateUser.accessLevel&&a.push(o.a.createElement(Ba,{key:"register",onClick:()=>fe.dispatch(Te({windows:[{id:me.DIALOGREGISTER,value:{type:me.DIALOGREGISTER}}]}))},o.a.createElement(fn,null),o.a.createElement("span",null,"Create user"))),e===D.ANONYMOUS&&a.push(o.a.createElement(Ba,{key:"login",onClick:()=>fe.dispatch(Te({windows:[{id:me.DIALOGLOGIN,value:{type:me.DIALOGLOGIN}}]}))},o.a.createElement(un,null),o.a.createElement("span",null,"Login"))),e>=t.CreateAlias.accessLevel&&a.push(o.a.createElement(Ba,{key:"alias",onClick:()=>fe.dispatch(Te({windows:[{id:me.DIALOGCREATEALIAS,value:{type:me.DIALOGCREATEALIAS}}]}))},o.a.createElement(fn,null),o.a.createElement("span",null,"Create alias"))),e>=D.STANDARD&&a.push(o.a.createElement(Ba,{key:"profile",onClick:()=>fe.dispatch(Te({windows:[{id:me.DIALOGPROFILE,value:{type:me.DIALOGPROFILE}}]}))},o.a.createElement(rn,null),o.a.createElement("span",null,"Your profile"))),e>=D.STANDARD&&(a.push(o.a.createElement(Ba,{key:"settings",onClick:()=>fe.dispatch(Te({windows:[{id:me.DIALOGCONFIGSYSTEM,value:{type:me.DIALOGCONFIGSYSTEM}}]}))},o.a.createElement(en,null),o.a.createElement("span",null,"Settings"))),a.push(o.a.createElement(Ba,{key:"logout",onClick:()=>{(async()=>{fe.dispatch(Da(va))})()}},o.a.createElement(Xa,null),o.a.createElement("span",null,"Logout")))),window.ReactNativeWebView&&a.push(o.a.createElement(Ba,{key:"quit",onClick:()=>{Ra({type:Aa,data:{}})}},o.a.createElement("span",null,"Shutdown"))),o.a.createElement(S,{dropdown:!0,className:"MainList",title:o.a.createElement(Va,null)},a)});function vn(){return(vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const wn=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",vn({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-message-square",ref:t},n),a?o.a.createElement("title",null,a):null,yn||(yn=o.a.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})))},On=o.a.forwardRef((e,t)=>o.a.createElement(wn,vn({svgRef:t},e)));var In,kn,jn;a.p;function Cn(){return(Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Nn=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Cn({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-map",ref:t},n),a?o.a.createElement("title",null,a):null,In||(In=o.a.createElement("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"})),kn||(kn=o.a.createElement("line",{x1:8,y1:2,x2:8,y2:18})),jn||(jn=o.a.createElement("line",{x1:16,y1:6,x2:16,y2:22})))},Ln=o.a.forwardRef((e,t)=>o.a.createElement(Nn,Cn({svgRef:t},e)));var xn,An,Rn;a.p;function Tn(){return(Tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Sn=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Tn({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},n),a?o.a.createElement("title",null,a):null,xn||(xn=o.a.createElement("path",{d:"M20 12V8H6a2 2 0 01-2-2c0-1.1.9-2 2-2h12v4"})),An||(An=o.a.createElement("path",{d:"M4 6v12c0 1.1.9 2 2 2h14v-4"})),Rn||(Rn=o.a.createElement("path",{d:"M18 12a2 2 0 00-2 2c0 1.1.9 2 2 2h4v-4h-4z"})))},Dn=o.a.forwardRef((e,t)=>o.a.createElement(Sn,Tn({svgRef:t},e)));var Mn,Pn,Fn,Wn,Gn;a.p;function Bn(){return(Bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Hn=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Bn({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file-text",ref:t},n),a?o.a.createElement("title",null,a):null,Mn||(Mn=o.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"})),Pn||(Pn=o.a.createElement("polyline",{points:"14 2 14 8 20 8"})),Fn||(Fn=o.a.createElement("line",{x1:16,y1:13,x2:8,y2:13})),Wn||(Wn=o.a.createElement("line",{x1:16,y1:17,x2:8,y2:17})),Gn||(Gn=o.a.createElement("polyline",{points:"10 9 9 9 8 9"})))},Un=o.a.forwardRef((e,t)=>o.a.createElement(Hn,Bn({svgRef:t},e)));var Vn,zn,Yn;a.p;function qn(){return(qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Jn=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",qn({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},n),a?o.a.createElement("title",null,a):null,Vn||(Vn=o.a.createElement("path",{d:"M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8c.4 0 .8-.2 1.1-.5.3-.3.5-.7.5-1.1V6.5L15.5 2z"})),zn||(zn=o.a.createElement("path",{d:"M3 7.6v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8"})),Yn||(Yn=o.a.createElement("path",{d:"M15 2v5h5"})))},Kn=o.a.forwardRef((e,t)=>o.a.createElement(Jn,qn({svgRef:t},e)));var Xn,Zn,Qn;a.p;function $n(){return($n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const _n=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",$n({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-rss",ref:t},n),a?o.a.createElement("title",null,a):null,Xn||(Xn=o.a.createElement("path",{d:"M4 11a9 9 0 0 1 9 9"})),Zn||(Zn=o.a.createElement("path",{d:"M4 4a16 16 0 0 1 16 16"})),Qn||(Qn=o.a.createElement("circle",{cx:5,cy:19,r:1})))},el=o.a.forwardRef((e,t)=>o.a.createElement(_n,$n({svgRef:t},e)));var tl,al,nl;a.p;function ll(){return(ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const rl=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",ll({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-layers",ref:t},n),a?o.a.createElement("title",null,a):null,tl||(tl=o.a.createElement("polygon",{points:"12 2 2 7 12 12 22 7 12 2"})),al||(al=o.a.createElement("polyline",{points:"2 17 12 22 22 17"})),nl||(nl=o.a.createElement("polyline",{points:"2 12 12 17 22 12"})))},ol=o.a.forwardRef((e,t)=>o.a.createElement(rl,ll({svgRef:t},e)));var cl,il,sl,dl;a.p;function ml(){return(ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ul=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",ml({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},n),a?o.a.createElement("title",null,a):null,cl||(cl=o.a.createElement("rect",{x:3,y:3,width:7,height:9})),il||(il=o.a.createElement("rect",{x:14,y:3,width:7,height:5})),sl||(sl=o.a.createElement("rect",{x:14,y:12,width:7,height:9})),dl||(dl=o.a.createElement("rect",{x:3,y:16,width:7,height:5})))},pl=o.a.forwardRef((e,t)=>o.a.createElement(ul,ml({svgRef:t},e)));var hl,gl,El,fl;a.p;function yl(){return(yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const bl=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",yl({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-users",ref:t},n),a?o.a.createElement("title",null,a):null,hl||(hl=o.a.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"})),gl||(gl=o.a.createElement("circle",{cx:9,cy:7,r:4})),El||(El=o.a.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"})),fl||(fl=o.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})))},vl=o.a.forwardRef((e,t)=>o.a.createElement(bl,yl({svgRef:t},e)));var wl,Ol,Il;a.p;function kl(){return(kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const jl=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",kl({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-globe",ref:t},n),a?o.a.createElement("title",null,a):null,wl||(wl=o.a.createElement("circle",{cx:12,cy:12,r:10})),Ol||(Ol=o.a.createElement("line",{x1:2,y1:12,x2:22,y2:12})),Il||(Il=o.a.createElement("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})))},Cl=o.a.forwardRef((e,t)=>o.a.createElement(jl,kl({svgRef:t},e)));var Nl,Ll;a.p;function xl(){return(xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Al=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",xl({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-terminal",ref:t},n),a?o.a.createElement("title",null,a):null,Nl||(Nl=o.a.createElement("polyline",{points:"4 17 10 11 4 5"})),Ll||(Ll=o.a.createElement("line",{x1:12,y1:19,x2:20,y2:19})))},Rl=o.a.forwardRef((e,t)=>o.a.createElement(Al,xl({svgRef:t},e)));a.p;var Tl,Sl,Dl,Ml;a.p;function Pl(){return(Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Fl=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Pl({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-upload-cloud",ref:t},n),a?o.a.createElement("title",null,a):null,Tl||(Tl=o.a.createElement("polyline",{points:"16 16 12 12 8 16"})),Sl||(Sl=o.a.createElement("line",{x1:12,y1:12,x2:12,y2:21})),Dl||(Dl=o.a.createElement("path",{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"})),Ml||(Ml=o.a.createElement("polyline",{points:"16 16 12 12 8 16"})))},Wl=o.a.forwardRef((e,t)=>o.a.createElement(Fl,Pl({svgRef:t},e)));a.p;const Gl=e=>e.windowOrder;a(39);var Bl,Hl,Ul,Vl=o.a.memo(()=>{const e=Object(i.c)(Gl),t=Object(i.c)(Et),a=[],n=Object(r.useCallback)(e=>{let{id:t,value:a}=e;return fe.dispatch(Te({windows:[{id:t,value:a}]}))},[]);return e.forEach((e,t)=>{if(![me.CHAT,me.NEWS,me.DOCFILEDIR,me.WORLDMAP,me.WALLET].includes(t)){let l,r;switch(e.type){case me.DIALOGPROFILE:r=o.a.createElement(rn,null),l=e.identityId?Lt(fe.getState(),{id:e.identityId}).name:"Your profile";break;case me.DOCFILEVIEW:r=o.a.createElement(Un,null),l=Oa(fe.getState(),{id:e.docFileId}).title;break;default:r=o.a.createElement(ol,null),l=t}a.push(o.a.createElement(Ba,{className:"other",key:t},o.a.createElement(g,{onClick:()=>n({id:t,value:e})},r),o.a.createElement("span",null,l)))}}),o.a.createElement("div",{className:"OpenApps"},o.a.createElement(S,{dropdown:!0,className:"apps",title:o.a.createElement(pl,null)},o.a.createElement(Ba,{key:"chat"},o.a.createElement(g,{key:"chat",className:"".concat(e.get(me.CHAT)&&e.get(me.CHAT).index===e.size?"active":""),onClick:()=>n({id:me.CHAT,value:{type:me.CHAT}})},o.a.createElement(On,null)),o.a.createElement("span",null,"Chat")),o.a.createElement(Ba,{key:"news"},o.a.createElement(g,{key:"news",className:"".concat(e.get(me.NEWS)&&e.get(me.NEWS).index===e.size?"active":""),onClick:()=>n({id:me.NEWS,value:{type:me.NEWS}})},o.a.createElement(el,null)),o.a.createElement("span",null,"News")),o.a.createElement(Ba,{key:"docFile"},o.a.createElement(g,{key:"docFile",className:"".concat(e.get(me.DOCFILEDIR)&&e.get(me.DOCFILEDIR).index===e.size?"active":""),onClick:()=>n({id:me.DOCFILEDIR,value:{type:me.DOCFILEDIR}})},o.a.createElement(Kn,null)),o.a.createElement("span",null,"Files")),t>=D.STANDARD&&o.a.createElement(Ba,{key:"wallet"},o.a.createElement(g,{key:"wallet",className:"".concat(e.get(me.WALLET)&&e.get(me.WALLET).index===e.size?"active":""),onClick:()=>n({id:me.WALLET,value:{type:me.WALLET}})},o.a.createElement(Dn,null)),o.a.createElement("span",null,"Wallet")),o.a.createElement(Ba,{key:"identities"},o.a.createElement(g,{key:"identities",className:"".concat(e.get(me.IDENTITIES)&&e.get(me.IDENTITIES).index===e.size?"active":""),onClick:()=>n({id:me.IDENTITIES,value:{type:me.IDENTITIES}})},o.a.createElement(vl,null)),o.a.createElement("span",null,"Users")),o.a.createElement(Ba,{className:"faded",key:"teams"},o.a.createElement(g,{key:"Teams",onClick:()=>{}},o.a.createElement(Cl,null)),o.a.createElement("span",null,"Teams")),o.a.createElement(Ba,{className:"faded",key:"terminal"},o.a.createElement(g,{key:"terminal",onClick:()=>{}},o.a.createElement(Rl,null)),o.a.createElement("span",null,"Terminal")),o.a.createElement(Ba,{key:"wrecking",className:"faded"},o.a.createElement(g,{key:"wrecking",onClick:()=>{}},o.a.createElement(Wl,null)),o.a.createElement("span",null,"Wrecker Central")),a))});function zl(){return(zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Yl=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",zl({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-help-circle",ref:t},n),a?o.a.createElement("title",null,a):null,Bl||(Bl=o.a.createElement("circle",{cx:12,cy:12,r:10})),Hl||(Hl=o.a.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"})),Ul||(Ul=o.a.createElement("line",{x1:12,y1:17,x2:12.01,y2:17})))},ql=o.a.forwardRef((e,t)=>o.a.createElement(Yl,zl({svgRef:t},e)));var Jl;a.p;function Kl(){return(Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Xl=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Kl({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-left",ref:t},n),a?o.a.createElement("title",null,a):null,Jl||(Jl=o.a.createElement("polyline",{points:"15 18 9 12 15 6"})))},Zl=o.a.forwardRef((e,t)=>o.a.createElement(Xl,Kl({svgRef:t},e)));var Ql;a.p;function $l(){return($l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const _l=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",$l({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-right",ref:t},n),a?o.a.createElement("title",null,a):null,Ql||(Ql=o.a.createElement("polyline",{points:"9 18 15 12 9 6"})))},er=o.a.forwardRef((e,t)=>o.a.createElement(_l,$l({svgRef:t},e)));var tr,ar,nr,lr;a.p;function rr(){return(rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const or=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",rr({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-grid",ref:t},n),a?o.a.createElement("title",null,a):null,tr||(tr=o.a.createElement("rect",{x:3,y:3,width:7,height:7})),ar||(ar=o.a.createElement("rect",{x:14,y:3,width:7,height:7})),nr||(nr=o.a.createElement("rect",{x:14,y:14,width:7,height:7})),lr||(lr=o.a.createElement("rect",{x:3,y:14,width:7,height:7})))},cr=o.a.forwardRef((e,t)=>o.a.createElement(or,rr({svgRef:t},e)));var ir,sr,dr,mr,ur,pr,hr,gr,Er,fr,yr;a.p;function br(){return(br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const vr=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",br({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},n),a?o.a.createElement("title",null,a):null,ir||(ir=o.a.createElement("rect",{x:2,y:2,width:8,height:8})),sr||(sr=o.a.createElement("path",{d:"M6 6h.01"})),dr||(dr=o.a.createElement("rect",{x:14,y:2,width:8,height:8})),mr||(mr=o.a.createElement("path",{d:"M18 6h.01"})),ur||(ur=o.a.createElement("rect",{x:2,y:14,width:8,height:8})),pr||(pr=o.a.createElement("path",{d:"M6 18h.01"})),hr||(hr=o.a.createElement("path",{d:"M14 14h.01"})),gr||(gr=o.a.createElement("path",{d:"M18 18h.01"})),Er||(Er=o.a.createElement("path",{d:"M18 22h4v-4"})),fr||(fr=o.a.createElement("path",{d:"M14 18v4"})),yr||(yr=o.a.createElement("path",{d:"M22 14h-4"})))},wr=o.a.forwardRef((e,t)=>o.a.createElement(vr,br({svgRef:t},e)));a.p;const Or=e=>e.interfaceConfig.hideMenu;a(40);const Ir=e=>{let{hideMenu:t,toggleHideMenu:a}=e;return{type:"interfaceConfiog",payload:{hideMenu:t,toggleHideMenu:a}}};a(41);const kr=e=>{let{useIcon:t=!1,hideOnSingle:a=!0,label:n}=e;const l=Object(i.c)(Tt),r=Object(i.c)(We),c=l.find(e=>e.objectId===r),s=(t?l:l.filter(e=>e.objectId!==r)).map(e=>o.a.createElement(Ba,{className:e.objectId===r?"selected":"",key:e.objectId,onClick:()=>fe.dispatch(Yt({aliasId:Xe(fe.getState(),{id:e.objectId})?e.objectId:void 0}))},e.name)),d=c?c.name:"---";return o.a.createElement("div",{className:"IdentityPicker ".concat(a&&1===l.length?"hide":"")},n,o.a.createElement(S,{dropdown:l.length>1,title:t?o.a.createElement(rn,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(rn,null),o.a.createElement("span",null,d))},s))};var jr=o.a.memo(kr);kr.defaultProps={useIcon:void 0,hideOnSingle:!0,label:void 0};var Cr,Nr,Lr,xr,Ar=o.a.memo(()=>{const e=Object(i.c)(Et),t=Object(i.c)(bt),a=Object(i.c)(Or),n=Object(i.c)(xe),l=Object(i.c)(De),c=[];l||c.push("warning"),Object(r.useEffect)(()=>{t.hideMenuBar?fe.dispatch(Ir({hideMenu:!0})):fe.dispatch(Ir({hideMenu:!1}))},[t.hideMenuBar]);const s=Object(r.useCallback)(()=>fe.dispatch(Ae({mode:pe,target:"MenuBar"})),[]);return o.a.createElement(o.a.Fragment,null,a?o.a.createElement("div",{className:"miniMenu"},o.a.createElement(g,{type:"button",onClick:()=>fe.dispatch(Ir({toggleHideMenu:!0}))},o.a.createElement(Zl,null))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{key:"MenuBar",onClick:()=>{l||ya(),n.mode===pe&&fe.dispatch(Re({target:"MenuBar"}))},className:"".concat("MenuBar"," ").concat(c.join(" ")),id:"MenuBar"},o.a.createElement(bn,{key:"mainList"}),o.a.createElement(Vl,{key:"openApps"}),window.ReactNativeWebView&&o.a.createElement(g,{type:"button",onClick:()=>Ra({type:xa,data:{}})},o.a.createElement(wr,null)),e>=D.STANDARD&&o.a.createElement(jr,{hideOnSingle:!1}),o.a.createElement("div",{className:"rightAligned"},!t.hideHelp&&o.a.createElement(g,{type:"button",className:"helpButton ".concat(n.mode===pe&&"MenuBar"===n.target?"active":""),onClick:s},o.a.createElement(ql,null)),o.a.createElement(O,null)),n.mode===pe&&"MenuBar"===n.target&&o.a.createElement("div",{className:"helpOverlay"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("p",null,"Overview of the app, that has everything from chat and news feed to digital currency and map."),o.a.createElement("p",null,"Don't be afraid to experiment! You won't break the system."),o.a.createElement("p",null,"There is a ",o.a.createElement(ql,null)," button in each app. The scroll is usually hidden, but you can still scroll (like in this pop-up!). Apps and menu:")),o.a.createElement("li",null,o.a.createElement(cr,null),o.a.createElement("span",null,"APPS Shows all apps.")),o.a.createElement("li",null,o.a.createElement(On,null),o.a.createElement("span",null,"CHAT Read and send messages. You have access to read Public without logging in.")),o.a.createElement("li",null,o.a.createElement(el,null),o.a.createElement("span",null,"NEWS Read the latest news. You need access to be able to create news.")),o.a.createElement("li",null,o.a.createElement(Un,null),o.a.createElement("span",null,"FILES Read and create documents. You have access to read documents without logging in.")),o.a.createElement("li",null,o.a.createElement(Ln,null),o.a.createElement("span",null,"MAP See the local, world map, track users and add new locations.")),o.a.createElement("li",null,o.a.createElement(Dn,null),o.a.createElement("span",null,"WALLET Send and receive currency. You need to login to access your wallet.")),o.a.createElement("li",null,o.a.createElement(Va,null),o.a.createElement("span",null,"MENU You can create a user, login, check your info, change settings and more here.")),o.a.createElement("li",null,o.a.createElement(ol,null),o.a.createElement("span",null,"WINDOWS Other windows you have open (like dialog windows) will be listed here.")),o.a.createElement("li",null,o.a.createElement(u,null),o.a.createElement("span",null,"TIME Click it to reveal the current time."))))),t.hideMenuBar&&e>=D.STANDARD&&o.a.createElement("div",{className:"miniMenu minimize ".concat(t.hideMenuBar?"hideOn":"")},o.a.createElement(g,{type:"button",onClick:()=>fe.dispatch(Ir({toggleHideMenu:!0}))},o.a.createElement(er,null)))))}),Rr=a(2);function Tr(){return(Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Sr=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Tr({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-maximize-2",ref:t},n),a?o.a.createElement("title",null,a):null,Cr||(Cr=o.a.createElement("polyline",{points:"15 3 21 3 21 9"})),Nr||(Nr=o.a.createElement("polyline",{points:"9 21 3 21 3 15"})),Lr||(Lr=o.a.createElement("line",{x1:21,y1:3,x2:14,y2:10})),xr||(xr=o.a.createElement("line",{x1:3,y1:21,x2:10,y2:14})))},Dr=o.a.forwardRef((e,t)=>o.a.createElement(Sr,Tr({svgRef:t},e)));var Mr,Pr,Fr,Wr;a.p;function Gr(){return(Gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Br=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Gr({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-minimize-2",ref:t},n),a?o.a.createElement("title",null,a):null,Mr||(Mr=o.a.createElement("polyline",{points:"4 14 10 14 10 20"})),Pr||(Pr=o.a.createElement("polyline",{points:"20 10 14 10 14 4"})),Fr||(Fr=o.a.createElement("line",{x1:14,y1:10,x2:21,y2:3})),Wr||(Wr=o.a.createElement("line",{x1:3,y1:21,x2:10,y2:14})))},Hr=o.a.forwardRef((e,t)=>o.a.createElement(Br,Gr({svgRef:t},e)));a.p,a(42);const Ur=o.a.forwardRef((function(){let{image:e,onRemove:t,width:a,height:n,scrollTo:l=!1,className:c="",altText:i="",fullImage:s,fullWidth:d,fullHeight:m}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0;const p=Object(r.useRef)(null),[h,g]=Object(r.useState)(!1);Object(r.useEffect)(()=>{l&&!h&&p.current&&p.current.scrollIntoView({block:"nearest"})},[h]);const E=e=>{s&&(g(!h),e.stopPropagation())};return o.a.createElement("div",{role:"complementary",ref:p,className:"Image ".concat(h?"full":""," ").concat(c),onClick:E},t&&o.a.createElement("div",{className:"remove clickable",role:"complementary",onClick:e=>{t(),e.stopPropagation()}},"X"),s&&o.a.createElement("div",{onClick:E,className:"zoom clickable",role:"complementary"},h?o.a.createElement(Hr,null):o.a.createElement(Dr,null)),o.a.createElement("img",{className:s?"clickable":"",onClick:E,width:h?d:a,height:h?m:n,ref:u,src:h?s:e,alt:i}))}));var Vr,zr=Ur;function Yr(){return(Yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}Ur.defaultProps={altText:"",className:"",onRemove:void 0,width:void 0,height:void 0,fullImage:void 0,fullWidth:void 0,fullHeight:void 0,scrollTo:!1};const qr=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Yr({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-square",ref:t},n),a?o.a.createElement("title",null,a):null,Vr||(Vr=o.a.createElement("rect",{x:3,y:3,width:18,height:18,rx:2,ry:2})))},Jr=o.a.forwardRef((e,t)=>o.a.createElement(qr,Yr({svgRef:t},e)));a.p,a(43);const Kr=e=>{let{identityId:t,onClick:a}=e;const{name:n}=Object(i.c)(e=>Lt(e,{id:t})),l=Object(i.c)(e=>Nt(e,{id:t})),c=Object(r.useCallback)(()=>{a&&a(),fe.dispatch(Te({windows:[{id:"".concat(me.DIALOGPROFILE,"-").concat(t),value:{identityId:t,type:me.DIALOGPROFILE}}]}))},[t]);return o.a.createElement(Ba,{stopPropagation:!0,className:"IdentityItem",key:t,onClick:c},o.a.createElement("div",{className:"icon"},l?o.a.createElement(zr,{image:"/upload/images/".concat(l.thumbFileName)}):o.a.createElement(Jr,null)),o.a.createElement("span",null,n||"-"))};var Xr=o.a.memo(Kr);Kr.defaultProps={onClick:void 0};a(44);const Zr=e=>{let{onChange:t,name:a,shouldEqual:n,maxLength:l,minLength:c,checked:i,defaultValue:s,label:d,type:m="text",required:u=!1,placeholder:p=""}=e;const{register:h,getValues:g,unregister:E}=Object(Rr.c)(),[f,y]=Object(r.useState)(!1),[b,v]=Object(r.useState)(!1);return Object(r.useEffect)(()=>()=>E(a),[]),o.a.createElement("div",null,d&&o.a.createElement("span",null,d),o.a.createElement("input",{defaultChecked:i,minLength:c,maxLength:l,required:u,name:a,ref:h({maxLength:l,minLength:c,validate:e=>!n||e===g(n)||"Must match ".concat(n)}),type:m,defaultValue:s||"",className:"Input ".concat(b?"empty":""),onFocus:()=>{f?b&&v(!1):y(!0)},onBlur:e=>{f&&u&&v(!e.target.value||""===e.target.value)},onChange:e=>{t&&t(e.target.value)},placeholder:p}))};var Qr,$r,_r,eo=o.a.memo(Zr);function to(){return(to=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}Zr.defaultProps={placeholder:"",required:!1,type:"text",onChange:void 0,shouldEqual:void 0,maxLength:void 0,minLength:void 0,checked:void 0,defaultValue:void 0,label:void 0};const ao=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",to({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-delete",ref:t},n),a?o.a.createElement("title",null,a):null,Qr||(Qr=o.a.createElement("path",{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"})),$r||($r=o.a.createElement("line",{x1:18,y1:9,x2:12,y2:15})),_r||(_r=o.a.createElement("line",{x1:12,y1:9,x2:18,y2:15})))},no=o.a.forwardRef((e,t)=>o.a.createElement(ao,to({svgRef:t},e)));a.p,a(45);const lo=e=>{let{onSubmit:t,formMethods:a,placeholder:n="Search"}=e;return o.a.createElement(Ba,{className:"SearchItem"},o.a.createElement(Rr.a,a,o.a.createElement("form",{onSubmit:a.handleSubmit(t)},o.a.createElement(eo,{name:"search",placeholder:n}),o.a.createElement(g,{stopPropagation:!0,onClick:()=>a.reset()},o.a.createElement(no,null)))))};var ro=o.a.memo(lo);lo.defaultProps={placeholder:"Search"};a(46);const oo=e=>{let{alwaysExpanded:t,hideTitle:a=!1,dropdown:n=!0}=e;const l=Object(Rr.b)(),c=Object(Rr.d)({control:l.control,name:"search"}),s=Object(i.c)(nt),d=Object(i.c)(Et),m=Object(i.c)(ft),u=Object(i.c)(yt),p=Object(i.c)(At),h=Object(i.c)(lt),g=Object(r.useCallback)(()=>{l.reset()},[]),E=(()=>{let e=p;return c&&c.length>0?e=e.filter(e=>h||d>=D.ADMIN||m.includes(e.objectId)||u.some(t=>e.partOfTeams.includes(t))?e.name.toLowerCase().includes(c.toLowerCase()):e.name.toLowerCase()===c.toLowerCase()):s&&d<D.ADMIN&&(e=e.filter(e=>m.includes(e.objectId)||u.some(t=>e.partOfTeams.includes(t)))),e.map(e=>{let{objectId:t}=e;return o.a.createElement(Xr,{key:t,identityId:t,onClick:g})})})();return o.a.createElement(S,{alwaysExpanded:t,dropdown:n,checkWidth:n,className:"IdentityList",title:a?void 0:o.a.createElement(vl,null),wideTitle:"Users"},o.a.createElement(ro,{onSubmit:()=>{0===E.length?l.reset():1===E.length&&(fe.dispatch(Te({windows:[{id:"".concat(me.DIALOGPROFILE,"-").concat(E[0].key),value:{identityId:E[0].key,type:me.DIALOGPROFILE}}]})),l.reset())},formMethods:l,placeholder:"Search by name"}),c&&0===E.length?[o.a.createElement(Ba,{key:"noMatch"},"No match found")]:E)};var co=o.a.memo(oo);oo.defaultProps={dropdown:!0,alwaysExpanded:void 0,hideTitle:!1};var io=a(23),so=a(20);var mo,uo;a.p;function po(){return(po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ho=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",po({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x",ref:t},n),a?o.a.createElement("title",null,a):null,mo||(mo=o.a.createElement("line",{x1:18,y1:6,x2:6,y2:18})),uo||(uo=o.a.createElement("line",{x1:6,y1:6,x2:18,y2:18})))},go=o.a.forwardRef((e,t)=>o.a.createElement(ho,po({svgRef:t},e)));a.p,a(51);const Eo=e=>{let{onDoubleClick:t,title:a,id:n,menu:l,type:c,maximized:s,isWide:d}=e;const m=Object(i.c)(bt),u=Object(i.c)(xe),p=Object(r.useCallback)(()=>{u.mode===pe&&u.target!==n?fe.dispatch(Re({target:n})):fe.dispatch(Ae({mode:pe,target:n}))},[u,n]),h=Object(r.useCallback)(()=>{fe.dispatch(Se({id:n}))},[]);return o.a.createElement("div",{className:"TopBar"},o.a.createElement("div",{className:"menu"},!d&&l),o.a.createElement("div",{onDoubleClick:t,className:"dragHandle"},o.a.createElement("div",{className:"title"},a)),o.a.createElement("div",{className:"buttons"},!m.alwaysMaximized&&o.a.createElement(g,{type:"button",onClick:t},s?o.a.createElement(Hr,null):o.a.createElement(Dr,null)),!m.hideHelp&&o.a.createElement(g,{stopPropagation:!0,key:"help",className:"help ".concat(u.mode===pe&&u.target===n?"active":""),type:"button",onClick:p},o.a.createElement(ql,null)),"dialog"===c&&o.a.createElement(g,{stopPropagation:!0,className:"close",onClick:h},o.a.createElement(go,null))))};var fo=o.a.memo(Eo);Eo.defaultProps={menu:void 0};var yo=o.a.memo(e=>{let{id:t,children:a}=e;const n=Object(i.c)(xe);return o.a.createElement(o.a.Fragment,null,n.mode===pe&&n.target===t&&o.a.createElement("div",{className:"helpOverlay"},a))});a(52);const bo=e=>{let{onClick:t,children:a,menu:n,done:l,index:c,id:s,help:d,type:m="window",title:u="app",className:p=""}=e;const{width:h,ref:g}=Object(so.a)(),E=Object(r.useRef)(),f=Object(i.c)(vt),y=Object(i.c)(wt),b=Object(i.c)(Ot),v={width:380,height:340},[w,O]=Object(r.useState)(v),[I,k]=Object(r.useState)({x:0,y:0}),j={zIndex:c},C=Object(r.useCallback)(()=>{k({x:0,y:0}),O({width:"100%",height:"100%"})},[]),N=Object(r.useCallback)(()=>{"100%"===w.width&&"100%"===w.height?O(v):C()},[w,I]);return Object(r.useEffect)(()=>{(f||y)&&C()},[f,y]),Object(r.useEffect)(()=>{const e=e=>{const t=E.current.resizableElement.current.style,a=E.current.resizableElement.current.getBoundingClientRect(),n=E.current.resizableElement.current.parentElement.getBoundingClientRect(),l=e.target.screen.orientation?e.target.screen.orientation.angle:e.target.orientation;"100%"===t.width&&"100%"===t.height||(0===l?(a.left+10>n.width/2?n.height>n.width?k({x:0,y:n.height/2}):k({x:0,y:(n.width-36)/2}):k({y:0,x:0}),O({width:"100%",height:"50%"})):(a.top+10>n.height/2?n.width>n.height?k({y:0,x:n.width/2}):k({y:0,x:(n.height+36)/2}):k({y:0,x:0}),O({width:"50%",height:"100%"})))};return window.addEventListener("orientationchange",e),()=>window.removeEventListener("orientationchange",e)},[]),o.a.createElement(io.a,{ref:E,style:j,onClick:t,position:I,className:"rnd",size:w,minWidth:260,minHeight:220,maxWidth:"100%",maxHeight:"calc(100%)",bounds:"#MainWindow",dragHandleClassName:"dragHandle",enableResizing:{right:!0,bottom:!0,left:!1,bottomRight:!0,bottomLeft:!0},resizeHandleStyles:{left:{left:0,width:"10px"},right:{right:0,width:"10px"},bottom:{bottom:0,height:"5px"},bottomLeft:{bottom:0,left:0,width:"20px",height:"15px"},bottomRight:{bottom:0,right:0,width:"20px",height:"15px"}},onDragStart:t,onDragStop:(e,t)=>{let{node:a,x:n,y:l}=t;if(I&&n===I.x&&l===I.y)return;const r=n+a.offsetWidth>=window.innerWidth,o=0===n,c=0===l,i=l+a.offsetHeight+36>=window.innerHeight,s=window.innerHeight<450,d=window.innerWidth<450,m=E.current.resizableElement.current.parentElement.getBoundingClientRect(),u=m.width>m.height;s||d||!c||!o||r||i?s||d||!c||!r||o||i?s||d||!i||!o||r||c?s||d||!i||!r||o||c?d||!o||r?d||!r||o?s||!c||u||i?s||!i||u||c?k({x:n,y:l}):(O({height:"50%",width:"100%"}),k({x:0,y:m.height/2})):(O({height:"50%",width:"100%"}),k({y:0,x:0})):(O({width:"50%",height:"100%"}),k({x:m.width/2,y:0})):(O({width:"50%",height:"100%"}),k({x:0,y:0})):(O({width:"50%",height:"50%"}),k({x:m.width/2,y:m.height/2})):(O({width:"50%",height:"50%"}),k({x:0,y:m.height/2})):(O({width:"50%",height:"50%"}),k({x:m.width/2,y:0})):(O({width:"50%",height:"50%"}),k({x:0,y:0}))},onResizeStart:t,onResizeStop:(e,t,a,n,l)=>{a.offsetWidth===w.width&&a.offsetHeight===w.height||(O({width:a.offsetWidth,height:a.offsetHeight}),k(l))}},o.a.createElement("div",{ref:g,className:"Window ".concat(p," ").concat(!b&&h>=600?"wide":""," ").concat(n?"hasMenu":"")},n&&!b&&h>=600&&o.a.createElement("div",{className:"menu"},n),f&&"dialog"!==m?o.a.createElement("div",null):o.a.createElement(fo,{type:m,maximized:"100%"===w.width&&"100%"===w.height,id:s,done:l,title:u,onDoubleClick:N,menu:n,isWide:!b&&h>=600}),o.a.createElement("div",{className:"windowBox"},o.a.createElement("div",{className:"content"},a,d&&o.a.createElement(yo,{id:s},d)))))};var vo=o.a.memo(bo);bo.defaultProps={done:void 0,className:void 0,title:"app",menu:void 0,type:"window",help:void 0};a(54);var wo,Oo,Io,ko=o.a.memo(e=>{let{id:t,index:a}=e;const n=Object(r.useCallback)(()=>{fe.dispatch(Te({windows:[{id:t,value:{type:me.IDENTITIES}}]}))},[]),l=Object(r.useCallback)(()=>fe.dispatch(Se({id:t})),[t]);return o.a.createElement(vo,{id:t,index:a,done:l,className:"Identities",title:"Users",onClick:n},o.a.createElement(co,{alwaysExpanded:!0,hideTitle:!0,dropdown:!1}))});function jo(){return(jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Co=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",jo({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},n),a?o.a.createElement("title",null,a):null,wo||(wo=o.a.createElement("polyline",{points:"21 8 21 21 3 21 3 8"})),Oo||(Oo=o.a.createElement("rect",{x:1,y:3,width:22,height:5})),Io||(Io=o.a.createElement("line",{x1:10,y1:12,x2:14,y2:12})))},No=o.a.forwardRef((e,t)=>o.a.createElement(Co,jo({svgRef:t},e)));var Lo;a.p;function xo(){return(xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Ao=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",xo({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-minimize",ref:t},n),a?o.a.createElement("title",null,a):null,Lo||(Lo=o.a.createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})))},Ro=o.a.forwardRef((e,t)=>o.a.createElement(Ao,xo({svgRef:t},e)));a.p,a(55);const To=e=>{let{id:t,children:a,onSettings:n,menuIcon:l}=e;const{isAnonymous:r}=Object(i.c)(pt);return o.a.createElement(S,{dropdown:!0,checkWidth:!0,wideTitle:"App menu",className:"FileMenu",title:l||o.a.createElement(Va,null)},a,n&&!r&&o.a.createElement(Ba,{stopPropagation:!0,key:"settings",onClick:n},o.a.createElement(en,null),o.a.createElement("span",null,"Preferences")),o.a.createElement(Ba,{stopPropagation:!0,key:"quit",onClick:()=>fe.dispatch(Se({id:t}))},o.a.createElement(Ro,null),o.a.createElement("span",null,"Hide app")))};var So=o.a.memo(To);To.defaultProps={children:void 0,onSettings:void 0,menuIcon:void 0};const Do=Je()([e=>e.transactions,(e,t)=>{let{ids:a}=t;return a}],(e,t)=>[...e.values()].filter(e=>{let{fromWalletId:a,toWalletId:n}=e;return t.includes(a)||t.includes(n)}).map(e=>{let{objectId:a,fromWalletId:n}=e;return{objectId:a,isSender:t.includes(n)}}).reverse())((e,t)=>{let{ids:a}=t;return"transaction-ids-".concat(a.join(" "))});var Mo,Po,Fo,Wo,Go,Bo,Ho,Uo,Vo,zo;function Yo(){return(Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const qo=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Yo({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-cpu",ref:t},n),a?o.a.createElement("title",null,a):null,Mo||(Mo=o.a.createElement("rect",{x:4,y:4,width:16,height:16,rx:2,ry:2})),Po||(Po=o.a.createElement("rect",{x:9,y:9,width:6,height:6})),Fo||(Fo=o.a.createElement("line",{x1:9,y1:1,x2:9,y2:4})),Wo||(Wo=o.a.createElement("line",{x1:15,y1:1,x2:15,y2:4})),Go||(Go=o.a.createElement("line",{x1:9,y1:20,x2:9,y2:23})),Bo||(Bo=o.a.createElement("line",{x1:15,y1:20,x2:15,y2:23})),Ho||(Ho=o.a.createElement("line",{x1:20,y1:9,x2:23,y2:9})),Uo||(Uo=o.a.createElement("line",{x1:20,y1:14,x2:23,y2:14})),Vo||(Vo=o.a.createElement("line",{x1:1,y1:9,x2:4,y2:9})),zo||(zo=o.a.createElement("line",{x1:1,y1:14,x2:4,y2:14})))},Jo=o.a.forwardRef((e,t)=>o.a.createElement(qo,Yo({svgRef:t},e)));a.p,a(56);const Ko={identity:o.a.createElement(rn,null),team:o.a.createElement(Cl,null),system:o.a.createElement(Jo,null)};var Xo=o.a.memo(e=>{let{transactionId:t,isSender:a,singleWallet:n}=e;const l=Object(i.c)(e=>((e,t)=>{let{id:a}=t;return e.transactions.get(a)})(e,{id:t})),{name:r,type:c}=Object(i.c)(e=>Lt(e,{id:l.fromWalletId})),{name:s,type:d}=Object(i.c)(e=>Lt(e,{id:l.toWalletId})),m=Object(i.c)(ot),u=Object(i.c)(rt),p=f({date:l.customTimeCreated||l.timeCreated,dayModification:m,yearModification:u}),h=a?d:c;return o.a.createElement(Ba,{className:"TransactionItem ".concat(a?"sender":"")},o.a.createElement("div",{className:"other"},Ko[h],o.a.createElement("p",{className:("identity"===h||"team"===h)&&"clickable",onClick:e=>{e.stopPropagation(),"identity"===h&&fe.dispatch(Te({windows:[{id:"".concat(me.DIALOGPROFILE,"-").concat(l.toWalletId),value:{type:me.DIALOGPROFILE,identityId:l.toWalletId}}]}))}},o.a.createElement("span",null,a?s:r)),o.a.createElement("p",{className:"time"},o.a.createElement("span",null,p.halfDate),o.a.createElement("span",null,p.halfTime))),l.note&&o.a.createElement("div",{className:"note"},o.a.createElement("p",null,l.note)),!n&&o.a.createElement("div",{className:"current"},o.a.createElement("p",null,o.a.createElement(Dn,null),o.a.createElement("span",null,":")),o.a.createElement("p",null,a?r:s)),o.a.createElement("div",{className:"amount"},o.a.createElement("p",{className:a?"negative":""},"".concat(a?"-":"+").concat(l.amount))))});a(57);var Zo=o.a.memo(e=>{let{walletIds:t}=e;const a=Object(i.c)(e=>Do(e,{ids:t})).map(e=>{let{objectId:a,isSender:n}=e;return o.a.createElement(Xo,{key:a,transactionId:a,isSender:n,singleWallet:1===t.length})});return o.a.createElement(S,{observe:"upper",className:"TransactionList"},a)});const Qo=e=>e.wallets,$o=(e,t)=>{let{id:a}=t;return e.wallets.get(a)},_o=Je()([Qo],e=>[...e.values()].map(e=>e.objectId))(()=>"wallet-ids"),ec=Je()([Qo,pt],(e,t)=>[...e.values()].filter(e=>e.ownerId===t.objectId||t.aliases.includes(e.ownerAliasId)||t.partOfTeams.includes(e.objectId)).map(e=>e.objectId))(()=>"wallet-ids-current-user"),tc=e=>{let{walletId:t,onChange:a,className:n=""}=e;const l=Object(i.c)(e=>$o(e,{id:t})),r=Object(i.c)(e=>xt(e,{id:t}));return o.a.createElement(Ba,{className:"WalletItem ".concat(n),onClick:()=>a(t)},r?"".concat(r.teamName||r.aliasName||r.username,": ").concat(l?l.amount:"?"):"Show all")};var ac=o.a.memo(tc);tc.defaultProps={className:""};var nc,lc=o.a.memo(e=>{let{onChange:t,walletId:a}=e;const n=Object(i.c)(ec);return o.a.createElement(S,{alwaysExpanded:!0,title:o.a.createElement("span",null,"Wallets"),className:"WalletList"},o.a.createElement(ac,{className:"showAll"===a?"selected":"",key:"showAll",onChange:t,walletId:"showAll"}),n.map(e=>o.a.createElement(ac,{key:e,walletId:e,onChange:t,className:a===e?"selected":""})))});function rc(){return(rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const oc=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",rc({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-key",ref:t},n),a?o.a.createElement("title",null,a):null,nc||(nc=o.a.createElement("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"})))},cc=o.a.forwardRef((e,t)=>o.a.createElement(oc,rc({svgRef:t},e)));a.p;var ic=o.a.memo(e=>{let{onChange:t,walletId:a}=e;const n=Object(i.c)(_o);return o.a.createElement(S,{alwaysExpanded:!0,title:o.a.createElement(o.a.Fragment,null,o.a.createElement(cc,null),o.a.createElement("span",null,"Wallets")),className:"WalletList"},n.map(e=>o.a.createElement(ac,{key:e,walletId:e,onChange:t,className:a===e?"selected":""})))});a(58);var sc=o.a.memo(e=>{let{walletId:t}=e;const a=Object(i.c)(Fe),n=Object(i.c)(e=>$o(e,{id:"showAll"!==t?t:a})),l=n.amount<0;return o.a.createElement("div",{className:"Amount"},o.a.createElement("span",null,"Balance"),o.a.createElement("span",{className:l?"negative":""},l?"-":"",n.amount))});a(59);var dc=o.a.memo(e=>{let{id:t,index:a}=e;const[n,l]=Object(r.useState)("showAll"),c=Object(i.c)(ec),{name:s}=Object(i.c)(e=>Lt(e,{id:n})),d=Object(i.c)(Et),m=Object(r.useCallback)(()=>{fe.dispatch(Te({windows:[{id:t,value:{type:me.WALLET}}]}))},[]),u=Object(r.useCallback)(()=>fe.dispatch(Se({id:t})),[t]),p=Object(r.useCallback)(e=>l(e),[]);return o.a.createElement(vo,{id:t,className:"Wallet",index:a,done:u,title:o.a.createElement("span",null,"".concat(s?"".concat(s):"all")),onClick:m,menu:o.a.createElement(o.a.Fragment,null,o.a.createElement(So,{menuIcon:o.a.createElement(Dn,null),id:t}),o.a.createElement(S,{dropdown:!0,checkWidth:!0,title:o.a.createElement(No,null),wideTitle:"Wallets",className:"wallets"},o.a.createElement(Ba,null,o.a.createElement(lc,{key:"walletList",onChange:p,walletId:n})),d>=D.MODERATOR&&o.a.createElement(Ba,null,o.a.createElement(ic,{key:"adminWalletList",onChange:p,walletId:n}))),o.a.createElement(co,{key:"identityList"}))},o.a.createElement(Zo,{key:"transactionList",walletIds:"showAll"!==n?[n]:c}),o.a.createElement(sc,{walletId:n}))});a(60);var mc=()=>{const[e,t]=Object(r.useState)(),a=Object(r.useRef)(),n=()=>{if("undefined"===typeof window.google||"undefined"===typeof window.MarkerClusterer||"undefined"===typeof window.MapLabel)return void setTimeout(n,1e3);const e=new window.google.maps.Map(a.current,{disableDefaultUI:!0,fullscreenControl:!1,keyboardShortcuts:!1,mapTypeControl:!1,noClear:!0,zoomControl:!1,panControl:!1,overviewMapControl:!1,rotateControl:!1,scaleControl:!1,streetViewControl:!1,center:{lat:-34.397,lng:150.644},zoom:8,styles:[{elementType:"geometry",stylers:[{color:"#13002d"}]},{elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"administrative",stylers:[{color:"#370087"}]},{featureType:"landscape.natural.terrain",stylers:[{color:"#44003a"}]},{featureType:"road",stylers:[{color:"#6e6c6d"},{weight:.5}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{color:"#7d006c"}]}]});t(e)};return Object(r.useEffect)(()=>{n()},[]),o.a.createElement("div",{ref:a,className:"MapView"})};const uc=e=>e.positions,pc=e=>Object(ze.createSelector)([uc],t=>[...t.values()].filter(t=>{let{positionType:a}=t;return e===a}).map(e=>{let{positionName:t,objectId:a}=e;return{positionName:t,objectId:a}})),hc=e=>{let{title:t,positionType:a}=e;const n=Object(r.useMemo)(pc,[]),l=Object(i.c)(e=>n(e,a));return o.a.createElement("div",{key:"positionsList",className:"PositionsList"},o.a.createElement(S,{title:t},l.map(e=>o.a.createElement(Ba,{key:e.objectId,onClick:()=>{console.log(e.objectId)}},e.positionName))))};var gc=o.a.memo(hc);hc.defaultProps={title:void 0};var Ec=e=>{let{positionTypes:t=[]}=e;return o.a.createElement("div",{className:"lists Positions"},t.map(e=>o.a.createElement(gc,{title:e,positionType:e})))};a(61);o.a.memo(e=>{let{id:t,index:a}=e;const n=Object(r.useCallback)(()=>{fe.dispatch(Te({windows:[{id:t,value:{type:me.WORLDMAP}}]}))},[]);return o.a.createElement(vo,{id:t,index:a,done:()=>fe.dispatch(Se({id:t})),className:"WorldMap",title:o.a.createElement("span",null,"Map"),onClick:n,menu:o.a.createElement(o.a.Fragment,null,o.a.createElement(So,{menuIcon:o.a.createElement(Ln,null),id:t}),o.a.createElement(Ec,null))},o.a.createElement(mc,null))});const fc=e=>e.rooms,yc=(e,t)=>{let{id:a}=t;return e.rooms.get(a)},bc=Je()([fc],e=>[...e.values()].filter(e=>!e.isWhisper&&!e.isUser))(()=>"normalRooms"),vc=Je()([fc,(e,t)=>{let{spyMode:a}=t;return a}],(e,t)=>[...e.values()].filter(e=>e.isWhisper&&("boolean"!==typeof e.spyMode&&!t||t===e.spyMode)).map(e=>{let{objectId:a,participantIds:n}=e;return{objectId:a,participantIds:n,spyMode:t}}))((e,t)=>{let{spyMode:a}=t;return"whisperRooms-spy-".concat(a)}),wc=Je()([bc,gt],(e,t)=>e.filter(e=>!t.includes(e.objectId)).map(e=>{let{roomName:t,objectId:a}=e;return{roomName:t,objectId:a}}).sort((e,t)=>{const a=e.roomName.toLowerCase(),n=t.roomName.toLowerCase();return a>n||n<a?1:0}).map(e=>{let{objectId:t}=e;return t}))(()=>"unfollowedRooms"),Oc=Je()([bc,gt],(e,t)=>e.filter(e=>t.includes(e.objectId)).map(e=>{let{objectId:t}=e;return t}))(()=>"followedRooms"),Ic=Je()([vc,(e,t)=>{let{identityId:a,currentIdentityId:n}=t;return{identityId:a,currentIdentityId:n}},(e,t)=>{let{identityId:a}=t;return yc(e,{id:a})}],(e,t,a)=>{let{currentIdentityId:n,identityId:l}=t;return e.find(e=>e.participantIds.includes(n)&&e.participantIds.includes(l))||a})((e,t)=>{let{currentIdentityId:a,identityId:n}=t;return"whisper-".concat(a,"-").concat(n)}),kc=Je()([kt,Rt,(e,t)=>{let{ids:a}=t;return a}],(e,t,a)=>{const n=e.get(a[0]),l=e.get(a[1]),r=t.find(e=>{let{objectId:t}=e;return n.objectId===t||n.ownerId===t||n.userIds.includes(t)}),o=[];return n&&l?(r?o.push(n.username||n.aliasName,l.username||l.aliasName):o.push(l.username||l.aliasName,n.username||n.aliasName),o):""})((e,t)=>{let{ids:a}=t;return"w-name-".concat(a.join(" "))});var jc,Cc;function Nc(){return(Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Lc=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Nc({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-lock",ref:t},n),a?o.a.createElement("title",null,a):null,jc||(jc=o.a.createElement("rect",{x:3,y:11,width:18,height:11,rx:2,ry:2})),Cc||(Cc=o.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})))},xc=o.a.forwardRef((e,t)=>o.a.createElement(Lc,Nc({svgRef:t},e)));a.p,a(62);var Ac=o.a.memo(e=>{let{roomId:t}=e;const a=Object(i.c)(e=>yc(e,{id:t})),n=Object(r.useCallback)(()=>{fe.dispatch(Te({windows:[{id:"".concat(me.DIALOGJOINROOM,"-").concat(t),value:{type:me.DIALOGJOINROOM,roomId:t}}]}))},[t]);return o.a.createElement(Ba,{className:"RoomItem",key:t,onClick:n},a.roomName,a.isLocked&&o.a.createElement("div",{className:"lock"},o.a.createElement(xc,null)))});const Rc=e=>{let{onChange:t,alwaysExpanded:a}=e;const n=Object(i.c)(wc);return o.a.createElement(S,{alwaysExpanded:a,key:"roomList",className:"RoomList",title:"Rooms"},n.map(e=>o.a.createElement(Ac,{key:e,roomId:e,onChange:t})))};var Tc,Sc,Dc=o.a.memo(Rc);function Mc(){return(Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}Rc.defaultProps={alwaysExpanded:void 0};const Pc=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Mc({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye",ref:t},n),a?o.a.createElement("title",null,a):null,Tc||(Tc=o.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"})),Sc||(Sc=o.a.createElement("circle",{cx:12,cy:12,r:3})))},Fc=o.a.forwardRef((e,t)=>o.a.createElement(Pc,Mc({svgRef:t},e)));a.p;const Wc=async e=>{let{title:t,text:a,image:n}=e;const l={messageType:oe,text:[t].concat(a.split("\n")),roomId:tt(fe.getState()),ownerAliasId:Pe(fe.getState())||void 0},r=await ba(na,{message:l,image:n});return fe.dispatch((e=>{let{message:t,transaction:a,wallet:n}=e;return async e=>{Object(i.b)(()=>{e(Ve({messages:[t]})),e(He({transactions:[a]})),e(Ge({wallets:[n]}))})}})(r)),{message:r.message}},Gc=async e=>{let{roomId:t,password:a}=e;const n={roomId:t,password:a,aliasId:Pe(fe.getState())||void 0},l=await ba(ca,n);return await(async e=>{let{roomId:t}=e;const a=await ba(ia,{roomId:t});return fe.dispatch(Ve({messages:a.messages})),!0})({roomId:t}),await fe.dispatch(Ht({room:l.room,user:l.user})),{room:l.room,user:l.user}};a(63);const Bc=e=>{let{room:t,onChange:a,className:n,singleUser:l}=e;const r=Object(i.c)(e=>kc(e,{ids:t.participantIds}));return o.a.createElement(Ba,{className:"WhisperItem ".concat(n||""),key:t.objectId,onClick:()=>{const e=pt(fe.getState());if(!t.participantIds.some(t=>e.objectId===t||e.aliases.includes(t))){const{hasAccess:n,adminAccess:l}=M({toAuth:e,objectToAccess:t});if(!n&&l)return void Gc({roomId:t.objectId}).then(()=>{a({roomId:t.objectId,spyMode:t.spyMode})}).catch(e=>console.log(e))}a({roomId:t.objectId,spyMode:t.spyMode})}},l?r[1]:"".concat(r[0]," > ").concat(r[1]),t.spyMode&&o.a.createElement("div",{className:"spy"},o.a.createElement(Fc,null)))};var Hc=o.a.memo(Bc,(e,t)=>{const a=e.room,n=t.room;return e.className===t.className&&(!!Object.keys(n).every(e=>a[e]&&n[e])&&!!n.participantIds.every(e=>a.participantIds.includes(e)))});Bc.defaultProps={className:void 0};const Uc=e=>{let{onChange:t,roomId:a,alwaysExpand:n}=e;const l=Object(i.c)(Tt),r=Object(i.c)(e=>vc(e,{spyMode:!1})),c=r.map(e=>o.a.createElement(Hc,{singleUser:1===l.length,key:e.objectId,room:e,onChange:t,className:"".concat(e.objectId===a?"selected":"")}));return o.a.createElement(S,{alwaysExpanded:n,key:"whisperList",className:"WhisperList ".concat(0===r.length?"hide":""),title:"Direct messages"},c)};var Vc=o.a.memo(Uc);Uc.defaultProps={roomId:void 0,alwaysExpand:void 0};const zc=e=>{let{roomId:t,onChange:a,className:n=""}=e;const l=Object(i.c)(e=>yc(e,{id:t})),c=Object(r.useCallback)(()=>a({roomId:t}),[t]);return o.a.createElement(Ba,{className:"FollowingItem ".concat(n),key:t,onClick:c},l.roomName)};var Yc=o.a.memo(zc);zc.defaultProps={className:""};const qc=e=>{let{onChange:t,roomId:a,alwaysExpanded:n}=e;const l=Object(i.c)(Oc).map(e=>o.a.createElement(Yc,{className:"".concat(e===a?"selected":""),key:e,roomId:e,onChange:t}));return o.a.createElement(S,{alwaysExpanded:n,key:"followingList",className:"FollowingList",title:"Joined"},l)};var Jc=o.a.memo(qc);qc.defaultProps={alwaysExpanded:void 0};const Kc=e=>{let{onChange:t,roomId:a}=e;const n=Object(i.c)(e=>vc(e,{spyMode:!0})).map(e=>o.a.createElement(Hc,{key:e.objectId,room:e,onChange:t,className:"".concat(e.objectId===a?"selected":"")}));return o.a.createElement(S,{dropdown:!0,checkWidth:!0,key:"whisperList",className:"WhisperList",title:o.a.createElement(o.a.Fragment,null,o.a.createElement(cc,null),o.a.createElement("span",null,"DM"))},n)};var Xc,Zc,Qc=o.a.memo(Kc);function $c(){return($c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}Kc.defaultProps={roomId:void 0};const _c=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",$c({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-edit",ref:t},n),a?o.a.createElement("title",null,a):null,Xc||(Xc=o.a.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"})),Zc||(Zc=o.a.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})))},ei=o.a.forwardRef((e,t)=>o.a.createElement(_c,$c({svgRef:t},e)));a.p,a(64);var ti,ai,ni,li=o.a.memo(e=>{let{onChange:t,roomId:a}=e;const n=Object(i.c)(Et);return o.a.createElement(o.a.Fragment,null,o.a.createElement(S,{dropdown:!0,checkWidth:!0,title:o.a.createElement(ei,null),wideTitle:"Rooms",className:"rooms"},o.a.createElement(Ba,null,o.a.createElement(Jc,{alwaysExpanded:!0,roomId:a,key:"following",onChange:t})),o.a.createElement(Ba,null,n>=D.STANDARD&&o.a.createElement(Vc,{alwaysExpand:!0,roomId:a,key:"whisper",onChange:t})),n>=D.STANDARD&&o.a.createElement(Ba,null,o.a.createElement(Dc,{alwaysExpanded:!0,key:"room",onChange:t})),n>=D.MODERATOR&&o.a.createElement(Ba,null,o.a.createElement(Qc,{roomId:a,key:"adminWhisper",onChange:t}))),o.a.createElement(co,{onDone:t,key:"user"}))}),ri=a(21),oi=a.n(ri);function ci(){return(ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ii=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",ci({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-image",ref:t},n),a?o.a.createElement("title",null,a):null,ti||(ti=o.a.createElement("rect",{x:3,y:3,width:18,height:18,rx:2,ry:2})),ai||(ai=o.a.createElement("circle",{cx:8.5,cy:8.5,r:1.5})),ni||(ni=o.a.createElement("polyline",{points:"21 15 16 10 5 21"})))},si=o.a.forwardRef((e,t)=>o.a.createElement(ii,ci({svgRef:t},e)));a.p,a(65);const di=e=>{let{croppable:t,presetImage:a,label:n,useIcon:l=!1}=e;const[c,i]=Object(r.useState)({aspect:1,width:100,unit:"%"}),{register:s,setValue:d}=Object(Rr.c)(),m=Object(r.useRef)(null),u=Object(r.useRef)(null),[p,h]=Object(r.useState)(a),E=Object(Rr.d)({name:"image"});Object(r.useEffect)(()=>{s("image")},[]),Object(r.useEffect)(()=>{d("image",p||void 0)},[p]),Object(r.useEffect)(()=>{E?m.current&&m.current.scrollIntoView({behavior:"smooth",block:"nearest"}):h(void 0)},[E]);return o.a.createElement("div",{className:"ImageUpload"},o.a.createElement("input",{key:"uploadInput",className:"hide",ref:u,type:"file",accept:"image/png, image/jpeg, image/pjpeg",onChange:e=>{let{target:t}=e;const a=(t.files||[])[0];if(a){const e=new FileReader;e.addEventListener("load",()=>{if(e.result){const t={imageName:a.name,source:e.result};h(t)}}),e.readAsDataURL(a)}}}),t?o.a.createElement(oi.a,{crop:c,onChange:e=>i(e),src:p?p.source:"",onComplete:(e,t)=>{const a=p;a.crop=t,h(a)}}):o.a.createElement(zr,{ref:m,onRemove:()=>h(void 0),className:"previewImage ".concat(p?"":"hide"),image:p?p.source:"",altText:"Image preview"}),o.a.createElement(g,{type:"button",onClick:()=>{u.current.click()}},o.a.createElement(si,null),!l&&o.a.createElement("span",null,p?"Change image":n||"Upload image")))};var mi=o.a.memo(di);di.defaultProps={useIcon:!1,presetImage:void 0,label:void 0,croppable:void 0};a(66);const ui=e=>{let{name:t,maxLength:a,onKeyDown:n,onChange:l,label:c,required:i=!1,placeholder:s=""}=e;const{register:d,control:m}=Object(Rr.c)(),u=Object(Rr.d)({control:m,name:t}),[p,h]=Object(r.useState)(!1),[g,E]=Object(r.useState)(!1),f=Object(r.useRef)(null);Object(r.useEffect)(()=>{(()=>{if(f.current){const e=f.current;document.activeElement!==e||e.style.height&&e.scrollHeight.toString()===e.style.height.split("px")[0]||(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"),f.current.scrollIntoView({block:"nearest"}))}})()},[u]);return o.a.createElement("div",{className:"Textarea"},c&&o.a.createElement("span",null,c),o.a.createElement("textarea",{onChange:l,onKeyDown:n,rows:1,maxLength:a,required:i,name:t,ref:e=>{f.current=e,d(e,{maxLength:a})},defaultValue:"",className:"Textarea ".concat(g?"empty":""),onFocus:()=>h(!0),onBlur:e=>{const t=e.target.value.trim();p&&i&&E(""!==t)},placeholder:s}))};var pi,hi,gi=ui;function Ei(){return(Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}ui.defaultProps={placeholder:"",required:!1,maxLength:void 0,onKeyDown:void 0,onChange:void 0,label:void 0};const fi=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Ei({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-cloud-off",ref:t},n),a?o.a.createElement("title",null,a):null,pi||(pi=o.a.createElement("path",{d:"M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"})),hi||(hi=o.a.createElement("line",{x1:1,y1:1,x2:23,y2:23})))},yi=o.a.forwardRef((e,t)=>o.a.createElement(fi,Ei({svgRef:t},e)));var bi,vi;a.p;function wi(){return(wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Oi=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",wi({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-send",ref:t},n),a?o.a.createElement("title",null,a):null,bi||(bi=o.a.createElement("line",{x1:22,y1:2,x2:11,y2:13})),vi||(vi=o.a.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})))},Ii=o.a.forwardRef((e,t)=>o.a.createElement(Oi,wi({svgRef:t},e)));a.p,a(67);const ki=e=>{let{roomId:t,onSend:a,minAccessLevel:n=D.STANDARD}=e;const[l,c]=Object(r.useState)(!1),s=Object(Rr.b)(),d=Object(r.useRef)(null),m=Object(i.c)(De),u=(Object(i.c)(Et),Object(i.c)($e));return o.a.createElement("div",{className:"InputArea"},o.a.createElement(Rr.a,s,o.a.createElement("form",{onSubmit:s.handleSubmit(e=>{let{text:n,image:l}=e;c(!0),(async e=>{let{text:t,roomId:a,image:n}=e;const l=yc(fe.getState(),{id:a}),r=l.isWhisper?l.participantIds:[],o={roomId:a,ownerAliasId:Pe(fe.getState())||void 0,text:t.split("\n")};l.isUser?(o.messageType=re,r.push(We(fe.getState())),r.push(a)):l.isWhisper?o.messageType=re:o.messageType=le;const c=await ba(na,{message:o,image:n,participantIds:r});return fe.dispatch(Ve({messages:[c.message]})),{message:c.message,switchRoom:!0}})({roomId:t,image:l,text:n}).then(e=>{let{message:t,switchRoom:n}=e;s.setValue("text",""),s.setValue("image",void 0),n&&a({roomId:t.roomId}),c(!1)}).catch(e=>{console.log("error",e),c(!1)})})},o.a.createElement("div",{className:"input"},u.CHAT&&o.a.createElement(mi,{useIcon:!0}),o.a.createElement(gi,{onChange:e=>{const{value:t}=e.target;t.match(/.*\s@[a-z\S]+$/)&&console.log("match")},key:"input",name:"text",onKeyDown:e=>{const{key:t,altKey:a}=e;a&&"Enter"===t&&d.current&&(d.current.click(),e.preventDefault())},placeholder:m?"Alt+Enter to send":"Reconnecting..."}),o.a.createElement(g,{ref:d,disabled:!m||l,key:"send",type:"submit",className:"sendButton",onClick:()=>{}},m?o.a.createElement(Ii,null):o.a.createElement(yi,null))))))};var ji=o.a.memo(ki);ki.defaultProps={minAccessLevel:D.STANDARD};const Ci=(e,t)=>{let{id:a}=t;return e.messages.get(a)},Ni=e=>e.messages,Li=Je()([Ni,(e,t)=>{let{roomId:a}=t;return a}],(e,t)=>[...e.values()].filter(e=>e.roomId===t))((e,t)=>{let{roomId:a}=t;return a}),xi=Je()([Ni],e=>[...e.values()].filter(e=>e.messageType===oe).reverse())(()=>"news"),Ai=Je()([Li],e=>e.map(e=>{let{objectId:t}=e;return t}))((e,t)=>{let{roomId:a}=t;return"id-".concat(a)}),Ri=Je()([xi],e=>e.map(e=>{let{objectId:t,points:a}=e;return{objectId:t,points:a}}))({keySelector:()=>"news-ids",selectorCreator:Object(ze.createSelectorCreator)(Ye.b,(e,t)=>e.length===t.length&&t.every((t,a)=>{const n=e[a];return n&&n.objectId===t.objectId}))});a(68);var Ti=o.a.memo(e=>{let{identityId:t,timeCreated:a}=e;const{name:n}=Object(i.c)(e=>Lt(e,{id:t})),l=Object(i.c)(ot),r=Object(i.c)(rt),c=f({date:a,dayModification:l,yearModification:r});return o.a.createElement("p",{className:"MessageInfo"},o.a.createElement("span",{className:"time"},c.halfTime),o.a.createElement("span",{role:"button",tabIndex:0,className:"clickable username",onClick:e=>{n&&fe.dispatch(Te({windows:[{id:"".concat(me.DIALOGPROFILE,"-").concat(t),value:{identityId:t,type:me.DIALOGPROFILE}}]})),e.stopPropagation()}},n||"-"))});a(69);const Si=e=>{let{previousMessageId:t,messageId:a,isLatest:n=!1,selected:l=!1}=e;const c=Object(r.useRef)(),s=Object(i.c)(e=>Ci(e,{id:t})),d=Object(i.c)(e=>Ci(e,{id:a})),m=pt(fe.getState()),{hasFullAccess:u}=M({objectToAccess:d,toAuth:m});return o.a.createElement(Ba,{scrollTo:l||n,ref:c,className:"MessageItem ".concat(u?"clickable":""," ").concat(d.ownerId===m.objectId||m.aliases.includes(d.ownerAliasId)?"sender":""),key:a},!(!!s&&!(new Date(d.lastUpdated).getTime()-9e5>new Date(s.lastUpdated).getTime())&&(!(!s.ownerAliasId||!d.ownerAliasId||s.ownerAliasId!==d.ownerAliasId)||!s.ownerAliasId&&!d.ownerAliasId&&s.ownerId===d.ownerId))&&o.a.createElement(Ti,{key:"msgInfo",identityId:d.ownerAliasId||d.ownerId,timeCreated:d.customTimeCreated||d.timeCreated}),o.a.createElement("div",{className:"text"},d.text.map((e,t)=>o.a.createElement("p",{key:t},e)),d.image&&d.image.thumbFileName&&o.a.createElement(zr,{scrollTo:!0,key:d.image.thumbFileName,image:"/upload/images/".concat(d.image.thumbFileName),altText:"pic",width:d.image.thumbWidth,height:d.image.thumbHeight,fullImage:"/upload/images/".concat(d.image.fileName),fullWidth:d.image.width,fullHeight:d.image.height})))};var Di=o.a.memo(Si);Si.defaultProps={previousMessageId:void 0,selected:!1,isLatest:!1};a(70);const Mi=e=>{let{roomId:t,messageId:a}=e;const n=Object(i.c)(e=>Ai(e,{roomId:t})),l=Object(r.useRef)("");n[n.length-1]!==l&&(l.current=n[n.length-1]);const c=n.map((e,t,n)=>o.a.createElement(Di,{isLatest:e===l.current,selected:a&&a===e,key:e,previousMessageId:n[t-1],messageId:e}));return o.a.createElement(S,{observe:"lower",key:"messageList",className:"MessageList"},c)};var Pi=o.a.memo(Mi);Mi.defaultProps={roomId:void 0,messageId:void 0};a(71);const Fi=e=>{let{roomId:t,onSend:a,messageId:n}=e;const l=Object(i.c)(Et);return o.a.createElement("div",{className:"Messages"},o.a.createElement("div",{className:"spacer"}),o.a.createElement(Pi,{key:"messagesList",roomId:t,messageId:n}),l>=D.STANDARD&&o.a.createElement(ji,{onSend:a,roomId:t,key:"inputArea"}))};var Wi,Gi=o.a.memo(Fi);function Bi(){return(Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}Fi.defaultProps={roomId:void 0,messageId:void 0};const Hi=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Bi({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-tool",ref:t},n),a?o.a.createElement("title",null,a):null,Wi||(Wi=o.a.createElement("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})))},Ui=o.a.forwardRef((e,t)=>o.a.createElement(Hi,Bi({svgRef:t},e)));a.p;var Vi=e=>{let{id:t,roomId:a}=e;const n=Object(i.c)(pt),l=Object(i.c)(e=>yc(e,{id:a})),c=Object(r.useCallback)(()=>fe.dispatch(Te({windows:[{id:me.DIALOGCREATEROOM,value:{type:me.DIALOGCREATEROOM}}]})),[]),{hasFullAccess:s}=M({objectToAccess:l,toAuth:n});return o.a.createElement(So,{menuIcon:o.a.createElement(On,null),key:"fileMenu",id:t},!n.isAnonymous&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ba,{stopPropagation:!0,key:"createRoom",onClick:c},o.a.createElement(fn,null),"New room"),o.a.createElement(Ba,{stopPropagation:!0,key:"configRoom",onClick:()=>{}},o.a.createElement(Ui,null),"".concat(l.roomName," settings"))),l&&!l.isWhisper&&!l.isUser&&!l.isSystemRoom&&!l.isTeam&&o.a.createElement(Ba,{key:"leaveRoom",onClick:()=>{}},o.a.createElement(Xa,null),"Leave ".concat(l.roomName)),s&&l&&!l.isWhisper&&!l.isUser&&!l.isSystemRoom&&!l.isTeam&&o.a.createElement(Ba,{stopPropagation:!0,key:"removeRoom",onClick:()=>fe.dispatch(Te({windows:[{id:me.DIALOGREMOVEROOM,value:{type:me.DIALOGREMOVEROOM,roomId:a}}]}))},"Delete ".concat(l.roomName)))};a(72);const zi=e=>{let{id:t,index:a,roomId:n,messageId:l}=e;const[c,s]=Object(r.useState)(n||Qe(fe.getState())),d=Object(i.c)(e=>yc(e,{id:c})),m=Object(i.c)(ht);Object(r.useEffect)(()=>{!m&&d||c===Qe(fe.getState())||s(Qe(fe.getState()))},[d,m]),Object(r.useEffect)(()=>{n&&c!==n&&s(n)},[n]);const u=(()=>{if(!d)return"";if(d.isUser){const e=Ct(fe.getState(),{id:c});return"".concat(e.aliasName||e.username)}if(d.isWhisper){const e=Tt(fe.getState()),t=kc(fe.getState(),{ids:d.participantIds});return 1===e.length?t[1]:"".concat(t[0]>t[1])}return"".concat(d.roomName)})(),p=Object(r.useCallback)((function(){let{roomId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(e)}),[]),h=Object(r.useCallback)(()=>{fe.dispatch(Te({windows:[{id:t,value:{type:me.CHAT}}]}))},[]),g=Object(r.useCallback)(()=>fe.dispatch(Se({id:t})),[t]);return o.a.createElement(vo,{id:t,index:a,done:g,className:"Chat",title:o.a.createElement("span",null,u),onClick:h,menu:o.a.createElement(o.a.Fragment,null,o.a.createElement(Vi,{roomId:c,id:t}),o.a.createElement(li,{roomId:c,key:"rooms",onChange:p})),help:o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("p",null,o.a.createElement(On,null),o.a.createElement("span",null,"CHAT APP Read and send messages, to users or rooms.")),o.a.createElement("p",null,"You can only read the Public chat without logging in."),o.a.createElement("p",null,"Menus are on the left (or top in smaller windows). Messages from the current room are to the right (or below)."),o.a.createElement("p",null,"Your current room is shown in the title (CHAT: public) and in JOINED.")),o.a.createElement("li",null,o.a.createElement("p",null,"SEND The message input is shown on the bottom when you are logged in. You can send the message with either alt+Enter or clicking Send."),o.a.createElement("p",null,o.a.createElement(si,null),o.a.createElement("span",null,"IMAGE Attach an image. You can send a message with just an image.")),o.a.createElement("p",null,o.a.createElement(rn,null),o.a.createElement("span",null,"YOU Your name. Click it to switch identities."))),o.a.createElement("li",null,o.a.createElement("p",null,"FILE You can create a room, change settings (like changing password or name) or remove the room you are in."),o.a.createElement("p",null,"JOINED Shows you the rooms you joined. Click one to switch to it."),o.a.createElement("p",null,"PM All private conversations are shown here. It always shows your name on the left."),o.a.createElement("p",null,o.a.createElement("span",null,"ROOMS All available rooms that you haven't joined yet."),o.a.createElement(xc,null),o.a.createElement("span",null," means that the room is password-protected.")),o.a.createElement("p",null,o.a.createElement("span",null,"USERS All users. Send a private message to a user by clicking them and choosing "),o.a.createElement(On,null),o.a.createElement("span",null," in the pop-up."))),o.a.createElement("li",null,o.a.createElement(en,null),o.a.createElement("span",null,"APP SETTINGS Change settings for this app. You have to be logged in to access it.")),o.a.createElement("li",null,o.a.createElement(Dr,null),o.a.createElement("span",null,"MAXIMIZE Make the window expand and take up all available space. Clicking it again will shrink the window.")),o.a.createElement("li",null,o.a.createElement(go,null),o.a.createElement("span",null,"CLOSE Close the window")))},o.a.createElement(Gi,{key:"messages",messageId:l,roomId:c,onSend:p}))};var Yi=o.a.memo(zi);zi.defaultProps={roomId:void 0,messageId:void 0};a(73);const qi=e=>{let{children:t,title:a,error:n,text:l,done:r,onClick:c,index:i,id:s,buttons:d,className:m=""}=e;return o.a.createElement(vo,{id:s,index:i,type:"dialog",done:r,title:a,className:"Dialog ".concat(m),onClick:c},n&&o.a.createElement("div",{className:"error"},o.a.createElement("span",null,n.message)),l&&o.a.createElement("div",null,l),o.a.createElement("div",{className:"contentContainer"},t),d.length>0&&o.a.createElement("div",{className:"buttons"},o.a.createElement(g,{stopPropagation:!0,type:"button",onClick:()=>fe.dispatch(Se({id:s}))},"Cancel"),d))};var Ji=o.a.memo(qi);qi.defaultProps={children:void 0,error:void 0,title:void 0,text:void 0,className:"",buttons:void 0};var Ki=o.a.memo(e=>{let{id:t,index:a}=e;const n=Object(Rr.b)(),l=e=>{let{roomName:a,password:n,topic:l}=e;(async e=>{let{room:t}=e;const a={...t,ownerAliasId:Pe(fe.getState())||void 0},n=await ba(la,{room:a});return await fe.dispatch(Ht({room:n.room,user:n.user})),{room:n.room}})({room:{roomName:a,password:n,topic:l}}).then(e=>{let{room:a}=e;Object(i.b)(()=>{fe.dispatch(Te({windows:[{id:me.CHAT,value:{type:me.CHAT,roomId:a.objectId}}]})),fe.dispatch(Se({id:t}))})}).catch(e=>console.log(e))};return n.errors.repeatPassword&&n.setValue("repeatPassword",""),o.a.createElement(Ji,{id:t,index:a,className:"CreateRoomDialog",onClick:()=>{fe.dispatch(Te({windows:[{id:t,value:{type:me.DIALOGCREATEROOM}}]}))},done:()=>fe.dispatch(Se({id:t})),title:"New room",buttons:[o.a.createElement(g,{type:"submit",onClick:()=>n.handleSubmit(l)()},"Create")]},o.a.createElement(Rr.a,n,o.a.createElement("form",{onSubmit:n.handleSubmit(l)},o.a.createElement("div",{className:"identity"},o.a.createElement("span",null,"You are: "),o.a.createElement(jr,null)),o.a.createElement(eo,{required:!0,label:"Name of the room",maxLength:20,name:"roomName",placeholder:"Name"}),o.a.createElement(eo,{label:"Topic (shown when joining the room)",maxLength:300,name:"topic",placeholder:"Topic"}),o.a.createElement(eo,{label:"Optional password",minLength:4,maxLength:100,name:"password",type:"password",placeholder:"Password"}),o.a.createElement(eo,{label:"Repeat password",minLength:4,maxLength:100,shouldEqual:"password",name:"repeatPassword",type:"password",placeholder:"".concat(n.errors.repeatPassword?"Error. Passwords must match!":"Repeat password")}))))});var Xi=o.a.memo(e=>{let{id:t,roomId:a,index:n}=e;const[l,c]=Object(r.useState)(),s=Object(i.c)(e=>yc(e,{id:a}));return o.a.createElement(Ji,{id:t,index:n,className:"RemoveRoomDialog",error:l,onClick:()=>{fe.dispatch(Te({windows:[{id:t,value:{type:me.DIALOGREMOVEROOM,roomId:a}}]}))},done:()=>fe.dispatch(Se({id:t})),title:"Delete room ".concat(s?s.roomName:""),text:"Are you sure you want to delete ".concat(s?s.roomName:"","?"),buttons:[o.a.createElement(g,{type:"submit",onClick:()=>{(async e=>{let{roomId:t}=e;const a=await ba(sa,{roomId:t});return await fe.dispatch(Bt({rooms:[{objectId:t}]})),{room:a.room}})({roomId:a}).then(()=>{Object(i.b)(()=>{fe.dispatch(Te({windows:[{id:me.CHAT,value:{type:me.CHAT}}]})),fe.dispatch(Se({id:t}))})}).catch(e=>c(e))}},"Yes")]})});var Zi=o.a.memo(e=>{let{id:t,index:a}=e;const n=Object(Rr.b)(),[l,c]=Object(r.useState)(),i=async e=>{let{username:a,password:n}=e;Ma(a,n).then(()=>{fe.dispatch(Se({id:t}))}).catch(e=>{c(e)})},s=Object(r.useCallback)(()=>{fe.dispatch(Te({windows:[{id:t,value:{type:me.DIALOGLOGIN}}]}))},[t]),d=Object(r.useCallback)(()=>n.handleSubmit(i)(),[]),m=Object(r.useCallback)(()=>fe.dispatch(Se({id:t})),[t]);return o.a.createElement(Ji,{id:t,index:a,className:"LoginDialog",onClick:s,done:m,error:l,title:"Login",buttons:[o.a.createElement(g,{key:"submit",type:"submit",onClick:d},"Login")]},o.a.createElement(Rr.a,n,o.a.createElement("form",{onSubmit:n.handleSubmit(i)},o.a.createElement(eo,{label:"Username",name:"username",placeholder:"Username"}),o.a.createElement(eo,{label:"Password",name:"password",placeholder:"Password",type:"password"}))))});a(74);const Qi=e=>{let{onChange:t,children:a,name:n,defaultValue:l,label:c,required:i=!1,placeholder:s="",multiple:d=!1}=e;const{register:m,unregister:u}=Object(Rr.c)(),[p,h]=Object(r.useState)(!1),[g,E]=Object(r.useState)(!1),f=e=>{const t=Array.from(e.target.selectedOptions).filter(e=>""!==e.value);p&&i&&E(0===t.length)};return Object(r.useEffect)(()=>()=>u(n),[]),o.a.createElement("div",null,c&&o.a.createElement("span",null,c),o.a.createElement("select",{defaultValue:l,required:i,name:n,ref:m,className:"Select ".concat(g?"empty":""),onFocus:()=>h(!0),onBlur:f,onChange:e=>{f(e),t&&t(Array.from(e.target.selectedOptions).map(e=>e.value).filter(e=>""!==e))},placeholder:s,multiple:d},a))};var $i=Qi;Qi.defaultProps={multiple:!1,children:void 0,placeholder:"",required:!1,onChange:void 0,defaultValue:void 0,label:void 0};const _i={they:"They/Them",she:"She/Her",he:"He/Him",it:"It"},es=e=>{let{preselected:t}=e;return o.a.createElement("div",null,o.a.createElement("span",null,"Pronouns"),o.a.createElement($i,{multiple:!0,required:!0,defaultValue:t,name:"pronouns"},o.a.createElement("option",{value:"they"},"They/Them"),o.a.createElement("option",{value:"she"},"She/Her"),o.a.createElement("option",{value:"he"},"He/Him"),o.a.createElement("option",{value:"it"},"It")))};var ts=es;es.defaultProps={preselected:void 0};var as=o.a.memo(e=>{let{id:t,index:a}=e;const n=Object(Rr.b)(),[l,c]=Object(r.useState)(),s=Object(i.c)(Ze),d=async e=>{let{offName:a,username:n,password:l,repeatPassword:r,pronouns:o,description:i,image:d}=e;if(s&&!a||!n||!l||!r||!o)return;if(l!==r)return;const m={image:d,user:{offName:a,username:n,password:l,pronouns:o,description:i?i.split("\n"):void 0}};try{await(async e=>{const t=e;t.user.registerDevice=Ne();const a=await ba(aa,t);return await fe.dispatch(Ft(a)),a})(m),await Ma(n,l),fe.dispatch(Se({id:t}))}catch(u){c(u)}},m=Object(r.useCallback)(()=>{fe.dispatch(Te({windows:[{id:t,value:{type:me.DIALOGREGISTER}}]}))},[t]),u=Object(r.useCallback)(()=>fe.dispatch(Se({id:t})),[t]),p=Object(r.useCallback)(()=>n.handleSubmit(d)(),[]);return o.a.createElement(Ji,{id:t,index:a,error:l,onClick:m,done:u,title:"Register user",buttons:[o.a.createElement(g,{key:"submit",type:"submit",onClick:p},"Register")]},o.a.createElement(Rr.a,n,o.a.createElement("form",{onSubmit:n.handleSubmit(d)},s&&o.a.createElement(eo,{required:!0,label:"Out-of-game name (willy only be visible to organisers)",key:"offName",maxLength:100,name:"offName",placeholder:"Out-of-game name"}),o.a.createElement(eo,{required:!0,label:"Username/Name",key:"username",maxLength:30,name:"username",placeholder:"Username"}),o.a.createElement(ts,{key:"pronouns"}),o.a.createElement(eo,{required:!0,label:"Password",key:"password",minLength:4,maxLength:100,name:"password",placeholder:"Password",type:"password"}),o.a.createElement(eo,{required:!0,label:"Repeat password",key:"repeatPassword",minLength:4,maxLength:100,shouldEqual:"password",name:"repeatPassword",placeholder:"Repeat password",type:"password"}),o.a.createElement(gi,{label:"Description. Who are you?",key:"description",maxLength:300,name:"description",placeholder:"Description"}),o.a.createElement(mi,{key:"imageUpload",label:"Upload profile image"}))))});const ns=async e=>{const t=await ba(ta,e);return await fe.dispatch((e=>{let{alias:t,wallet:a,room:n}=e;return async e=>{Object(i.b)(()=>{e(Jt({aliases:[t]})),e(Wt({rooms:[n]})),e(Be({wallets:[a]}))})}})(t)),t};var ls=o.a.memo(e=>{let{id:t,index:a}=e;const n=Object(Rr.b)(),[l,c]=Object(r.useState)(),i=async e=>{let{aliasName:a,pronouns:n,description:r}=e;const o={image:l,alias:{aliasName:a,pronouns:n,description:r?r.split("\n"):void 0}};ns(o).then(()=>fe.dispatch(Se({id:t}))).catch(e=>console.log(e))},s=Object(r.useCallback)(()=>{fe.dispatch(Te({windows:[{id:t,value:{type:me.DIALOGCREATEALIAS}}]}))},[t]),d=Object(r.useCallback)(()=>fe.dispatch(Se({id:t})),[t]),m=Object(r.useCallback)(()=>n.handleSubmit(i)(),[]);return o.a.createElement(Ji,{id:t,index:a,title:"New alias",onClick:s,done:d,buttons:[o.a.createElement(g,{stopPropagation:!0,key:"submit",type:"submit",onClick:m},"Create")]},o.a.createElement(Rr.a,n,o.a.createElement("form",{onSubmit:n.handleSubmit(i)},o.a.createElement(eo,{required:!0,label:"Alias name",maxLength:30,name:"aliasName",placeholder:"Alias name"}),o.a.createElement(ts,null),o.a.createElement(mi,{label:"Upload profile image"}),o.a.createElement(gi,{label:"Description",maxLength:300,name:"description",placeholder:"Description"}))))});const rs=e=>{let{id:t,toWalletId:a,amount:n,index:l}=e;const c=Object(Rr.b)(),s=Object(i.c)(We),d=Object(i.c)(ec),m=Object(i.c)(e=>jt(e,{ids:d})),u=Object(i.c)(e=>Lt(e,{id:a})),p=[],h=async e=>{let{note:n,fromWalletId:l,amount:r}=e;(async e=>{let{transaction:t}=e;const a={...t,ownerAliasId:Pe(fe.getState())||void 0},n=await ba(oa,{transaction:a});return await fe.dispatch(Ue(n)),n})({transaction:{note:n,fromWalletId:l,toWalletId:a,amount:r}}).then(()=>fe.dispatch(Se({id:t}))).catch(e=>console.log(e))};m.forEach(e=>{p.push(o.a.createElement("option",{key:e.objectId,value:e.objectId},e.teamName||e.aliasName||e.username))});const E=Object(r.useCallback)(()=>{fe.dispatch(Te({windows:[{id:t,value:{type:me.DIALOGCREATETRANSACTION,toWalletId:a}}]}))},[t,a]),f=Object(r.useCallback)(()=>fe.dispatch(Se({id:t})),[t]),y=Object(r.useCallback)(()=>c.handleSubmit(h)(),[]);return o.a.createElement(Ji,{id:t,index:l,title:"Transfer to ".concat(u),onClick:E,done:f,buttons:[o.a.createElement(g,{stopPropagation:!0,key:"submit",type:"submit",onClick:y},"Transfer")]},o.a.createElement(Rr.a,c,o.a.createElement("form",{onSubmit:c.handleSubmit(h)},o.a.createElement("p",null,"You are making a transfer to ".concat(u)),p.length>1&&o.a.createElement($i,{required:!0,label:"From your wallet",defaultValue:s,name:"fromWalletId"},o.a.createElement(o.a.Fragment,null,p)),o.a.createElement(eo,{required:!0,label:"Amount",defaultValue:n,name:"amount",placeholder:"Amount"}),o.a.createElement(eo,{label:"Note",maxLength:50,name:"note",placeholder:"Note"}))))};var os=o.a.memo(rs);rs.defaultProps={amount:void 0};const cs=async e=>{let{docFileId:t,code:a}=e;const n={docFileId:t,code:a,aliasId:Pe(fe.getState())||void 0},l=pt(fe.getState()),r=Oa(fe.getState(),{id:t});if(l.isAnonymous&&r.isPublic)return{docFile:r};const{hasAccess:o,adminAccess:c}=M({toAuth:l,objectToAccess:{...r,isPublic:!1}});if(o&&!c)return{docFile:r};const i=await ba(da,n);return await fe.dispatch(Qt({docFiles:[i.docFile]})),i};a(75);var is,ss=o.a.memo(e=>{let{docFileId:t}=e;const a=Object(i.c)(e=>Oa(e,{id:t})),n=Object(i.c)(Et),l=Object(i.c)(e=>Nt(e,{id:a.ownerAliasId||a.ownerId})),{name:r}=Object(i.c)(e=>Lt(e,{id:a.ownerAliasId||a.ownerId}));let c;return c=a.isLocked?o.a.createElement(xc,null):a.images&&a.images[0]?o.a.createElement(zr,{image:"/upload/images/".concat(a.images[0].thumbFileName)}):o.a.createElement(Un,null),o.a.createElement(Ba,{stopPropagation:!0,elementId:"docFile-".concat(t),className:"DocFileItem",key:a.objectId,onClick:()=>{a.isLocked&&n<D.ADMIN?fe.dispatch(Te({windows:[{id:"".concat(me.DIALOGUNLOCKFILE,"-").concat(t),value:{docFileId:t,type:me.DIALOGUNLOCKFILE}}]})):cs({docFileId:t}).then(()=>fe.dispatch(Te({windows:[{id:"".concat(me.DOCFILEVIEW,"-").concat(t),value:{docFileId:t,type:me.DOCFILEVIEW}}]}))).catch(e=>console.log(e))}},o.a.createElement("div",{className:"icon"},c),o.a.createElement("span",{className:"title"},a.title),o.a.createElement("span",{className:"by icon"},l?o.a.createElement(zr,{image:"/upload/images/".concat(l.thumbFileName)}):"".concat(r.slice(0,4))))});function ds(){return(ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ms=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",ds({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-down",ref:t},n),a?o.a.createElement("title",null,a):null,is||(is=o.a.createElement("polyline",{points:"6 9 12 15 18 9"})))},us=o.a.forwardRef((e,t)=>o.a.createElement(ms,ds({svgRef:t},e)));a.p,a(76);const ps="title",hs="creator",gs="type";var Es=o.a.memo(()=>{const e=Object(r.useRef)(),t=Object(Rr.b)(),a=Object(Rr.d)({control:t.control,name:"search"}),n=Object(i.c)(Ia),[l,c]=Object(r.useState)(ps),s=(()=>{let e=n.sort((e,t)=>{let a,n;return l===ps?(a=e.title.toLowerCase(),n=t.title.toLowerCase()):l===hs?(a=Lt(fe.getState(),{id:e.ownerAliasId||e.ownerId}).name,n=Lt(fe.getState(),{id:t.ownerAliasId||t.ownerId}).name):l===gs&&(a=e.isLocked?1:0,n=t.isLocked?1:0),a>n?1:a<n?-1:0});return a&&a.length>0&&(e=e.filter(e=>{const t=Lt(fe.getState(),{id:e.ownerAliasId||e.ownerId}).name,n=a.toLowerCase();return e.title.toLowerCase().includes(n)||(e.tags||[]).includes(n)||t.toLowerCase().includes(n)})),e.map(e=>{let{objectId:t}=e;return o.a.createElement(ss,{key:t,docFileId:t})})})();return o.a.createElement(S,{alwaysExpanded:!0,className:"DocFileList",ref:e},o.a.createElement(ro,{onSubmit:()=>{if(0===s.length)t.reset();else if(1===s.length){const a=e.current.querySelector("#docFile-".concat(s[0].key));a&&(a.click(),t.reset())}},formMethods:t,placeholder:"Search by tile/tags/author"}),o.a.createElement(Ba,{className:"DocFileItem header"},o.a.createElement("div",{className:"icon clickable",onClick:()=>c(gs)},"#",l===gs&&o.a.createElement(us,null)),o.a.createElement("span",{className:"title clickable",onClick:()=>c(ps)},"Title",l===ps&&o.a.createElement(us,null)),o.a.createElement("span",{className:"by icon clickable",onClick:()=>c(hs)},"By",l===hs&&o.a.createElement(us,null))),s)});a(15);var fs=e=>{let{id:t}=e;const a=Object(i.c)(pt),n=Object(r.useCallback)(()=>fe.dispatch(Te({windows:[{id:me.DIALOGCREATEDOCFILE,value:{type:me.DIALOGCREATEDOCFILE}}]})));return o.a.createElement(So,{menuIcon:o.a.createElement(Kn,null),key:"fileMenu",id:t},!a.isAnonymous&&o.a.createElement(Ba,{stopPropagation:!0,onClick:n,key:"createDocFile"},o.a.createElement(fn,null),o.a.createElement("span",null,"New document")))};var ys=o.a.memo(e=>{let{id:t,index:a}=e;const n=Object(r.useCallback)(()=>{fe.dispatch(Te({windows:[{id:t,value:{type:me.DOCFILEDIR}}]}))},[]),l=Object(r.useCallback)(()=>fe.dispatch(Se({id:t})),[t]);return o.a.createElement(vo,{id:t,index:a,done:l,className:"DocFileDir",title:o.a.createElement("span",null,"Directory"),onClick:n,menu:o.a.createElement(fs,{id:t})},o.a.createElement(Es,null))});a(77);var bs,vs,ws=o.a.memo(e=>{let{id:t,index:a}=e;const n=Object(Rr.b)(),l=async e=>{let{title:a,text:n,code:l,isPublic:r,image:o}=e;(async e=>{let{docFile:t,images:a}=e;const n={...t,code:""!==t.code?t.code:void 0,ownerAliasId:Pe(fe.getState())||void 0,text:t.text.split("\n")},l=await ba(ra,{docFile:n,images:a});return await fe.dispatch($t({docFiles:[l.docFile]})),l})({images:o?[o]:void 0,docFile:{title:a,text:n,code:l,isPublic:r}}).then(()=>fe.dispatch(Se({id:t}))).catch(e=>console.log(e))};return o.a.createElement(Ji,{id:t,index:a,className:"CreateDocFileDialog",title:"New document",onClick:()=>{fe.dispatch(Te({windows:[{id:t,value:{type:me.DIALOGCREATEDOCFILE}}]}))},done:()=>fe.dispatch(Se({id:t})),buttons:[o.a.createElement(g,{stopPropagation:!0,key:"submit",type:"submit",onClick:()=>n.handleSubmit(l)()},"Create")]},o.a.createElement(Rr.a,n,o.a.createElement("form",{onSubmit:n.handleSubmit(l)},o.a.createElement(jr,{label:o.a.createElement("span",null,"You are:")}),o.a.createElement(eo,{label:"Do you want it to be available to the public? (A user with the right code can always access the document)",type:"checkbox",name:"isPublic"}),o.a.createElement(eo,{required:!0,label:"Title",maxLength:40,name:"title",placeholder:"Title"}),o.a.createElement(eo,{label:"Code",minLength:3,maxLength:10,name:"code",placeholder:"Code"}),o.a.createElement(gi,{required:!0,maxLength:3500,name:"text",placeholder:"Text"}),o.a.createElement(mi,null))))});function Os(){return(Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Is=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Os({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-right",ref:t},n),a?o.a.createElement("title",null,a):null,bs||(bs=o.a.createElement("line",{x1:5,y1:12,x2:19,y2:12})),vs||(vs=o.a.createElement("polyline",{points:"12 5 19 12 12 19"})))},ks=o.a.forwardRef((e,t)=>o.a.createElement(Is,Os({svgRef:t},e)));a.p,a(78);var js=o.a.memo(e=>{let{messageId:t}=e;const a=Object(i.c)(e=>Ci(e,{id:t}));return o.a.createElement(Ba,{className:"DashNewsItem",key:a.objectId,onClick:()=>fe.dispatch(Te({windows:[{id:me.NEWS,value:{type:me.NEWS,messageId:a.objectId}}]}))},o.a.createElement("p",null,a.text[0],o.a.createElement(ks,null)))});a(79);var Cs,Ns=o.a.memo(()=>{const e=Object(i.c)(Et),t=Object(i.c)(We),a=Object(i.c)(ht),{name:n}=Object(i.c)(e=>Lt(e,{id:t})),l=Object(i.c)(e=>$o(e,{id:t})),r=Object(i.c)(Ri),c=Object(i.c)(Or),s=Object(i.c)(ot),d=Object(i.c)(rt),m=f({date:new Date,dayModification:s,yearModification:d}),u=()=>r&&0!==r.length?r.sort((e,t)=>{const a=e.points,n=t.points;return a>n?-1:a<n?1:0}).slice(0,5).map(e=>o.a.createElement(js,{key:e.objectId,messageId:e.objectId})):[o.a.createElement(Ba,{key:"noNews"},"There are no news.")];return o.a.createElement("div",{className:"Dashboard"},c&&o.a.createElement("div",{className:"nav"},o.a.createElement(bn,null),o.a.createElement(Vl,null),window.ReactNativeWebView&&o.a.createElement(g,{type:"button",onClick:()=>Ra({type:xa,data:{}})},o.a.createElement(wr,null)),e>=D.STANDARD&&o.a.createElement(jr,{hideOnSingle:!1}),o.a.createElement(O,null)),a&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Welcome!"),o.a.createElement("p",null,m.fullDate),o.a.createElement(S,{alwaysExpanded:!0,title:"Top News",className:"news"},u())),!a&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Welcome, ".concat(n,"!")),o.a.createElement("p",null,"Today's date is ".concat(m.fullDate)),l&&o.a.createElement("p",null,"You have ".concat(l.amount," in your wallet.")),o.a.createElement(S,{alwaysExpanded:!0,title:"News",className:"news"},u())))});function Ls(){return(Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const xs=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Ls({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-up",ref:t},n),a?o.a.createElement("title",null,a):null,Cs||(Cs=o.a.createElement("polyline",{points:"18 15 12 9 6 15"})))},As=o.a.forwardRef((e,t)=>o.a.createElement(xs,Ls({svgRef:t},e)));a.p,a(80);const Rs=e=>{let{messageId:t,expand:a=!1,className:n=""}=e;const l=Object(r.useRef)(),[c,s]=Object(r.useState)(!1),d=Object(i.c)(e=>Ci(e,{id:t})),{name:m}=Object(i.c)(e=>Lt(e,{id:d.ownerAliasId||d.ownerId})),u=Object(i.c)(ot),p=Object(i.c)(rt),h=f({date:d.customTimeCreated||d.timeCreated,dayModification:u,yearModification:p});return Object(r.useEffect)(()=>{s(a)},[a]),o.a.createElement(Ba,{scrollTo:c,ref:l,elementId:"news-".concat(t),onClick:()=>s(!c),className:"NewsItem ".concat(c?"expanded":""," ").concat(n)},o.a.createElement("div",{className:"title"},o.a.createElement("p",null,d.text[0]),o.a.createElement("p",{className:"info"},o.a.createElement("span",null,"".concat(h.halfDate," "),h.halfTime),o.a.createElement("span",null," By: ".concat(m)),!c&&o.a.createElement(us,null),c&&o.a.createElement(As,null))),c&&o.a.createElement("div",{className:"newsContent"},d.image&&d.image.thumbFileName&&o.a.createElement(zr,{image:"/upload/images/".concat(d.image.thumbFileName),fullImage:"/upload/images/".concat(d.image.fileName),altText:"pic",width:d.image.thumbWidth,height:d.image.thumbHeight,fullWidth:d.image.width,fullHeight:d.image.height}),o.a.createElement("div",{className:"text"},d.text.slice(1).map((e,t)=>o.a.createElement("p",{key:t},e)))))};var Ts=o.a.memo(Rs);Rs.defaultProps={className:"",expand:!1};a(81);const Ss=e=>{let{messageId:t}=e;const a=Object(r.useRef)(null),n=Object(i.c)(Ri);return o.a.createElement(S,{observe:"upper",ref:a,className:"NewsList"},0===n.length&&[o.a.createElement(Ba,{key:"noNews"},o.a.createElement("p",null,"There are no news"))],[...n].filter(e=>e.points&&e.points>0).sort((e,t)=>{const a=e.points,n=t.points;return a>n?-1:a<n?1:0}).slice(0,3).map(e=>o.a.createElement(Ts,{key:"top-".concat(e.objectId),messageId:e.objectId,className:"topNews"})).concat([...n].map(e=>o.a.createElement(Ts,{expand:e.objectId===t,key:e.objectId,messageId:e.objectId}))))};var Ds=o.a.memo(Ss);Ss.defaultProps={messageId:void 0};a(82);const Ms=e=>{let{id:t,messageId:a,index:n}=e;const l=Object(i.c)(e=>yc(e,{id:tt(e)})),c=Object(r.useCallback)(()=>{fe.dispatch(Te({windows:[{id:t,value:{type:me.NEWS,messageId:a}}]}))},[a]),s=Object(r.useCallback)(()=>fe.dispatch(Se({id:t})),[t]),d=Object(r.useCallback)(()=>fe.dispatch(Te({windows:[{id:me.DIALOGCREATENEWS,value:{type:me.DIALOGCREATENEWS}}]})),[]);Object(r.useCallback)(()=>{fe.dispatch(Te({windows:[{id:"".concat(me.DIALOGAPPSETTINGS,"-").concat(t),value:{type:"".concat(me.DIALOGAPPSETTINGS,"-").concat(t)}}]}))},[t]);return o.a.createElement(vo,{id:t,index:n,done:s,className:"News",title:o.a.createElement("span",null,"News"),onClick:c,menu:o.a.createElement(o.a.Fragment,null,o.a.createElement(So,{menuIcon:o.a.createElement(el,null),key:"fileMenu",id:t},l&&o.a.createElement(Ba,{stopPropagation:!0,key:"createNews",onClick:d},o.a.createElement(fn,null),o.a.createElement("span",null,"New article"))))},o.a.createElement(Ds,{messageId:a}))};var Ps=o.a.memo(Ms);Ms.defaultProps={messageId:void 0};var Fs,Ws,Gs=o.a.memo(e=>{let{id:t,index:a}=e;const n=Object(i.c)(at),l=Object(i.c)(We),c=Object(i.c)(e=>$o(e,{id:l})),s=Object(Rr.b)(),[d,m]=Object(r.useState)(),u=e=>{let{title:a,text:n,image:l}=e;Wc({title:a,text:n,image:l}).then(e=>{let{message:a}=e;Object(i.b)(()=>{fe.dispatch(Te({windows:[{id:me.NEWS,value:{type:me.NEWS,messageId:a.objectId}}]})),fe.dispatch(Se({id:t}))})}).catch(e=>console.log(e))};return o.a.createElement(Ji,{id:t,index:a,className:"CreateNewsDialog",onClick:()=>{fe.dispatch(Te({windows:[{id:t,value:{type:me.DIALOGCREATENEWS}}]}))},done:()=>fe.dispatch(Se({id:t})),error:d,title:"New article",buttons:[o.a.createElement(g,{key:"submit",type:"submit",onClick:()=>s.handleSubmit(u)()},"Create")]},o.a.createElement(Rr.a,s,o.a.createElement("form",{onSubmit:s.handleSubmit(u)},o.a.createElement(jr,{label:o.a.createElement("span",null,"You are:")}),o.a.createElement("div",null,o.a.createElement("p",null,"The article fee is: ".concat(n)),o.a.createElement("p",null,"You have ".concat(c.amount," in your wallet"))),o.a.createElement(eo,{required:!0,label:"title",maxLength:200,name:"title",placeholder:"Title"}),o.a.createElement(mi,null),o.a.createElement(gi,{required:!0,label:"Text",maxLength:800,name:"text",placeholder:"Text"}))))});function Bs(){return(Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const Hs=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",Bs({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-unlock",ref:t},n),a?o.a.createElement("title",null,a):null,Fs||(Fs=o.a.createElement("rect",{x:3,y:11,width:18,height:11,rx:2,ry:2})),Ws||(Ws=o.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})))},Us=o.a.forwardRef((e,t)=>o.a.createElement(Hs,Bs({svgRef:t},e)));a.p;const Vs=e=>{let{roomId:t,id:a,index:n,password:l,messageId:c}=e;const[s,d]=Object(r.useState)(),m=Object(i.c)(e=>yc(e,{id:t})),u=Object(i.c)(pt),p=Object(Rr.b)(),{hasAccess:h}=M({objectToAccess:m,toAuth:u}),E=function(){let{password:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Gc({roomId:t,password:e}).then(()=>{Object(i.b)(()=>{fe.dispatch(Te({windows:[{id:me.CHAT,value:{type:me.CHAT,roomId:t,messageId:c}}]})),fe.dispatch(Se({id:a}))})}).catch(e=>{const t={...e};console.log(e),"not allowed"===e.type&&(t.message="Incorrect password"),d(t)})};return o.a.createElement(Ji,{id:a,error:s,index:n,className:"JoinRoomDialog",onClick:()=>{fe.dispatch(Te({windows:[{id:a,value:{roomId:t,password:l,messageId:c,type:me.DIALOGJOINROOM}}]}))},done:()=>fe.dispatch(Se({id:a})),title:h||!m.password?"Join room ".concat(m.roomName):"Unlock room ".concat(m.roomName),buttons:[o.a.createElement(g,{stopPropagation:!0,type:"submit",onClick:()=>p.handleSubmit(E)()},!h&&m.password&&o.a.createElement(Us,null),o.a.createElement("span",null,h||!m.password?"Join":"Unlock"))]},o.a.createElement(Rr.a,p,o.a.createElement("form",{onSubmit:p.handleSubmit(E)},o.a.createElement("div",null,(h||!m.password)&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Do you want to join the room ".concat(m.roomName,"?")),m.topic&&o.a.createElement("p",null,"Topic: ".concat(m.topic))),!h&&m.password&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"The room is locked."),o.a.createElement("p",null,"Enter the password to continue:"))),!h&&m.password&&o.a.createElement(eo,{label:"Password",defaultValue:l,required:!h,minLength:4,maxLength:100,name:"password",type:"password",placeholder:"Password"}))))};var zs=o.a.memo(Vs);Vs.defaultProps={password:void 0,messageId:void 0};a(83);var Ys=o.a.memo(e=>{let{id:t,index:a}=e;const n=Object(Rr.b)(),l=Object(i.c)(pt),c=Object(Rr.d)({control:n.control,name:"onDevice",defaultValue:""}),s="this"===c&&l.systemConfig?l.systemConfig[Ne()]||{}:l.systemConfig||{},d=e=>{let a,{hideHelp:r,hideTopBar:o,alwaysMaximized:i,hideMenuBar:d,openApps:m,removeDeviceConfig:u,alwaysCompactMenu:p}=e;if(u){const{[Ne()]:e,...t}=l.systemConfig;a=t,n.setValue("onDevice","")}else{const e=s[Ne()]||{};a="this"===c?{...s,[Ne()]:{...e,hideHelp:r,hideTopBar:o,alwaysMaximized:i,hideMenuBar:d,alwaysCompactMenu:p,openApps:m.map(e=>({id:e,value:{type:e}}))}}:{...s,hideHelp:r,hideTopBar:o,alwaysMaximized:i,hideMenuBar:d,alwaysCompactMenu:p,openApps:m.map(e=>({id:e,value:{type:e}}))}}wa({userId:l.objectId,user:{systemConfig:a}}).then(()=>fe.dispatch(Se({id:t}))).catch(e=>console.log(e))},m=Object(r.useCallback)(()=>{fe.dispatch(Te({windows:[{id:t,value:{type:me.DIALOGCONFIGSYSTEM}}]}))},[t]),u=Object(r.useCallback)(()=>fe.dispatch(Se({id:t})),[t]);return o.a.createElement(Ji,{className:"ConfigSystemDialog",id:t,index:a,title:"System config: ".concat(l.username),onClick:m,done:u,buttons:[o.a.createElement(o.a.Fragment,null,"this"===c&&l.systemConfig[Ne()]&&o.a.createElement(g,{stopPropagation:!0,key:"removeConfig",type:"button",onClick:()=>d({removeDeviceConfig:!0})},"Remove")),o.a.createElement(g,{stopPropagation:!0,key:"submit",onClick:()=>n.handleSubmit(d)(),type:"submit"},"Update")]},o.a.createElement(Rr.a,n,o.a.createElement("form",{onSubmit:n.handleSubmit(d)},o.a.createElement("div",null,o.a.createElement("p",null,"Changes made here will affect your user and only when you are logged in.")),o.a.createElement($i,{label:"Do you want to change settings for when you login on any device or a specific device? The device specific settings will override any global settings.",key:"onDevice",name:"onDevice",defaultValue:""},o.a.createElement("option",{value:""},"Any device (default)"),o.a.createElement("option",{value:"this"},"This device")),o.a.createElement($i,{multiple:!0,label:"Select apps to auto-open when you log in (you can choose how they are expanded and placed in the settings for each app).",key:"openApps-".concat(c),defaultValue:(s.openApps||[""]).map(e=>e.value?e.value.type:""),name:"openApps"},o.a.createElement("option",{value:""},"No app"),o.a.createElement("option",{value:me.CHAT},"Chat"),o.a.createElement("option",{value:me.WALLET},"Wallet"),o.a.createElement("option",{value:me.WORLDMAP},"Map"),o.a.createElement("option",{value:me.DOCFILEDIR},"Files"),o.a.createElement("option",{value:me.NEWS},"News")),o.a.createElement(eo,{label:"Automatically maximize windows?",key:"alwaysMaximized-".concat(c),type:"checkbox",name:"alwaysMaximized",checked:s.alwaysMaximized}),o.a.createElement(eo,{label:"Minimize main menu?",key:"hideMenuBar-".concat(c),type:"checkbox",name:"hideMenuBar",checked:s.hideMenuBar}),o.a.createElement(eo,{label:"Hide top row in windows? (Windows will be auto-maximized)",key:"hideTopBar-".concat(c),type:"checkbox",name:"hideTopBar",checked:s.hideTopBar}),o.a.createElement(eo,{label:"Hide help buttons?",key:"hideHelp-".concat(c),type:"checkbox",name:"hideHelp",checked:s.hideHelp}),o.a.createElement(eo,{label:"Keep the app menu compact? (The menu will stay at the top in wider windows)",key:"alwaysCompactMenu-".concat(c),type:"checkbox",name:"alwaysCompactMenu",checked:s.alwaysCompactMenu}))))});const qs=e=>{let{docFileId:t,id:a,index:n,code:l}=e;const[c,s]=Object(r.useState)(),d=Object(i.c)(e=>Oa(e,{id:t})),m=Object(Rr.b)(),u=function(){let{code:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};cs({docFileId:t,code:e}).then(()=>{Object(i.b)(()=>{fe.dispatch(Te({windows:[{id:me.DOCFILEVIEW,value:{type:me.DOCFILEVIEW,docFileId:t}}]})),fe.dispatch(Se({id:a}))})}).catch(e=>{const t={...e};console.log(e),"not allowed"===e.type&&(t.message="Incorrect code"),s(t)})};return o.a.createElement(Ji,{id:a,error:c,index:n,className:"UnlockDocFileDialog",onClick:()=>{fe.dispatch(Te({windows:[{id:a,value:{type:me.DIALOGUNLOCKFILE,docFileId:t}}]}))},done:()=>fe.dispatch(Se({id:a})),title:"Unlock file ".concat(d.title),buttons:[o.a.createElement(g,{stopPropagation:!0,key:"submit",type:"submit",onClick:()=>m.handleSubmit(u)()},o.a.createElement(Us,null),o.a.createElement("span",null,"Unlock"))]},o.a.createElement(Rr.a,m,o.a.createElement("form",{onSubmit:m.handleSubmit(u)},o.a.createElement(jr,{label:o.a.createElement("span",null,"You are: ")}),o.a.createElement("div",null,o.a.createElement("p",null,"The file is locked."),o.a.createElement("p",null,"Enter the code to continue:")),o.a.createElement(eo,{required:!0,label:"Code",defaultValue:l,name:"code",type:"text",placeholder:"Code"}))))};var Js=o.a.memo(qs);qs.defaultProps={code:void 0};const Ks=e=>{let{id:t,index:a,windowType:n,inputs:l=[]}=e;const c=Object(i.c)(pt),s=Object(Rr.b)(),[d,m]=Object(r.useState)(),{systemConfig:u={[n]:{}}}=c,p=e=>{let{expand:a,hideTopBar:l}=e;wa({userId:c.objectId,user:{systemConfig:{...u,[n]:{...u[n],expand:a,hideTopBar:l}}}}).then(()=>fe.dispatch(Se({id:t}))).catch(e=>console.log(e))},h=window.innerWidth>window.innerHeight,E=window.innerHeight<450,f=window.innerWidth<450;return o.a.createElement(Ji,{id:t,index:a,className:"SettingsAppDialog configDialog",onClick:()=>{fe.dispatch(Te({windows:[{id:t,value:{type:"".concat(me.DIALOGAPPSETTINGS,"-").concat(n)}}]}))},done:()=>fe.dispatch(Se({id:t})),error:d,title:o.a.createElement(o.a.Fragment,null,o.a.createElement(en,null),o.a.createElement("span",null,n)),buttons:[o.a.createElement(g,{key:"submit",type:"submit",onClick:()=>s.handleSubmit(p)()},"Update")]},o.a.createElement(Rr.a,s,o.a.createElement("form",{onSubmit:s.handleSubmit(p)},o.a.createElement(eo,{label:"Hide top row? (Window will be auto-maximized. You can close and change settings for the window in its menu)?",type:"checkbox",name:"hideTopBar",checked:u.hideTopBar}),o.a.createElement($i,{label:"Automatically expand and place window?",defaultValue:u[n].expand,name:"expand"},o.a.createElement("option",{value:""},"No"),o.a.createElement("option",{value:"maximize"},"Maximize"),h&&o.a.createElement(o.a.Fragment,null,o.a.createElement("option",{value:"left"},"Left half"),o.a.createElement("option",{value:"right"},"Right half")),!h&&o.a.createElement(o.a.Fragment,null,o.a.createElement("option",{value:"upper"},"Upper half"),o.a.createElement("option",{value:"lower"},"Lower half")),!E&&!f&&o.a.createElement(o.a.Fragment,null,o.a.createElement("option",{value:"upperLeft"},"Upper left corner"),o.a.createElement("option",{value:"upperRight"},"Upper right corner"),o.a.createElement("option",{value:"lowerLeft"},"Lower left corner"),o.a.createElement("option",{value:"lowerRight"},"Lower right corner"))),l.map(e=>{let{element:t}=e;return{element:t}}))))};var Xs=o.a.memo(Ks);Ks.defaultProps={inputs:[]};var Zs,Qs,$s=o.a.memo(e=>{let{id:t,index:a}=e;return o.a.createElement(Xs,{windowType:me.NEWS,id:t,index:a})});function _s(){return(_s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ed=e=>{let{svgRef:t,title:a,...n}=e;return o.a.createElement("svg",_s({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-map-pin",ref:t},n),a?o.a.createElement("title",null,a):null,Zs||(Zs=o.a.createElement("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"})),Qs||(Qs=o.a.createElement("circle",{cx:12,cy:10,r:3})))},td=o.a.forwardRef((e,t)=>o.a.createElement(ed,_s({svgRef:t},e)));a.p,a(84);const ad=e=>{let{id:t,index:a,identityId:n,edit:l=!1}=e;const c=Object(Rr.b)(),s=Object(i.c)(ct),[d,m]=Object(r.useState)(l),u=Object(i.c)(We),p=Object(i.c)(Tt),h=Object(i.c)(Et),E=Object(i.c)(e=>Ct(e,{id:n||u})),f=Object(i.c)(e=>dt(e,{ids:E.partOfTeams})),y=Object(i.c)(e=>((e,t)=>{let{id:a}=t;return e.positions.get(a)})(e,{id:n||u})),b=Object(i.c)(_e),v=Object(i.c)(et),w=Object(r.useCallback)(()=>{fe.dispatch(Te({windows:[{id:t,value:{type:me.DIALOGPROFILE,identityId:n}}]}))},[t]),O=Object(r.useCallback)(()=>fe.dispatch(Se({id:t})),[t]),I=e=>{let{name:t,pronouns:a,image:l,description:r,status:o,occupation:c,accessLevel:i}=e;const s=!l||E.image&&l.source==="/upload/images/".concat(E.image.fileName)?void 0:l;if(E.aliasName){return void(async e=>{let{aliasId:t,alias:a,image:n,resetImage:l}=e;const r=await ba(ua,{aliasId:t,alias:a,image:n,options:{resetImage:l}});return console.log(r),await fe.dispatch(qt({aliases:[r.alias]})),r})({alias:{pronouns:a,status:o,occupation:c,description:r?r.split("\n"):void 0,aliasName:t!==E.aliasName?t:void 0},resetImage:!l&&E.image,image:s,aliasId:n||u}).then(()=>m(!1)).catch(e=>console.log(e))}const d={pronouns:a,status:o,occupation:c,accessLevel:i&&Number(i)!==E.accessLevel?Number(i):void 0,description:r?r.split("\n"):void 0,username:t!==E.username?t:void 0};wa({user:d,resetImage:!l&&E.image,image:s,userId:n||u}).then(()=>m(!1)).catch(e=>console.log(e))},k=Object(r.useCallback)(()=>{Object(i.b)(()=>{fe.dispatch(Te({windows:[{id:me.WORLDMAP,value:{type:me.WORLDMAP,positionId:u}}]})),fe.dispatch(Se({id:t}))})},[t]),j=Object(r.useCallback)(()=>Object(i.b)(()=>{fe.dispatch(Te({windows:[{id:"".concat(me.DIALOGCREATETRANSACTION,"-").concat(n),value:{type:me.DIALOGCREATETRANSACTION,toWalletId:n}}]})),fe.dispatch(Se({id:t}))}),[n,t]),C=Object(r.useCallback)(()=>{const e=Ic(fe.getState(),{identityId:n,currentIdentityId:u});Object(i.b)(()=>{fe.dispatch(Te({windows:[{id:me.CHAT,value:{type:me.CHAT,roomId:e.objectId}}]})),fe.dispatch(Se({id:t}))})},[n,u,t]),N=[];return!d&&(!s||h>=D.ADMIN)&&(!n||h>=D.ADMIN||p.find(e=>e.objectId===n))&&N.push(o.a.createElement(g,{stopPropagation:!0,key:"edit",type:"button",onClick:()=>m(!0)},n&&o.a.createElement(cc,null),!n&&o.a.createElement(Ui,null),"Edit")),"-1"!==u&&n&&n!==u&&!d&&N.push(o.a.createElement(g,{stopPropagation:!0,key:"transfer",type:"button",onClick:j},o.a.createElement(Dn,null)),o.a.createElement(g,{stopPropagation:!0,key:"whisper",type:"button",onClick:C},o.a.createElement(On,null))),d&&(h>=D.MODERATOR&&(E.isBanned?N.push(o.a.createElement(g,{stopPropagation:!0,key:"unban",type:"button",onClick:()=>{}},"Unban")):N.push(o.a.createElement(g,{stopPropagation:!0,key:"ban",type:"button",onClick:()=>{}},"Ban"))),N.push(o.a.createElement(g,{stopPropagation:!0,key:"update",type:"submit",onClick:()=>c.handleSubmit(I)()},"Update"))),o.a.createElement(Ji,{className:"ProfileDialog",id:t,index:a,title:"Profile: ".concat(E.aliasName||E.username),onClick:w,done:O,buttons:N},!d&&o.a.createElement(o.a.Fragment,null,!n&&o.a.createElement(jr,{label:o.a.createElement("span",null,"You are:")}),E.image&&o.a.createElement(zr,{scrollTo:!0,image:"/upload/images/".concat(E.image.thumbFileName),altText:"pic",width:E.image.thumbWidth,height:E.image.thumbHeight,fullImage:"/upload/images/".concat(E.image.fileName),fullWidth:E.image.width,fullHeight:E.image.height}),o.a.createElement("div",null,o.a.createElement("p",null,"Name"),o.a.createElement("p",null,E.aliasName||E.username)),h>=D.MODERATOR&&o.a.createElement("div",null,o.a.createElement("p",null,"Access level"),o.a.createElement("p",null,Object.keys(D).find(e=>D[e]===E.accessLevel))),E.status&&o.a.createElement("div",null,o.a.createElement("p",null,"Status"),o.a.createElement("p",null,E.status)),o.a.createElement("div",null,o.a.createElement("p",null,"Pronouns"),o.a.createElement("p",null,E.pronouns.map(e=>_i[e]).join(", "))),f.size>0&&o.a.createElement("div",null,o.a.createElement("p",null,"Affiliations"),o.a.createElement("p",null,[...f.values()].map(e=>e.teamName).join(", "))),E.occupation&&o.a.createElement("div",null,o.a.createElement("p",null,"Occupation"),o.a.createElement("p",null,E.occupation)),b&&y&&y.coordinatesHistory[0]&&o.a.createElement("div",null,o.a.createElement("p",null,"Last known position"),o.a.createElement(g,{onClick:k},o.a.createElement(td,null),"Track")),E.description&&E.description.length>0&&o.a.createElement("div",null,o.a.createElement("p",null,"Description"),o.a.createElement("div",{className:"description"},E.description.map((e,t)=>o.a.createElement("p",{key:t},e))))),d&&o.a.createElement(Rr.a,c,o.a.createElement("form",{onSubmit:c.handleSubmit(I)},!n&&o.a.createElement(jr,{label:o.a.createElement("span",null,"You are:")}),o.a.createElement(mi,{croppable:!0,label:"Upload profile image",image:E.image?{source:"/upload/images/".concat(E.image.fileName)}:void 0}),o.a.createElement(eo,{required:!0,label:"Name",name:"name",maxLength:30,placeholder:"Name",type:"text",defaultValue:E.aliasName||E.username}),h>=D.ADMIN&&!E.aliasName&&o.a.createElement($i,{label:"Access level",key:"accessLevel",name:"accessLevel",defaultValue:E.accessLevel},Object.keys(D).filter(e=>D[e]>=D.STANDARD&&D[e]<=h).map(e=>o.a.createElement("option",{key:e,value:D[e]},e))),o.a.createElement(ts,{preselected:E.pronouns}),h>=v.UpdateUserStatus.accessLevel&&o.a.createElement(eo,{label:"Status",name:"status",placeholder:"Status",type:"text",defaultValue:E.status}),h>=v.UpdateUserOccupation.accessLevel&&o.a.createElement(eo,{label:"Occupation",name:"occupation",placeholder:"Occupation",type:"text",defaultValue:E.occupation}),o.a.createElement(gi,{label:"Description",name:"description",placeholder:"Description",maxLength:300}))))};var nd=o.a.memo(ad);ad.defaultProps={identityId:void 0,edit:!1};a(85);var ld=o.a.memo(e=>{let{docFileId:t}=e;const a=Object(i.c)(e=>Oa(e,{id:t})),n=Object(i.c)(e=>xt(e,{id:a.ownerAliasId||a.ownerId}));return a.isLocked?o.a.createElement("div",{className:"DocFileViewer"},o.a.createElement("div",null,"This file is locked.",o.a.createElement(g,{onClick:()=>{Object(i.b)(()=>{fe.dispatch(Te({windows:[{id:"".concat(me.DIALOGUNLOCKFILE,"-").concat(t),value:{docFileId:t,type:me.DIALOGUNLOCKFILE}}]})),fe.dispatch(Se({id:"".concat(me.DOCFILEVIEW,"-").concat(t)}))})}},"Unlock?"))):o.a.createElement("div",{className:"DocFileViewer"},o.a.createElement("h1",{className:"title"},a.title),o.a.createElement("div",{className:"info"},o.a.createElement("p",{className:"author"},"Author: ".concat(n.teamName||n.aliasName||n.username)),o.a.createElement("p",{className:"code"},"Code: ".concat(a.code)),o.a.createElement("p",{className:"public"},"Public: ".concat(a.isPublic?"Yes":"No")),a.tags&&a.tags.length>0&&o.a.createElement("p",null,a.tags.join(", "))),a.images&&a.images.length>0&&o.a.createElement("div",{className:"images"},a.images.map(e=>o.a.createElement(zr,{scrollTo:!0,key:e.thumbFileName,image:"/upload/images/".concat(e.thumbFileName),altText:"pic",width:e.thumbWidth,height:e.thumbHeight,fullImage:"/upload/images/".concat(e.fileName),fullWidth:e.width,fullHeight:e.height}))),o.a.createElement("div",{className:"text"},a.text.join("\n")))});const rd=e=>{let{id:t,docFileId:a,index:n}=e;const l=Object(i.c)(e=>Oa(e,{id:a})),c=Object(r.useCallback)(()=>{fe.dispatch(Te({windows:[{id:t,value:{type:me.DOCFILEVIEW,docFileId:a}}]}))},[]),s=Object(r.useCallback)(()=>fe.dispatch(Se({id:t})),[t]),d=Object(r.useCallback)(()=>fe.dispatch(Te({windows:[{id:me.DIALOGCREATEDOCFILE,value:{type:me.DIALOGCREATEDOCFILE}}]})));return o.a.createElement(vo,{id:t,index:n,done:s,className:"DocFileView",title:"".concat(l?"File: ".concat(l.title):"Files"),onClick:c,menu:o.a.createElement(o.a.Fragment,null,o.a.createElement(So,{id:t},o.a.createElement(Ba,{stopPropagation:!0,onClick:d,key:"createDocFile"},"New document")))},o.a.createElement(ld,{key:"viewer",docFileId:a}))};var od=o.a.memo(rd);rd.defaultProps={docFileId:void 0};a(86);var cd=o.a.memo(()=>{const e=Object(i.c)(bt),t=Object(i.c)(Gl),a=[];return Object(r.useEffect)(()=>{e.openApps&&e.openApps.length>0&&fe.dispatch(Te({windows:e.openApps.map(e=>{let{id:t,value:a}=e;return{id:t,value:a}})}))},[e.openApps]),t.forEach((e,t)=>{const{type:n}=e;switch(n){case me.CHAT:a.push(o.a.createElement(Yi,{key:t,id:t,roomId:e.roomId,messageId:e.messageId,password:e.password,index:e.index}));break;case me.WALLET:a.push(o.a.createElement(dc,{key:t,id:t,index:e.index}));break;case me.WORLDMAP:break;case me.DOCFILEDIR:a.push(o.a.createElement(ys,{key:t,id:t,index:e.index}));break;case me.DOCFILEVIEW:a.push(o.a.createElement(od,{key:t,id:t,index:e.index,docFileId:e.docFileId,code:e.code}));break;case me.NEWS:a.push(o.a.createElement(Ps,{key:t,id:t,messageId:e.messageId,index:e.index}));break;case me.IDENTITIES:a.push(o.a.createElement(ko,{key:t,id:t,index:e.index}));break;case me.DIALOGCREATEROOM:a.push(o.a.createElement(Ki,{key:t,id:t,index:e.index}));break;case me.DIALOGLOGIN:a.push(o.a.createElement(Zi,{key:t,id:t,index:e.index}));break;case me.DIALOGREGISTER:a.push(o.a.createElement(as,{key:t,id:t,index:e.index}));break;case me.DIALOGREMOVEROOM:a.push(o.a.createElement(Xi,{key:t,id:t,roomId:e.roomId,index:e.index}));break;case me.DIALOGCREATEALIAS:a.push(o.a.createElement(ls,{key:t,id:t,index:e.index}));break;case me.DIALOGCREATETRANSACTION:a.push(o.a.createElement(os,{key:t,id:t,toWalletId:e.toWalletId,index:e.index,amount:e.amount}));break;case me.DIALOGCREATEDOCFILE:a.push(o.a.createElement(ws,{key:t,id:t,index:e.index}));break;case me.DIALOGCREATENEWS:a.push(o.a.createElement(Gs,{key:t,id:t,index:e.index}));break;case me.DIALOGJOINROOM:a.push(o.a.createElement(zs,{key:t,id:t,roomId:e.roomId,index:e.index,messageId:e.messsageId,password:e.password}));break;case me.DIALOGCONFIGSYSTEM:a.push(o.a.createElement(Ys,{key:t,id:t,index:e.index}));break;case"".concat(me.DIALOGAPPSETTINGS,"-").concat(me.NEWS):a.push(o.a.createElement($s,{key:t,id:t,index:e.index}));break;case me.DIALOGPROFILE:a.push(o.a.createElement(nd,{key:t,id:t,index:e.index,identityId:e.identityId,edit:e.edit}));break;case me.DIALOGUNLOCKFILE:a.push(o.a.createElement(Js,{key:t,id:t,index:e.index,docFileId:e.docFileId,code:e.code,auto:e.auto}));break;default:console.error("Unknown window type",n)}}),o.a.createElement("div",{key:"mainWindow",id:"MainWindow"},o.a.createElement(Ns,null),a)});var id=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.StrictMode,null,o.a.createElement(Ar,null),o.a.createElement(cd,null)))};a(87);const sd=a(88);Object(s.a)(),sd.ElementQueries.listen(),document.body.addEventListener("click",()=>{!document.fullscreenElement&&document.documentElement.requestFullscreen&&document.documentElement.requestFullscreen()}),Object(c.render)(o.a.createElement(i.a,{store:fe},o.a.createElement(id,null)),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.24e91ddd.chunk.js.map