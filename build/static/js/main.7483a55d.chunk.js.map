{"version":3,"sources":["library/icons/clock.svg","library/components/common/sub-components/Button/Button.jsx","library/TextTools.js","library/components/MenuBar/sub-components/Clock/Clock.jsx","library/icons/arrow-up-circle.svg","library/icons/arrow-down-circle.svg","library/components/common/lists/List/List.jsx","library/AccessCentral.js","library/redux/actionTypes.js","library/redux/reducers/root.js","library/redux/reducers/messages.js","library/redux/reducers/online.js","library/redux/reducers/config.js","library/redux/reducers/windowOrder.js","library/redux/reducers/mode.js","library/redux/reducers/interfaceConfig.js","library/redux/reducers/index.js","library/redux/reducers/users.js","library/redux/reducers/aliases.js","library/redux/reducers/rooms.js","library/redux/reducers/userId.js","library/redux/reducers/positions.js","library/redux/reducers/transactions.js","library/redux/reducers/wallets.js","library/redux/reducers/aliasId.js","library/redux/reducers/teams.js","library/redux/reducers/docFiles.js","library/redux/reducers/devices.js","library/redux/store.js","library/Converters.js","library/StorageManager.js","library/redux/selectors/mode.js","library/redux/actions/mode.js","library/redux/actions/windowOrder.js","library/redux/selectors/online.js","library/redux/actions/online.js","library/redux/selectors/aliasId.js","library/redux/selectors/userId.js","library/redux/actions/wallets.js","library/redux/actions/transactions.js","library/redux/actions/messages.js","library/redux/selectors/aliases.js","library/redux/selectors/config.js","library/redux/selectors/teams.js","library/redux/selectors/users.js","library/socket/listeners/messages.js","library/redux/actions/users.js","library/redux/actions/forums.js","library/redux/actions/gameCodes.js","library/redux/actions/rooms.js","library/socket/listeners/rooms.js","library/socket/listeners/users.js","library/redux/actions/aliasId.js","library/redux/actions/aliases.js","library/socket/listeners/aliases.js","library/socket/listeners/wallets.js","library/socket/listeners/transactions.js","library/redux/actions/docFiles.js","library/socket/listeners/docFiles.js","library/socket/SocketManager.js","library/redux/actions/devices.js","library/socket/actions/users.js","library/redux/selectors/docFiles.js","library/Messenger.js","library/redux/actions/auth.js","library/socket/actions/auth.js","library/components/common/lists/List/Item/ListItem.jsx","library/icons/menu.svg","library/icons/log-out.svg","library/icons/settings.svg","library/icons/user.svg","library/icons/log-in.svg","library/icons/plus.svg","library/components/MenuBar/lists/MainList/MainList.jsx","library/icons/chat.svg","library/icons/map.svg","library/icons/wallet.svg","library/icons/file.svg","library/icons/files.svg","library/icons/news.svg","library/icons/layers.svg","library/icons/apps.svg","library/icons/users.svg","library/icons/team.svg","library/icons/terminal.svg","library/icons/heart.svg","library/icons/wrecking.svg","library/redux/selectors/windowOrder.js","library/components/MenuBar/lists/OpenApps/OpenApps.jsx","library/icons/help.svg","library/icons/chevron-left.svg","library/icons/chevron-right.svg","library/icons/grid.svg","library/icons/qr-code.svg","library/redux/selectors/interfaceConfig.js","library/redux/actions/interfaceConfig.js","library/components/common/lists/IdentityPicker/IdentityPicker.jsx","library/components/MenuBar/MenuBar.jsx","library/icons/maximize.svg","library/icons/minimize.svg","library/components/common/sub-components/Image/Image.jsx","library/icons/square.svg","library/components/common/lists/IdentityList/Item/IdentityItem.jsx","library/components/common/sub-components/Input/Input.jsx","library/icons/delete.svg","library/components/common/lists/List/Search/SearchItem.jsx","library/components/common/lists/IdentityList/IdentityList.jsx","library/icons/move.svg","library/icons/close.svg","library/components/common/Window/TopBar/TopBar.jsx","library/components/common/sub-components/Help/Help.jsx","library/components/common/Window/Window.jsx","library/components/Identities/Identities.jsx","library/icons/wallets.svg","library/icons/minimize-close.svg","library/components/common/lists/FileMenu/FileMenu.jsx","library/redux/selectors/transactions.js","library/icons/cpu.svg","library/components/Wallet/lists/Transaction/Item/TransactionItem.jsx","library/components/Wallet/lists/Transaction/TransactionList.jsx","library/redux/selectors/wallets.js","library/components/Wallet/lists/Wallet/Item/WalletItem.jsx","library/components/Wallet/lists/Wallet/WalletList.jsx","library/icons/admin.svg","library/components/Wallet/lists/AdminWallet/AdminWalletList.jsx","library/components/Wallet/views/Amount/Amount.jsx","library/components/Wallet/Wallet.jsx","library/components/WorldMap/views/MapView.jsx","library/redux/selectors/positions.js","library/components/WorldMap/lists/Position/PositionList.jsx","library/components/WorldMap/views/Positions.jsx","library/components/WorldMap/WorldMap.jsx","library/redux/selectors/rooms.js","library/icons/lock.svg","library/components/Chat/lists/Room/Item/RoomItem.jsx","library/components/Chat/lists/Room/RoomList.jsx","library/icons/eye.svg","library/socket/actions/messages.js","library/socket/actions/rooms.js","library/components/Chat/lists/Whisper/Item/WhisperItem.jsx","library/components/Chat/lists/Whisper/WhisperList.jsx","library/components/Chat/lists/Following/Item/FollowingItem.jsx","library/components/Chat/lists/Following/FollowingList.jsx","library/components/Chat/lists/AdminWhisper/AdminWhisperList.jsx","library/icons/edit.svg","library/components/Chat/views/Rooms.jsx","library/icons/image.svg","library/components/common/sub-components/ImageUpload/ImageUpload.jsx","library/components/common/sub-components/Textarea/Textarea.jsx","library/icons/cloud-off.svg","library/icons/send.svg","library/components/Chat/sub-components/InputArea/InputArea.jsx","library/redux/selectors/messages.js","library/components/Chat/lists/Message/Item/MessageInfo/MessageInfo.jsx","library/components/Chat/lists/Message/Item/MessageItem.jsx","library/components/Chat/lists/Message/MessageList.jsx","library/components/Chat/views/Messages/Messages.jsx","library/icons/tool.svg","library/components/Chat/lists/FileMenu/ChatFileMenu.jsx","library/components/Chat/Chat.jsx","library/components/common/dialogs/Dialog/Dialog.jsx","library/components/Chat/dialogs/CreateRoomDialog.jsx","library/components/Chat/dialogs/RemoveRoomDialog.jsx","library/components/common/dialogs/LoginDialog.jsx","library/components/common/sub-components/selects/Select/Select.jsx","library/components/common/sub-components/selects/PronounsSelect.jsx","library/components/common/dialogs/RegisterDialog.jsx","library/socket/actions/aliases.js","library/components/common/dialogs/CreateAliasDialog.jsx","library/socket/actions/transactions.js","library/components/common/dialogs/CreateTransactionDialog.jsx","library/socket/actions/docFiles.js","library/components/DocFiles/lists/DocFile/Item/DocFileItem.jsx","library/icons/chevron-down.svg","library/components/DocFiles/lists/DocFile/DocFileList.jsx","library/components/DocFiles/lists/FileMenu/DocFileFileMenu.jsx","library/components/DocFiles/DocFileDir.jsx","library/components/DocFiles/dialogs/CreateDocFile/CreateDocFileDialog.jsx","library/icons/arrow-right.svg","library/components/MainWindow/Dashboard/Item/NewsItem.jsx","library/components/MainWindow/Dashboard/Dashboard.jsx","library/icons/chevron-up.svg","library/components/News/lists/News/item/NewsItem.jsx","library/components/News/lists/News/NewsList.jsx","library/components/News/News.jsx","library/components/News/dialogs/CreateNewsDialog.jsx","library/icons/unlock.svg","library/components/Chat/dialogs/JoinRoomDialog.jsx","library/components/common/dialogs/ConfigSystem/ConfigSystemDialog.jsx","library/components/DocFiles/dialogs/UnlockDocFileDialog.jsx","library/components/common/dialogs/SettingsApp/SettingsAppDialog.jsx","library/components/News/dialogs/SettingsNewsDialog.jsx","library/icons/pin.svg","library/components/common/dialogs/Profile/ProfileDialog.jsx","library/components/DocFiles/Viewer/DocFileViewer.jsx","library/components/DocFiles/DocFileView.jsx","library/components/MainWindow/MainWindow.jsx","App.jsx","index.jsx"],"names":["_circle","_polyline","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgClock","_ref","svgRef","title","props","createElement","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","className","ref","cx","cy","r","points","ForwardRef","forwardRef","Button","React","onClick","children","disabled","stopPropagation","type","concat","event","memo","propTypes","func","isRequired","node","oneOf","bool","string","defaultProps","undefined","beautifyNumber","number","getTimestamp","date","offset","lockDate","yearModification","dayModification","newDate","Date","timestamp","setHours","getHours","Number","isNaN","setFullYear","getFullYear","parseInt","setDate","getDate","mins","getMinutes","hours","seconds","getSeconds","month","getMonth","day","year","halfTime","fullTime","halfDate","fullDate","fullStamp","Clock","alwaysShow","timeoutRef","useRef","useState","showTime","setShowTime","updateTime","current","setTimeout","useEffect","clearTimeout","useCallback","ClockSvg","_line","SvgArrowUpCircle","x1","y1","x2","y2","SvgArrowDownCircle","List","wideTitle","observe","startRevealed","alwaysExpanded","checkWidth","dropdown","observer","observeHelper","listRef","windowRef","hidden","setHidden","listClasses","classes","offsetWidth","tagName","parentElement","contains","currentTarget","scroll","_ref2","direction","lastElementChild","scrollIntoView","behavior","block","firstElementChild","bounds","getBoundingClientRect","right","window","innerWidth","classList","add","remove","bottom","innerHeight","IntersectionObserver","entries","forEach","entry","isIntersecting","root","rootMargin","threshold","disconnect","document","removeEventListener","addEventListener","push","join","role","tabIndex","ArrowUp","element","closest","ArrowDown","AccessLevels","ANONYMOUS","STANDARD","PRIVILEGED","MODERATOR","ADMIN","SUPERUSER","GOD","hasAccessTo","objectToAccess","toAuth","adminLevel","canSee","hasFullAccess","hasAccess","ownerId","ownerAliasId","teamId","isPublic","visibility","teamIds","userIds","userAdminIds","teamAdminIds","partOfTeams","accessLevel","objectId","authUserId","authTeamIds","aliases","foundOwnerAlias","includes","partOfTeam","userHasAccess","teamHasAccess","find","id","aliasHasAccess","aliasId","userHasAdminAccess","aliasHasAdminAccess","teamHasAdminAccess","adminId","isAdmin","adminAccess","ALIASES","DEVICES","DOCFILES","FORUMS","FORUMPOSTS","FORUMTHREADS","GAMECODES","INVITATIONS","MESSAGES","ROOMS","SIMPLEMSGS","TEAMS","TRANSACTIONS","USERS","WALLETS","ChangeTypes","rootReducerSingle","state","action","newState","Map","payload","changeType","object","set","existing","get","updated","has","delete","rootReducerMultiple","reset","objects","MessageType","Status","defaultState","longitude","latitude","CHAT","PROFILE","DOCFILE","CreateAlias","name","CreateUser","followingRooms","isAnonymous","systemConfig","hasSeen","username","WindowTypes","WALLET","WORLDMAP","DOCFILEDIR","DOCFILEVIEW","NEWS","IDENTITIES","DIALOGIDENTITY","DIALOGCREATEROOM","DIALOGREMOVEROOM","DIALOGREGISTER","DIALOGLOGIN","DIALOGCREATEALIAS","DIALOGCREATETRANSACTION","DIALOGCREATEDOCFILE","DIALOGCREATENEWS","DIALOGJOINROOM","DIALOGCONFIGSYSTEM","DIALOGPROFILE","DIALOGUNLOCKFILE","DIALOGAPPSETTINGS","Modes","initialState","mode","hideMenu","combineReducers","users","messages","online","rooms","userId","positions","transactions","wallets","config","keyValue","windowOrder","value","size","index","keys","every","windowValue","sorted","sort","a","b","valueA","valueB","splice","findIndex","entryValue","newValue","windows","_ref3","teams","docFiles","interfaceConfig","toggleHideMenu","devices","createStore","rootReducer","applyMiddleware","thunk","StorageType","setLocalValue","localStorage","setItem","JSON","stringify","stringifyObject","getLocalValue","getItem","removeLocalValue","removeItem","removeAliasId","resetUser","getDeviceId","getToken","getMode","changeMode","changeTarget","changeWindowOrder","dispatch","batch","store","getState","removeWindow","isOnline","getAliasId","getUserId","getCurrentIdentityId","updateWallets","wallet","createWallets","createTransactions","transaction","doTransaction","createMessages","message","getAllAliases","getAliasById","getRequireOffName","getPublicRoomId","getAllowedImages","getGpsTracking","getPermissions","getNewsRoomId","getNewsCost","getOnlySeen","getAllowPartialSearch","getYearModification","getDayModification","getDisallowProfileEdit","getAllTeams","getTeamById","getTeamsByIds","createCachedSelector","values","map","team","teamName","shortName","_","ids","foundTeams","getAllUsers","getUserById","getCurrentUser","user","anonymous","getIsAnonymous","getCurrentUserRooms","keySelector","selectorCreator","createSelectorCreator","defaultMemoize","roomId","getCurrentAccessLevel","createSelector","getCurrentHasSeen","seen","getCurrentPartOfTeams","getSystemConfig","deviceId","getHideTopBar","hideTopBar","getAlwaysMaximized","alwaysMaximized","getAlwaysCompactMenu","alwaysCompactMenu","getIdentities","getIdentitiesByIds","getIdentitiesOrTeamsByIds","_ref4","_ref5","getIdentityById","alias","_ref6","getIdentityImage","identity","image","_ref7","getIdentityOrTeamName","_ref8","systemUser","getSystemUser","aliasName","systemName","_ref9","getIdentityOrTeamById","_ref10","getOtherIdentities","identities","filter","otherIdentity","getCurrentUserIdentities","getCurrentUserIdentitiesNames","aIdentity","events","updateUsers","createUsers","createNewUser","room","forum","gameCode","async","createRooms","forums","createForums","gameCodes","createGameCodes","updateRooms","removeRooms","followRoom","changeAliasId","updateAliases","createAliases","updateDocFiles","docFile","createDocFiles","socket","socketUri","ioUri","io","forceNew","SendEvents","GetEvents","ActionEvents","ListenerEvents","addSocketListener","callback","on","params","console","log","reconnect","connect","emitSocketEvent","Promise","resolve","reject","paramsToSend","token","getStoredToken","emit","error","data","retrieveAll","getter","then","result","catch","logoutAction","device","firstStartup","createDevices","loginAction","sender","some","updateUser","updateError","sentRoom","isWhisper","spyMode","currentUser","sentUser","sentAlias","sentWallet","sentTransaction","updateTransactions","sentDocFile","resetImage","options","getDocFileById","getDocFilesForList","isLocked","MessageTypes","postMessage","ReactNativeWebView","onMessageListener","parse","alert","onNotification","windowType","onWindow","pushToken","onPushToken","onMessage","ri","rp","password","mi","messageId","wi","toWalletId","amount","m","di","docFileId","c","code","ti","ii","identityId","newsRoomId","onQr","nativeEvent","login","setUserId","logout","ListItem","elementId","scrollTo","itemRef","useLayoutEffect","click","_line2","_line3","SvgMenu","_path","SvgLogOut","d","SvgSettings","SvgUser","SvgLogIn","SvgPlus","MainList","useSelector","permissions","items","Plus","LogIn","User","Settings","LogOut","Menu","SvgChat","_polygon","SvgMap","_path2","_path3","SvgWallet","_polyline2","SvgFile","SvgFiles","SvgNews","SvgLayers","_rect","_rect2","_rect3","_rect4","SvgApps","x","y","SvgUsers","SvgTeam","SvgTerminal","SvgWrecking","getOrder","OpenApps","order","otherWindows","changeOrder","icon","File","Layers","Apps","Chat","News","Files","Wallet","Users","Team","Terminal","Wrecking","SvgHelp","SvgChevronLeft","SvgChevronRight","SvgGrid","_path4","_path5","_path6","_path7","_path8","SvgQrCode","getHideMenu","changeInterfaceConfig","IdentityPicker","useIcon","hideOnSingle","label","currentIdentity","Fragment","MenuBar","hideMenuBar","onHelp","ChevronLeft","QR","hideHelp","Help","Grid","ClockIcon","ChevronRight","SvgMaximize","SvgMinimize","Image","onRemove","altText","fullImage","fullWidth","fullHeight","containerRef","showFull","setShowFull","Minimize","Maximize","src","alt","SvgSquare","rx","ry","IdentityItem","onClickCall","thumbFileName","Square","Input","onChange","shouldEqual","maxLength","minLength","checked","defaultValue","required","placeholder","register","getValues","unregister","useFormContext","hasFocus","setHasFocus","isEmpty","setIsEmpty","defaultChecked","validate","onFocus","onBlur","SvgDelete","SearchItem","onSubmit","formMethods","FormProvider","handleSubmit","Delete","IdentityList","hideTitle","useForm","partialName","useWatch","control","onlySeen","allowPartialSearch","userItems","filtered","toLowerCase","SvgClose","TopBar","onDoubleClick","menu","maximized","isWide","onClose","Close","Window","done","help","resizeRef","useResizeDetector","rndRef","defaultSize","setSize","coordinates","setCoordinates","style","zIndex","maximize","onOrientationChange","windowStyle","resizableElement","rndBounds","mainBounds","orientation","screen","angle","left","top","Rnd","position","minWidth","minHeight","maxWidth","maxHeight","dragHandleClassName","enableResizing","bottomRight","bottomLeft","resizeHandleStyles","onDragStart","onDragStop","newX","newY","up","down","offsetHeight","smallHeight","smallWidth","windowBounds","wider","onResizeStart","onResizeStop","onDone","SvgWallets","SvgMinimizeClose","FileMenu","onSettings","menuIcon","MinClose","getTransactionIdsByWallets","walletIds","fromWalletId","isSender","reverse","_line4","_line5","_line6","_line7","_line8","SvgCpu","Icons","system","System","transactionId","singleWallet","getTransactionById","fromName","fromType","toName","toType","customTimeCreated","timeCreated","otherType","note","TransactionItem","getAllWallets","getWalletById","getWalletIds","getWalletIdsByCurrentUser","WalletItem","walletId","SvgAdmin","Admin","currentUserId","isNegative","setWalletId","currentWalletIds","newWalletId","WalletIcon","Wallets","WalletList","AdminWalletList","TransactionList","Amount","MapView","setMap","mapRef","createMap","google","MarkerClusterer","MapLabel","worldMap","maps","disableDefaultUI","fullscreenControl","keyboardShortcuts","mapTypeControl","noClear","zoomControl","panControl","overviewMapControl","rotateControl","scaleControl","streetViewControl","center","lat","lng","zoom","styles","elementType","stylers","color","featureType","weight","getAllPositions","getPositionNamesByType","positionType","positionName","PositionList","positionsSelector","useMemo","Positions","positionTypes","getAllRooms","getRoomById","getRooms","isUser","getWhisperRooms","participantIds","getUnfollowedRoomIds","roomName","roomA","roomB","getFollowedRoomsIds","getWhisperRoom","currentIdentityId","identityRoom","_ref11","getWhisperRoomNames","_ref12","currentIdentities","participant","secondParticipant","isFirst","_ref13","names","_ref14","SvgLock","Lock","RoomList","roomIds","RoomItem","SvgEye","sendNewsMessage","text","messageType","split","createNewsMessage","getMessagesByRoom","followRoomAction","WhisperItem","singleUser","followError","Eye","prevProps","newProps","prevRoom","newRoom","WhisperList","alwaysExpand","whisperRooms","FollowingItem","FollowingList","AdminWhisperList","SvgEdit","Edit","UserList","SvgImage","ImageUpload","croppable","presetImage","crop","setCrop","aspect","unit","setValue","previewRef","inputRef","previewImage","setPreviewImage","watchImage","accept","file","files","reader","FileReader","imageName","readAsDataURL","ReactCrop","newCrop","onComplete","completeCrop","percentageCrop","updatedImage","ImageIcon","Textarea","onKeyDown","resize","textarea","activeElement","scrollHeight","toString","rows","trim","SvgCloudOff","SvgSend","InputArea","onSend","minAccessLevel","isSending","setIsSending","buttonRef","allowedImages","switchRoom","sendMessage","match","altKey","preventDefault","Send","CloudOff","getMessageById","getAllMessages","getNews","getMessageIdsByRoom","getNewsIdsPoints","otherMessage","MessageItem","previousMessageId","isLatest","selected","previousMessage","lastUpdated","getTime","MessageInfo","line","thumbWidth","thumbHeight","fileName","MessageList","messageIds","latestMessageId","array","Messages","MessagesList","SvgTool","ChatFileMenu","onCreateRoom","ChatIcon","Tool","isSystemRoom","isTeam","currentRoomId","setRoomId","newRoomId","Rooms","Dialog","buttons","methods","topic","roomToCreate","createRoom","createError","errors","repeatPassword","setError","removeRoom","removeError","loginError","onSubmitCall","Select","multiple","checkEmpty","selectedOptions","Array","from","option","Pronouns","they","she","he","it","PronounsSelect","preselected","requireOffName","offName","pronouns","description","registerDevice","createUser","registerError","createAlias","createNewAlias","setImage","CreateTransactionDialog","walletOptions","chosenAmount","transactionToCreate","createTransaction","unlockDocFile","storedDocFile","creatorImage","creatorName","images","slice","SvgChevronDown","SortBy","DocFileList","partial","sortBy","setSortBy","partialSearch","tags","DocFileItem","docFileItem","querySelector","ChevronDown","DocFileFileMenu","onCreate","docFileToCreate","createDocFile","SvgArrowRight","Arrow","Dashboard","news","newsMapper","NewsItem","SvgChevronUp","expand","showText","setShowText","ChevronUp","NewsList","newsMessage","newsRoom","onCreateNews","NewsIcon","newsCost","SvgUnlock","JoinRoomDialog","submittedPassword","newError","Unlock","onDevice","openApps","removeDeviceConfig","deviceConfig","newConfig","app","UnlockDocFileDialog","submittedCode","unlockError","SettingsAppDialog","inputs","isWider","SvgPin","ProfileDialog","edit","disallowProfileEdit","editing","setEditing","currentUserIdentities","getPositionById","gpsTracking","status","occupation","newAccessLevel","newImage","updateAlias","onTrackPosition","positionId","transferCall","whisperCall","userIdentity","isBanned","pronoun","coordinatesHistory","Pin","lineIndex","UpdateUserStatus","UpdateUserOccupation","DocFileView","DocFileViewer","MainWindow","DocFileDir","Identities","CreateRoomDialog","LoginDialog","RegisterDialog","RemoveRoomDialog","CreateAliasDialog","CreateDocFileDialog","CreateNewsDialog","messsageId","ConfigSystemDialog","SettingsNewsDialog","auto","App","StrictMode","ElementQueries","require","polyfill","listen","render","Provider","getElementById"],"mappings":"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","file":"static/js/main.7483a55d.chunk.js","sourcesContent":["var _circle, _polyline;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgClock = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-clock\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 12,\n    cy: 12,\n    r: 10\n  })), _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"12 6 12 12 16 14\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgClock, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/clock.8dde864e.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport {\n  bool,\n  func,\n  node,\n  oneOf, string,\n} from 'prop-types';\n\nimport './Button.scss';\n\nconst Button = React.forwardRef(({\n  onClick,\n  children,\n  disabled,\n  stopPropagation,\n  className = '',\n  type = 'button',\n}, ref) => (\n  <button\n    ref={ref}\n    className={`Button ${className}`}\n    disabled={disabled}\n    type={type} /* eslint-disable-line react/button-has-type */\n    onClick={(event) => {\n      onClick(event);\n\n      if (stopPropagation) {\n        event.stopPropagation();\n      }\n    }}\n  >\n    {children}\n  </button>\n));\n\nexport default React.memo(Button);\n\nButton.propTypes = {\n  onClick: func.isRequired,\n  children: node.isRequired,\n  type: oneOf(['button', 'submit']),\n  disabled: bool,\n  className: string,\n  stopPropagation: bool,\n};\n\nButton.defaultProps = {\n  type: 'button',\n  disabled: undefined,\n  className: '',\n  stopPropagation: undefined,\n};\n","/**\n * Beautifies number by adding a 0 before the number if it is lower than 10\n * @param {Number} number Number to be beautified\n * @returns {string} String with number or with 0 + number\n */\n// TODO Use built-in padding\nexport const beautifyNumber = (number) => (number > 9\n  ? `${number}`\n  : `0${number}`\n);\n\n/**\n * Takes date and returns shorter human-readable time.\n * @static\n * @param {Object} params Parameters.\n * @param {Date|number} params.date Date.\n * @param {Number} [params.offset] Should hours be modified from the final time?\n * @param {boolean} [params.lockDate] Should the year stay unmodified?\n * @returns {Object} Human-readable time and date.\n */\nexport const getTimestamp = ({\n  date,\n  offset,\n  lockDate,\n  yearModification,\n  dayModification,\n}) => {\n  const newDate = new Date(date);\n  const timestamp = {};\n\n  if (offset) {\n    newDate.setHours(newDate.getHours() + offset);\n  }\n\n  if (!lockDate && (yearModification || dayModification)) {\n    if (yearModification && !Number.isNaN(yearModification)) {\n      newDate.setFullYear(newDate.getFullYear() + parseInt(yearModification, 10));\n    }\n\n    if (dayModification && !Number.isNaN(dayModification)) {\n      newDate.setDate(newDate.getDate() + parseInt(dayModification, 10));\n    }\n  }\n\n  timestamp.mins = beautifyNumber(newDate.getMinutes());\n  timestamp.hours = beautifyNumber(newDate.getHours());\n  timestamp.seconds = beautifyNumber(newDate.getSeconds());\n  timestamp.month = beautifyNumber(newDate.getMonth() + 1);\n  timestamp.day = beautifyNumber(newDate.getDate());\n  timestamp.year = newDate.getFullYear();\n  timestamp.halfTime = `${timestamp.hours}:${timestamp.mins}`;\n  timestamp.fullTime = `${timestamp.halfTime}:${timestamp.seconds}`;\n  timestamp.halfDate = `${timestamp.day}/${timestamp.month}`;\n  timestamp.fullDate = `${timestamp.halfDate}/${timestamp.year}`;\n  timestamp.fullStamp = `${timestamp.halfTime} ${timestamp.fullDate}`;\n\n  return timestamp;\n};\n","import { bool } from 'prop-types';\nimport React, {\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\n\nimport { ReactComponent as ClockSvg } from '../../../../icons/clock.svg';\nimport Button from '../../../common/sub-components/Button/Button';\nimport { getTimestamp } from '../../../../TextTools';\n\nimport './Clock.scss';\n\nconst Clock = ({ alwaysShow }) => {\n  const timeoutRef = useRef();\n  const [date, setDate] = useState(new Date());\n  const [showTime, setShowTime] = useState(false);\n  const timestamp = getTimestamp({ date });\n\n  const updateTime = () => {\n    timeoutRef.current = setTimeout(() => {\n      setDate(new Date());\n      updateTime();\n    }, 1000);\n  };\n\n  useEffect(() => {\n    updateTime();\n\n    return () => clearTimeout(timeoutRef.current);\n  }, []);\n\n  const onClick = useCallback(() => setShowTime(!showTime), [showTime]);\n\n  return (\n    <div\n      key=\"clock\"\n      className=\"Clock\"\n    >\n      {!alwaysShow && <Button className={`icon ${showTime ? 'active' : ''}`} onClick={onClick}><ClockSvg /></Button>}\n      <Button onClick={onClick} className={`time ${!showTime && !alwaysShow ? 'hide' : ''}`}>{timestamp.fullTime}</Button>\n    </div>\n  );\n};\n\nexport default React.memo(Clock);\n\nClock.propTypes = {\n  alwaysShow: bool,\n};\n\nClock.defaultProps = {\n  alwaysShow: undefined,\n};\n","var _circle, _polyline, _line;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgArrowUpCircle = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-arrow-up-circle\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 12,\n    cy: 12,\n    r: 10\n  })), _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"16 12 12 8 8 12\"\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 12,\n    y1: 16,\n    x2: 12,\n    y2: 8\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgArrowUpCircle, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/arrow-up-circle.1095b4b3.svg\";\nexport { ForwardRef as ReactComponent };","var _circle, _polyline, _line;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgArrowDownCircle = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-arrow-down-circle\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 12,\n    cy: 12,\n    r: 10\n  })), _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"8 12 12 16 16 12\"\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 12,\n    y1: 8,\n    x2: 12,\n    y2: 16\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgArrowDownCircle, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/arrow-down-circle.c36635ee.svg\";\nexport { ForwardRef as ReactComponent };","import React, {\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  string,\n  bool,\n  node,\n} from 'prop-types';\n\nimport { ReactComponent as ArrowUp } from '../../../../icons/arrow-up-circle.svg';\nimport { ReactComponent as ArrowDown } from '../../../../icons/arrow-down-circle.svg';\nimport Button from '../../sub-components/Button/Button';\n\nimport './List.scss';\n\nconst List = React.forwardRef(({\n  children,\n  title,\n  wideTitle,\n  observe,\n  startRevealed = false,\n  alwaysExpanded = false,\n  checkWidth = false,\n  dropdown = false,\n  className = '',\n}, ref) => {\n  const observer = useRef();\n  const observeHelper = useRef();\n  const listRef = useRef(null);\n  const windowRef = useRef(null);\n  const [hidden, setHidden] = useState(!startRevealed && !alwaysExpanded && typeof title !== 'undefined');\n  const listClasses = [];\n  const classes = ['List'].concat([className]);\n\n  const onClick = useCallback((event) => {\n    if (dropdown && !hidden && listRef.current && (!checkWidth || !windowRef.current || windowRef.current.offsetWidth < 600)) {\n      if (event.target.tagName !== 'INPUT' && (!listRef.current.parentElement.contains(event.target) || (event.target !== listRef.current && event.currentTarget === listRef.current))) {\n        setHidden(true);\n      }\n    }\n  }, [hidden]);\n\n  const scroll = ({ direction }) => {\n    if (direction === 'bottom' && listRef.current.lastElementChild) {\n      listRef.current.lastElementChild.scrollIntoView({ behavior: 'smooth', block: 'end' });\n    } else if (direction === 'top' && listRef.current.firstElementChild) {\n      listRef.current.firstElementChild.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    }\n  };\n\n  useEffect(() => {\n    if (!hidden && dropdown && listRef.current) {\n      const bounds = listRef.current.getBoundingClientRect();\n\n      if (bounds.right > window.innerWidth) {\n        listRef.current.classList.add('right');\n      } else {\n        listRef.current.classList.remove('right');\n      }\n\n      if (bounds.bottom > window.innerHeight) {\n        listRef.current.classList.add('bottom');\n      } else {\n        listRef.current.classList.remove('bottom');\n      }\n    }\n  }, [hidden]);\n\n  useEffect(() => {\n    if (listRef.current && observe) {\n      observer.current = new IntersectionObserver((entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            observeHelper.current.classList.add('hide');\n          } else {\n            observeHelper.current.classList.remove('hide');\n          }\n        });\n      }, {\n        root: listRef.current,\n        rootMargin: '50px',\n        threshold: 1,\n      });\n\n      if (observe === 'upper' && listRef.current.firstElementChild) {\n        observer.current.observe(listRef.current.firstElementChild);\n      }\n\n      if (observe === 'lower' && listRef.current.lastElementChild) {\n        observer.current.observe(listRef.current.lastElementChild);\n      }\n    }\n\n    return () => {\n      if (observer.current) {\n        observer.current.disconnect();\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    if (observer.current) {\n      observer.current.disconnect();\n\n      if (observe === 'upper' && listRef.current.firstElementChild) {\n        observer.current.observe(listRef.current.firstElementChild);\n      }\n\n      if (observe === 'lower' && listRef.current.lastElementChild) {\n        observer.current.observe(listRef.current.lastElementChild);\n      }\n    }\n  }, [children]);\n\n  useEffect(() => {\n    if (dropdown) {\n      if (!hidden) {\n        document.addEventListener('mousedown', onClick);\n      } else {\n        document.removeEventListener('mousedown', onClick);\n      }\n    }\n\n    return () => document.removeEventListener('mousedown', onClick);\n  }, [hidden]);\n\n  if (!hidden) {\n    classes.push('expanded');\n  } else {\n    listClasses.push('hide');\n  }\n\n  if (dropdown) {\n    listClasses.push('dropdown');\n  }\n\n  return (\n    <div\n      key=\"List\"\n      className={classes.join(' ')}\n    >\n      { title && (\n        <header\n          role=\"button\"\n          tabIndex={0}\n          key=\"listHeader\"\n          className={`toggle ${!alwaysExpanded ? 'clickable' : ''}`}\n          onClick={() => {\n            if (!alwaysExpanded) {\n              setHidden(!hidden);\n            }\n          }}\n        >\n          {title}\n          {wideTitle && <div className=\"wideTitle\">{wideTitle}</div>}\n        </header>\n      )}\n      {observe && observe === 'upper' && <Button key=\"upper\" className=\"upper hide\" ref={observeHelper} onClick={() => scroll({ direction: 'top' })}><ArrowUp /></Button>}\n      <ul\n        ref={(element) => {\n          listRef.current = element;\n\n          if (ref) {\n            // eslint-disable-next-line no-param-reassign\n            ref.current = element;\n          }\n\n          if (element) {\n            windowRef.current = element.closest('.Window');\n          }\n        }}\n        key=\"listElem\"\n        className={`${listClasses.join(' ')}`}\n        onClick={(event) => {\n          if (dropdown) {\n            onClick(event);\n\n            event.stopPropagation();\n          }\n        }}\n      >\n        {children}\n      </ul>\n      {observe && observe === 'lower' && <Button key=\"lower\" className=\"lower hide\" ref={observeHelper} onClick={() => scroll({ direction: 'bottom' })}><ArrowDown /></Button>}\n    </div>\n  );\n});\n\nexport default React.memo(List);\n\nList.propTypes = {\n  children: node,\n  title: node,\n  className: string,\n  dropdown: bool,\n  checkWidth: bool,\n  alwaysExpanded: bool,\n  observe: string,\n  startRevealed: bool,\n  wideTitle: node,\n};\n\nList.defaultProps = {\n  className: '',\n  children: undefined,\n  title: undefined,\n  dropdown: false,\n  checkWidth: false,\n  alwaysExpanded: false,\n  observe: undefined,\n  startRevealed: undefined,\n  wideTitle: undefined,\n};\n","export const AccessLevels = {\n  ANONYMOUS: 0,\n  STANDARD: 1,\n  PRIVILEGED: 2,\n  MODERATOR: 3,\n  ADMIN: 4,\n  SUPERUSER: 5,\n  GOD: 6,\n};\n\n/**\n * Checks if user has access, is admin or can see the object.\n * @param {Object} params Parameter.\n * @param {Object} params.objectToAccess Object to access.\n * @param {Object} params.toAuth Object to auth.\n * @returns {Object} Does the user have access to the object?\n */\nexport const hasAccessTo = ({\n  objectToAccess,\n  toAuth,\n  adminLevel = AccessLevels.ADMIN,\n}) => {\n  if (!objectToAccess || !toAuth) {\n    return {\n      canSee: false,\n      hasFullAccess: false,\n      hasAccess: false,\n    };\n  }\n\n  const {\n    ownerId,\n    ownerAliasId,\n    teamId,\n    isPublic,\n    visibility,\n    teamIds = [],\n    userIds = [],\n    userAdminIds = [],\n    teamAdminIds = [],\n  } = objectToAccess;\n  const {\n    hasFullAccess,\n    partOfTeams = [],\n    accessLevel = AccessLevels.ANONYMOUS,\n    objectId: authUserId,\n    teamIds: authTeamIds = [],\n    aliases = [],\n  } = toAuth;\n\n  const foundOwnerAlias = ownerAliasId && aliases.includes(ownerAliasId);\n  const partOfTeam = teamId && partOfTeams.includes(teamId);\n\n  const userHasAccess = userIds.concat([ownerId]).includes(authUserId);\n  const teamHasAccess = partOfTeam || teamIds.find((id) => authTeamIds.includes(id));\n  const aliasHasAccess = foundOwnerAlias || aliases.find((aliasId) => userIds.includes(aliasId));\n  const userHasAdminAccess = userAdminIds.includes(authUserId);\n  const aliasHasAdminAccess = foundOwnerAlias || aliases.find((aliasId) => userAdminIds.includes(aliasId));\n  const teamHasAdminAccess = partOfTeam || teamAdminIds.find((adminId) => authTeamIds.includes(adminId));\n  const isAdmin = ownerId === authUserId || hasFullAccess || accessLevel >= adminLevel;\n\n  return {\n    canSee: isAdmin || isPublic || userHasAccess || teamHasAccess || aliasHasAccess || accessLevel >= visibility,\n    hasAccess: isAdmin || isPublic || userHasAccess || teamHasAccess || aliasHasAccess,\n    hasFullAccess: isAdmin || userHasAdminAccess || teamHasAdminAccess || aliasHasAdminAccess,\n    adminAccess: !isPublic && !userHasAccess && !teamHasAccess && !aliasHasAccess && isAdmin,\n  };\n};\n","export const ALIAS = 'alias';\nexport const DEVICE = 'device';\nexport const DOCFILE = 'docFile';\nexport const FORUM = 'forum';\nexport const FORUMPOST = 'forumPost';\nexport const FORUMTHREAD = 'forumThread';\nexport const GAMECODE = 'gameCode';\nexport const INVITATION = 'invitation';\nexport const MESSAGE = 'message';\nexport const POSITION = 'position';\nexport const ROOM = 'room';\nexport const SIMPLEMSG = 'simpleMsg';\nexport const TEAM = 'team';\nexport const TEAMSCORING = 'teamScoring';\nexport const TRANSACTION = 'transaction';\nexport const USER = 'user';\nexport const WALLET = 'wallet';\n\nexport const ALIASES = 'aliases';\nexport const DEVICES = 'devices';\nexport const DOCFILES = 'docFiles';\nexport const FORUMS = 'forums';\nexport const FORUMPOSTS = 'forumPosts';\nexport const FORUMTHREADS = 'forumThreads';\nexport const GAMECODES = 'gameCodes';\nexport const INVITATIONS = 'invitations';\nexport const MESSAGES = 'messages';\nexport const POSITIONS = 'positions';\nexport const ROOMS = 'rooms';\nexport const SIMPLEMSGS = 'simpleMsgs';\nexport const TEAMS = 'teams';\nexport const TEAMSCORINGS = 'teamScorings';\nexport const TRANSACTIONS = 'transactions';\nexport const USERS = 'users';\nexport const WALLETS = 'wallets';\n\nexport const USERID = 'userId';\nexport const ROOMID = 'roomId';\nexport const CONFIG = 'config';\nexport const ONLINE = 'online';\nexport const ALIASID = 'aliasId';\nexport const WINDOWORDER = 'windowOrder';\nexport const WINDOWORDERS = 'windowOrders';\nexport const MODE = 'mode';\nexport const INTERFACECONFIG = 'interfaceConfiog';\n","export const ChangeTypes = {\n  UPDATE: 'update',\n  CREATE: 'create',\n  REMOVE: 'remove',\n  RESET: 'reset',\n};\n\nexport const rootReducerSingle = (state, action) => {\n  const newState = new Map([...state]);\n  const { type, payload } = action;\n  const { changeType } = payload;\n  const object = payload[type];\n\n  switch (changeType) {\n    case ChangeTypes.CREATE: {\n      newState.set(object.objectId, object);\n\n      return newState;\n    }\n    case ChangeTypes.UPDATE: {\n      const existing = newState.get(object.objectId) || {};\n      const updated = { ...existing, ...object };\n\n      if (existing === updated) {\n        return state;\n      }\n\n      newState.set(object.objectId, updated);\n\n      return newState;\n    }\n    case ChangeTypes.REMOVE: {\n      if (!newState.has(object.objectId)) {\n        return state;\n      }\n\n      newState.delete(object.objectId);\n\n      return newState;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport const rootReducerMultiple = (state, action) => {\n  const { type, payload } = action;\n  const { reset, changeType } = payload;\n  const newState = reset\n    ? new Map()\n    : new Map([...state]);\n  const objects = payload[type];\n\n  switch (changeType) {\n    case ChangeTypes.CREATE: {\n      objects.forEach((object) => newState.set(object.objectId, object));\n\n      return newState;\n    }\n    case ChangeTypes.UPDATE: {\n      objects\n        .forEach((object) => {\n          const existing = newState.get(object.objectId) || {};\n          const updated = { ...existing, ...object };\n\n          if (existing !== updated) {\n            newState.set(object.objectId, updated);\n          }\n        });\n\n      return newState;\n    }\n    case ChangeTypes.REMOVE: {\n      objects.forEach((object) => newState.delete(object.objectId));\n\n      return newState;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import { MESSAGE, MESSAGES } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport const MessageType = {\n  CHAT: 'chat',\n  WHISPER: 'whisper',\n  BROADCAST: 'broadcast',\n  MESSAGE: 'message',\n  NEWS: 'news',\n};\n\nexport default function messagesReducer(state = new Map(), action) {\n  if (action.type === MESSAGE) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === MESSAGES) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { ONLINE } from '../actionTypes';\n\nexport const Status = {\n  ONLINE: 'online',\n  OFFLINE: 'offline',\n  RECONNECTING: 'reconnecting',\n};\n\nexport default function onlineReducer(state = Status.OFFLINE, action) {\n  if (action.type === ONLINE) {\n    const { payload } = action;\n    const { online } = payload;\n\n    return online;\n  }\n\n  return state;\n}\n","import { CONFIG } from '../actionTypes';\nimport { AccessLevels } from '../../AccessCentral';\n\nconst defaultState = new Map();\n\ndefaultState.set('broadcastId', '111111111111111111111116');\ndefaultState.set('publicRoomId', '111111111111111111111110');\ndefaultState.set('newsRoomId', '111111111111111111111114');\ndefaultState.set('defaultForum', '111111111111111111111120');\ndefaultState.set('defaultLanguage', 'en');\ndefaultState.set('centerCoordinates', { longitude: 0, latitude: 0 });\ndefaultState.set('cornerOneCoordinates', { longitude: 0, latitude: 0 });\ndefaultState.set('cornerTwoCoordinates', { longitude: 0, latitude: 0 });\ndefaultState.set('defaultZoomLevel', 15);\ndefaultState.set('yearModification', 0);\ndefaultState.set('dayModification', 0);\ndefaultState.set('requireOffName', false);\ndefaultState.set('activateTermination', false);\ndefaultState.set('allowedImages', { CHAT: false, PROFILE: false, DOCFILE: false });\ndefaultState.set('newsCost', 0);\ndefaultState.set('onlySeen', false);\ndefaultState.set('allowPartialSearch', true);\ndefaultState.set('disallowProfileEdit', false);\ndefaultState.set('gpsTracking', false);\ndefaultState.set('permissions', {\n  CreateAlias: {\n    name: 'CreateAlias',\n    accessLevel: AccessLevels.STANDARD,\n  },\n  CreateUser: {\n    name: 'CreateUser',\n    accessLevel: AccessLevels.ANONYMOUS,\n  },\n});\ndefaultState.set('anonymousUser', {\n  accessLevel: AccessLevels.ANONYMOUS,\n  followingRooms: ['111111111111111111111110'],\n  objectId: '-1',\n  isAnonymous: true,\n  systemConfig: {},\n  aliases: [],\n  hasSeen: [],\n  partOfTeams: [],\n});\ndefaultState.set('systemUser', {\n  objectId: '222222222222222222222220',\n  username: 'SYSTEM',\n});\n// customUserFields\n// device id\n\nexport default function ConfigReducer(state = defaultState, action) {\n  if (action.type === CONFIG) {\n    const { payload } = action;\n    const { entries } = payload;\n    const newState = new Map([...state]);\n\n    entries.forEach((keyValue) => newState.set(keyValue[0], keyValue[1]));\n\n    return newState;\n  }\n\n  return state;\n}\n","import { WINDOWORDER, WINDOWORDERS } from '../actionTypes';\nimport { ChangeTypes } from './root';\n\nexport const WindowTypes = {\n  WALLET: 'Wallet',\n  CHAT: 'Chat',\n  WORLDMAP: 'Map',\n  DOCFILEDIR: 'Files directory',\n  DOCFILEVIEW: 'File',\n  NEWS: 'News',\n  TEAMS: 'Teams',\n  IDENTITIES: 'Users',\n  DIALOGIDENTITY: 'User',\n  DIALOGCREATEROOM: 'New room',\n  DIALOGREMOVEROOM: 'Remove room',\n  DIALOGREGISTER: 'Register',\n  DIALOGLOGIN: 'Login',\n  DIALOGCREATEALIAS: 'New alias',\n  DIALOGCREATETRANSACTION: 'Transfer',\n  DIALOGCREATEDOCFILE: 'New file',\n  DIALOGCREATENEWS: 'New article',\n  DIALOGJOINROOM: 'Join room',\n  DIALOGCONFIGSYSTEM: 'Config system',\n  DIALOGPROFILE: 'Profile',\n  DIALOGUNLOCKFILE: 'Unlock file',\n  DIALOGAPPSETTINGS: 'App settings',\n};\n\nconst defaultState = new Map();\n\nexport default function WindowOrderReducer(state = defaultState, action) {\n  if (action.type === WINDOWORDER) {\n    const { payload } = action;\n    const { id, value, changeType } = payload;\n    const newState = new Map([...state]);\n\n    if (changeType === ChangeTypes.UPDATE) {\n      if (newState.size > 0 && newState.get(id) && newState.get(id).index === newState.size) {\n        const existing = newState.get(id);\n\n        if (Object.keys(value).length === Object.keys(existing).length - 1 && Object.keys(value).every((key) => existing[key] === value[key])) {\n          return state;\n        }\n      }\n\n      const windowValue = { ...value };\n\n      if (!newState.get(id)) {\n        windowValue.index = newState.size + 1;\n\n        newState.set(id, windowValue);\n      } else {\n        const sorted = [...newState.entries()]\n          .sort((a, b) => {\n            const valueA = a[1].index;\n            const valueB = b[1].index;\n\n            if (valueA > valueB) {\n              return 1;\n            }\n\n            if (valueA < valueB) {\n              return -1;\n            }\n\n            return 0;\n          });\n\n        const [window] = sorted.splice(sorted.findIndex(([key]) => key === id), 1);\n        window[1] = { ...windowValue };\n\n        sorted.push(window);\n\n        sorted.forEach(([key, entryValue], index) => {\n          const newValue = {\n            ...entryValue,\n            index: index + 1,\n          };\n\n          newState.set(key, newValue);\n        });\n      }\n\n      return newState;\n    }\n\n    if (changeType === ChangeTypes.REMOVE) {\n      newState.delete(id);\n\n      return newState;\n    }\n\n    return state;\n  }\n\n  if (action.type === WINDOWORDERS) {\n    const { payload } = action;\n    const { windows, reset } = payload;\n    const newState = new Map([...state]);\n\n    if (reset) {\n      return defaultState;\n    }\n\n    windows.forEach(({ id, value }) => {\n      const newValue = {\n        ...value,\n        index: newState.size + 1,\n      };\n\n      newState.set(id, newValue);\n    });\n\n    return newState;\n  }\n\n  return state;\n}\n","import { MODE } from '../actionTypes';\n\nexport const Modes = {\n  DEFAULT: 'default',\n  HELP: 'help',\n  OFF: 'off',\n};\n\nconst initialState = {\n  mode: Modes.DEFAULT,\n  target: '',\n};\n\nexport default function modeReducer(state = initialState, action) {\n  if (action.type === MODE) {\n    const { payload } = action;\n    const { mode, target } = payload;\n    const newState = { ...state };\n\n    if (!mode && target && state.target === target) {\n      return state;\n    }\n\n    if (!target || mode === state.mode) {\n      newState.target = initialState.target;\n    } else {\n      newState.target = target;\n    }\n\n    if (mode === state.mode) {\n      newState.mode = initialState.mode;\n    } else if (mode) {\n      newState.mode = mode;\n    }\n\n    return newState;\n  }\n\n  return state;\n}\n","import { INTERFACECONFIG } from '../actionTypes';\n\nconst initialState = {\n  hideMenu: false,\n};\n\nexport default function interfaceConfigReducer(state = initialState, action) {\n  if (action.type === INTERFACECONFIG) {\n    const { payload } = action;\n    const { hideMenu, toggleHideMenu } = payload;\n    const newState = { ...state };\n\n    if (Object.keys(payload).every((key) => payload[key] === state[key])) {\n      return state;\n    }\n\n    if (toggleHideMenu) {\n      newState.hideMenu = !state.hideMenu;\n    } else if (typeof hideMenu === 'boolean') {\n      newState.hideMenu = hideMenu;\n    }\n\n    return newState;\n  }\n\n  return state;\n}\n","import { combineReducers } from 'redux';\n\nimport users from './users';\nimport aliases from './aliases';\nimport messages from './messages';\nimport online from './online';\nimport rooms from './rooms';\nimport positions from './positions';\nimport transactions from './transactions';\nimport userId from './userId';\nimport wallets from './wallets';\nimport config from './config';\nimport aliasId from './aliasId';\nimport windowOrder from './windowOrder';\nimport teams from './teams';\nimport docFiles from './docFiles';\nimport mode from './mode';\nimport interfaceConfig from './interfaceConfig';\nimport devices from './devices';\n\nexport default combineReducers({\n  users,\n  aliases,\n  messages,\n  online,\n  rooms,\n  userId,\n  positions,\n  transactions,\n  wallets,\n  config,\n  aliasId,\n  windowOrder,\n  teams,\n  docFiles,\n  mode,\n  interfaceConfig,\n  devices,\n});\n","import { USER, USERS } from '../actionTypes';\nimport { rootReducerSingle, rootReducerMultiple } from './root';\n\nexport default function usersReducer(state = new Map(), action) {\n  if (action.type === USER) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === USERS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { ALIAS, ALIASES } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function aliasesReducer(state = new Map(), action) {\n  if (action.type === ALIAS) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === ALIASES) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { ROOM, ROOMS } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function roomsReducer(state = new Map(), action) {\n  if (action.type === ROOM) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === ROOMS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { USERID } from '../actionTypes';\n\nconst initialState = '-1';\n\nexport default function userIdReducer(state = initialState, action) {\n  if (action.type === USERID) {\n    const { payload } = action;\n    const { reset, userId } = payload;\n\n    return reset\n      ? initialState\n      : userId;\n  }\n\n  return state;\n}\n","import { POSITION, POSITIONS } from '../actionTypes';\nimport { rootReducerSingle, rootReducerMultiple } from './root';\n\nexport default function positionsReducer(state = new Map(), action) {\n  if (action.type === POSITION) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === POSITIONS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { TRANSACTION, TRANSACTIONS } from '../actionTypes';\nimport { rootReducerSingle, rootReducerMultiple } from './root';\n\nexport default function transactionsReducer(state = new Map(), action) {\n  if (action.type === TRANSACTION) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === TRANSACTIONS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { WALLET, WALLETS } from '../actionTypes';\nimport { rootReducerSingle, rootReducerMultiple } from './root';\n\nexport default function transactionsReducer(state = new Map(), action) {\n  if (action.type === WALLET) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === WALLETS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { ALIASID } from '../actionTypes';\n\nconst initialState = null;\n\nexport default function aliasIdReducer(state = initialState, action) {\n  if (action.type === ALIASID) {\n    const { payload } = action;\n    const { reset, aliasId } = payload;\n\n    return reset\n      ? initialState\n      : aliasId;\n  }\n\n  return state;\n}\n","import { TEAM, TEAMS } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function teamsReducer(state = new Map(), action) {\n  if (action.type === TEAM) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === TEAMS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { DOCFILE, DOCFILES } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function docFileReducer(state = new Map(), action) {\n  if (action.type === DOCFILE) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === DOCFILES) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { DEVICE, DEVICES } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function aliasesReducer(state = new Map(), action) {\n  if (action.type === DEVICE) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === DEVICES) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport rootReducer from './reducers';\n\nexport default createStore(rootReducer, applyMiddleware(thunk));\n","/**\n * Convert string representation to object\n * @param {string} value Value to be converted\n * @returns {Object|null} Converted object. null if the value was not set\n */\nexport const convertToObject = (value) => {\n  return value\n    ? JSON.parse(value)\n    : {};\n};\n\n/**\n * Convert string to boolean\n * @param {string} value Value to be converted\n * @returns {boolean|null} Converted boolean. null if the value was not a boolean\n */\nexport const convertToBoolean = (value) => {\n  if (value === 'true') {\n    return true;\n  }\n\n  if (value === 'false') {\n    return false;\n  }\n\n  return null;\n};\n\n/**\n * Convert string to int\n * @param {string} value Value to be converted\n * @returns {number|null} Converted number. null if the value was not a number\n */\nexport const convertToInt = (value) => {\n  if (Number.isNaN(value)) {\n    return null;\n  }\n\n  return parseInt(value, 10);\n};\n\n/**\n * Convert string to float\n * @param {string} value Value to be converted\n * @returns {number|null} Converted number. null if the value was not a number\n */\nexport const convertToFloat = (value) => {\n  if (Number.isNaN(value)) {\n    return null;\n  }\n\n  return parseFloat(value);\n};\n\n/**\n * Stringifies object for JSON storageManager\n * @param {Object} value Object to stringify\n * @returns {string} Stringified object\n */\nexport const stringifyObject = (value) => {\n  return JSON.stringify(value);\n};\n","import { stringifyObject } from './Converters';\n\nconst StorageType = {\n  DEVICEID: 'deviceId',\n  TOKEN: 'token',\n  USERID: 'userId',\n  ALIASID: 'aliasId',\n};\n\nconst setLocalValue = (name, value) => {\n  if (typeof value === 'string') {\n    localStorage.setItem(name, value);\n  } else {\n    localStorage.setItem(name, stringifyObject(value));\n  }\n};\n\nconst getLocalValue = (name) => localStorage.getItem(name);\n\nconst removeLocalValue = (name) => localStorage.removeItem(name);\n\nconst removeToken = () => removeLocalValue(StorageType.TOKEN);\n\nconst removeUserId = () => removeLocalValue(StorageType.USERID);\n\nexport const removeAliasId = () => removeLocalValue(StorageType.ALIASID);\n\nexport const resetUser = () => {\n  removeToken();\n  removeUserId();\n  removeAliasId();\n};\n\nexport const getDeviceId = () => getLocalValue(StorageType.DEVICEID);\n\nexport const setDeviceId = (value) => setLocalValue(StorageType.DEVICEID, value);\n\nexport const getToken = () => getLocalValue(StorageType.TOKEN);\n\nexport const setToken = (value) => setLocalValue(StorageType.TOKEN, value);\n\nexport const getUserId = () => getLocalValue(StorageType.USERID);\n\nexport const setUserId = (value) => setLocalValue(StorageType.USERID, value);\n\nexport const getAliasId = () => getLocalValue(StorageType.ALIASID);\n\nexport const setAliasId = (value) => setLocalValue(StorageType.ALIASID, value);\n","export const getMode = (state) => state.mode;\n","import { MODE } from '../actionTypes';\n\nexport const changeMode = ({ mode, target }) => ({\n  type: MODE,\n  payload: {\n    mode,\n    target,\n  },\n});\n\nexport const changeTarget = ({ target }) => ({\n  type: MODE,\n  payload: {\n    target,\n  },\n});\n","import { batch } from 'react-redux';\n\nimport { WINDOWORDER, WINDOWORDERS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\nimport { getMode } from '../selectors/mode';\nimport store from '../store';\nimport { Modes } from '../reducers/mode';\nimport { changeTarget } from './mode';\n\nexport const changeWindowOrder = ({ windows }) => {\n  if (windows.length === 1) {\n    const [{ value, id }] = windows;\n\n    return (dispatch) => {\n      batch(() => {\n        if (getMode(store.getState()).mode === Modes.HELP) {\n          dispatch(changeTarget({ target: id }));\n        }\n\n        dispatch({\n          type: WINDOWORDER,\n          payload: {\n            id,\n            value,\n            changeType: ChangeTypes.UPDATE,\n          },\n        });\n      });\n    };\n  }\n\n  return {\n    type: WINDOWORDERS,\n    payload: {\n      windows,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const resetWindows = () => ({\n  type: WINDOWORDERS,\n  payload: {\n    reset: true,\n  },\n});\n\nexport const removeWindow = ({ id }) => ({\n  type: WINDOWORDER,\n  payload: {\n    id,\n    changeType: ChangeTypes.REMOVE,\n  },\n});\n","import { Status } from '../reducers/online';\n\nexport const isOnline = (state) => state.online === Status.ONLINE;\nexport const isReconnecting = (state) => state.online === Status.RECONNECTING;\n","import { batch } from 'react-redux';\n\nimport { CONFIG, ONLINE } from '../actionTypes';\nimport { Status } from '../reducers/online';\n\nexport const online = () => ({\n  type: ONLINE,\n  payload: { online: Status.ONLINE },\n});\n\nexport const offline = () => ({\n  type: ONLINE,\n  payload: { online: Status.OFFLINE },\n});\n\nexport const startup = (config) => (dispatch) => {\n  batch(() => {\n    dispatch({\n      type: CONFIG,\n      payload: {\n        entries: Object.entries(config),\n      },\n    });\n    dispatch(online());\n  });\n};\n","export const getAliasId = (state) => state.aliasId;\n","import { getAliasId } from './aliasId';\n\nexport const getUserId = (state) => state.userId;\n\nexport const getCurrentIdentityId = (state) => getAliasId(state) || getUserId(state);\n","import { WALLET, WALLETS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateWallets = ({ wallets }) => {\n  if (wallets.length === 1) {\n    return {\n      type: WALLET,\n      payload: {\n        wallet: wallets[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: WALLETS,\n    payload: {\n      wallets,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createWallets = ({ wallets }) => {\n  if (wallets.length === 1) {\n    return {\n      type: WALLET,\n      payload: {\n        wallet: wallets[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: WALLETS,\n    payload: {\n      wallets,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import { batch } from 'react-redux';\n\nimport { TRANSACTION, TRANSACTIONS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\nimport { updateWallets } from './wallets';\n\nexport const updateTransactions = ({ transactions }) => {\n  if (transactions.length === 1) {\n    return {\n      type: TRANSACTION,\n      payload: {\n        transaction: transactions[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: TRANSACTIONS,\n    payload: {\n      transactions,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createTransactions = ({ transactions }) => {\n  if (transactions.length === 1) {\n    return {\n      type: TRANSACTION,\n      payload: {\n        transaction: transactions[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: TRANSACTIONS,\n    payload: {\n      transactions,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const doTransaction = ({ transaction, wallet }) => (dispatch) => {\n  batch(() => {\n    dispatch(createTransactions({ transactions: [transaction] }));\n    dispatch(updateWallets({ wallets: [wallet] }));\n  });\n};\n","import { batch } from 'react-redux';\n\nimport { MESSAGE, MESSAGES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\nimport { createTransactions } from './transactions';\nimport { updateWallets } from './wallets';\n\nexport const createMessages = ({ messages }) => {\n  if (messages.length === 1) {\n    return {\n      type: MESSAGE,\n      payload: {\n        changeType: ChangeTypes.CREATE,\n        message: messages[0],\n      },\n    };\n  }\n\n  return {\n    type: MESSAGES,\n    payload: {\n      messages,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const createNewsMessage = ({ message, transaction, wallet }) => async (dispatch) => {\n  batch(() => {\n    dispatch(createMessages({ messages: [message] }));\n    dispatch(createTransactions({ transactions: [transaction] }));\n    dispatch(updateWallets({ wallets: [wallet] }));\n  });\n};\n","export const getAllAliases = (state) => state.aliases;\n\nexport const getAliasById = (state, { id }) => state.aliases.get(id);\n","export const getRequireOffName = (state) => state.config.get('requireOffName');\nexport const getPublicRoomId = (state) => state.config.get('publicRoomId');\nexport const getBroadcastId = (state) => state.config.get('broadcastId');\nexport const getAnonymousUser = (state) => state.config.get('anonymousUser');\nexport const getAllowedImages = (state) => state.config.get('allowedImages');\nexport const getGpsTracking = (state) => state.config.get('gpsTracking');\nexport const getPermissions = (state) => state.config.get('permissions');\nexport const getNewsRoomId = (state) => state.config.get('newsRoomId');\nexport const getNewsCost = (state) => state.config.get('newsCost');\nexport const getSystemUser = (state) => state.config.get('systemUser');\nexport const getOnlySeen = (state) => state.config.get('onlySeen');\nexport const getAllowPartialSearch = (state) => state.config.get('allowPartialSearch');\nexport const getYearModification = (state) => state.config.get('yearModification');\nexport const getDayModification = (state) => state.config.get('dayModification');\nexport const getDisallowProfileEdit = (state) => state.config.get('disallowProfileEdit');\n","import createCachedSelector from 're-reselect';\n\nexport const getAllTeams = (state) => state.teams;\n\nexport const getTeamById = (state, { id }) => state.teams.get(id);\n\nexport const getTeamIdsNames = createCachedSelector(\n  [getAllTeams],\n  (teams) => [...teams.values()].map((team) => ({ objectId: team.objectId, teamName: team.teamName, shortName: team.shortName })),\n)(() => 'team-ids');\n\nexport const getTeamsByIds = createCachedSelector(\n  [\n    getAllTeams,\n    (_, { ids }) => ids,\n  ],\n  (teams, ids) => {\n    const foundTeams = new Map();\n\n    ids.forEach((id) => foundTeams.set(id, teams.get(id)));\n\n    return foundTeams;\n  },\n)((_, { ids }) => `teams-${ids.join(ids)}`);\n","import { createSelector, createSelectorCreator, defaultMemoize } from 'reselect';\nimport createCachedSelector from 're-reselect';\n\nimport { getAliasById, getAllAliases } from './aliases';\nimport { getUserId } from './userId';\nimport { getAnonymousUser, getSystemUser } from './config';\nimport { getAllTeams, getTeamById } from './teams';\nimport { getDeviceId } from '../../StorageManager';\n\nexport const getAllUsers = (state) => state.users;\n\nexport const getUserById = (state, { id }) => state.users.get(id);\n\nexport const getCurrentUser = createCachedSelector(\n  [\n    (state) => getUserById(state, { id: getUserId(state) }),\n    getAnonymousUser,\n  ],\n  (user, anonymous) => user || anonymous,\n)(() => 'current-user');\n\nexport const getIsAnonymous = createCachedSelector(\n  [getCurrentUser],\n  (user) => user.isAnonymous,\n)(() => 'is-anonymous');\n\nexport const getCurrentUserRooms = createCachedSelector(\n  [getCurrentUser],\n  (user) => user.followingRooms,\n)({\n  keySelector: () => 'current-user-rooms',\n  selectorCreator: createSelectorCreator(\n    defaultMemoize,\n    (a, b) => a.followingRooms.length === b.followingRooms.length && a.followingRooms.every((roomId) => b.followingRooms.includes(roomId)),\n  ),\n});\n\nexport const getCurrentAccessLevel = createSelector(\n  [getCurrentUser],\n  (user) => user.accessLevel,\n);\n\nexport const getCurrentHasSeen = createCachedSelector(\n  [getCurrentUser],\n  (user) => user.hasSeen || [],\n)({\n  keySelector: () => 'current-user-hasSeen',\n  selectorCreator: createSelectorCreator(\n    defaultMemoize,\n    (a, b) => a.hasSeen && b.hasSeen && a.hasSeen.length === b.hasSeen.length && a.hasSeen.every((seen) => b.hasSeen.includes(seen)),\n  ),\n});\n\nexport const getCurrentPartOfTeams = createCachedSelector(\n  [getCurrentUser],\n  (user) => user.partOfTeams,\n)({\n  keySelector: () => 'current-user-partOfTeams',\n  selectorCreator: createSelectorCreator(\n    defaultMemoize,\n    (a, b) => {\n      if (a.partOfTeams.length !== b.partOfTeams.length) {\n        return false;\n      }\n\n      return b.partOfTeams.every((teamId) => a.partOfTeams.includes(teamId));\n    },\n  ),\n});\n\nexport const getSystemConfig = createCachedSelector(\n  [\n    getCurrentUser,\n    () => getDeviceId(),\n  ],\n  (user, deviceId) => (user.systemConfig\n    ? (user.systemConfig[deviceId] || user.systemConfig)\n    : {}),\n)(() => 'current-system-config');\n\nexport const getHideTopBar = createCachedSelector(\n  [getSystemConfig],\n  (systemConfig) => systemConfig.hideTopBar,\n)(() => 'current-hideTopBar');\n\nexport const getAlwaysMaximized = createCachedSelector(\n  [getSystemConfig],\n  (systemConfig) => systemConfig.alwaysMaximized,\n)(() => 'current-alwaysMaximized');\n\nexport const getAlwaysCompactMenu = createCachedSelector(\n  [getSystemConfig],\n  (systemConfig) => systemConfig.alwaysCompactMenu,\n)(() => 'current-alwaysCompactMenu');\n\nexport const getIdentities = createCachedSelector(\n  [getAllUsers, getAllAliases],\n  (users, aliases) => new Map([...users.entries(), ...aliases.entries()]),\n)(() => 'identities');\n\nexport const getIdentitiesByIds = createCachedSelector(\n  [\n    getAllUsers,\n    getAllAliases,\n    (_, { ids }) => ids,\n  ],\n  (users, aliases, ids) => {\n    const map = new Map();\n\n    ids.forEach((id) => map.set(id, users.get(id) || aliases.get(id)));\n\n    return map;\n  },\n)((_, { ids }) => `identities-${ids.join(' ')}`);\n\nexport const getIdentitiesOrTeamsByIds = createCachedSelector(\n  [\n    getAllUsers,\n    getAllAliases,\n    getAllTeams,\n    (_, { ids }) => ids,\n  ],\n  (users, aliases, teams, ids) => {\n    const map = new Map();\n\n    ids.forEach((id) => map.set(id, teams.get(id) || users.get(id) || aliases.get(id)));\n\n    return map;\n  },\n)((_, { ids }) => `identities-teams-${ids.join(' ')}`);\n\nexport const getIdentityById = createCachedSelector(\n  [getUserById, getAliasById],\n  (user, alias) => alias || user,\n)((_, { id }) => `identity-${id}`);\n\nexport const getIdentityImage = createCachedSelector(\n  [getIdentityById],\n  (identity) => identity.image,\n)((_, { id }) => `identity-${id}-image`);\n\nexport const getIdentityOrTeamName = createCachedSelector(\n  [\n    getIdentityById,\n    getTeamById,\n    (state, { id }) => {\n      const systemUser = getSystemUser(state);\n\n      return systemUser.objectId === id ? systemUser.username : undefined;\n    },\n  ],\n  ({ aliasName, username } = {}, { teamName } = {}, systemName) => {\n    let type;\n\n    if (aliasName || username) {\n      type = 'identity';\n    } else if (teamName) {\n      type = 'team';\n    } else if (systemName) {\n      type = 'system';\n    } else {\n      type = 'fallback';\n    }\n\n    return {\n      type,\n      name: aliasName || username || teamName || systemName || '',\n    };\n  },\n)((_, { id }) => `identity-${id}-name`);\n\nexport const getIdentityOrTeamById = createCachedSelector(\n  [getUserById, getAliasById, getTeamById],\n  (user, alias, team) => team || alias || user,\n)((_, { id }) => `identity-team-${id}`);\n\nexport const getOtherIdentities = createCachedSelector(\n  [getIdentities, getUserId],\n  (identities, userId) => [...identities.values()]\n    .filter((identity) => identity.objectId !== userId && identity.ownerId !== userId && !identity.userIds.includes(userId))\n    .map((identity) => ({ objectId: identity.objectId, partOfTeams: identity.partOfTeams, name: identity.aliasName || identity.username })),\n)({\n  keySelector: () => 'other-identity-ids',\n  selectorCreator: createSelectorCreator(\n    defaultMemoize,\n    (a, b) => {\n      if (typeof a === 'string' && typeof b === 'string') {\n        return a === b;\n      }\n\n      if (a.size !== b.size) {\n        return false;\n      }\n\n      return [...b.values()].every((identity) => {\n        const otherIdentity = a.get(identity.objectId);\n\n        if (!otherIdentity) {\n          return false;\n        }\n\n        if ((identity.aliasName || identity.username) !== (otherIdentity.aliasName || otherIdentity.username)) {\n          return false;\n        }\n\n        return identity.partOfTeams.length === otherIdentity.partOfTeams.length && identity.partOfTeams.every((teamId) => otherIdentity.partOfTeams.includes(teamId));\n      });\n    },\n  ),\n});\n\nexport const getCurrentUserIdentities = createCachedSelector(\n  [getIdentities, getUserId],\n  (identities, userId) => [...identities.values()]\n    .filter((identity) => identity.objectId === userId || identity.ownerId === userId || identity.userIds.includes(userId)),\n)(() => 'current-identities');\n\nexport const getCurrentUserIdentitiesNames = createCachedSelector(\n  [getCurrentUserIdentities],\n  (identities) => identities\n    .map((identity) => ({ objectId: identity.objectId, name: identity.aliasName || identity.username })),\n)({\n  keySelector: () => 'current-identities-names',\n  selectorCreator: createSelectorCreator(\n    defaultMemoize,\n    (a, b) => a.length === b.length && b.every((identity) => {\n      const otherIdentity = a.find((aIdentity) => identity.objectId === aIdentity.objectId);\n\n      return otherIdentity && (otherIdentity.aliasName || otherIdentity.username) === (identity.aliasName || identity.username);\n    }),\n  ),\n});\n","import store from '../../redux/store';\nimport { createMessages } from '../../redux/actions/messages';\nimport { ChangeTypes } from '../../redux/reducers/root';\nimport { getCurrentUser, getIdentityById } from '../../redux/selectors/users';\nimport { updateUser } from '../actions/users';\n\nconst events = {\n  MSGCHAT: 'chatMsg',\n  MSGWHISPER: 'whisper',\n};\n\nexport const chatMessage = () => ({\n  event: events.MSGCHAT,\n  callback: ({ data, error }) => {\n    if (data && data.message) {\n      const { message, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createMessages({ messages: [message] }));\n      }\n\n      return;\n    }\n\n    console.log(events.MSGCHAT, error, data);\n  },\n});\n\nexport const whisperMessage = () => ({\n  event: events.MSGWHISPER,\n  callback: ({ data, error }) => {\n    if (data && data.message) {\n      const { message, changeType } = data;\n      const { objectId: userId, hasSeen = [], partOfTeams } = getCurrentUser(store.getState());\n      const sender = getIdentityById(store.getState(), { id: message.ownerAliasId || message.ownerId });\n\n      if (!hasSeen.includes(message.ownerAliasId || message.ownerId) && !partOfTeams.some((teamId) => sender.partOfTeams.includes(teamId))) {\n        updateUser({\n          userId,\n          user: {\n            hasSeen: hasSeen.concat([message.ownerAliasId || message.ownerId]),\n          },\n        })\n          .catch((updateError) => console.log(updateError));\n      }\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createMessages({ messages: [message] }));\n      }\n\n      return;\n    }\n\n    console.log(events.MSGWHISPER, error, data);\n  },\n});\n","import { batch } from 'react-redux';\n\nimport { USER, USERS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n// eslint-disable-next-line import/no-cycle\nimport { createRooms } from './rooms';\nimport { createWallets } from './wallets';\nimport { createForums } from './forums';\nimport { createGameCodes } from './gameCodes';\nimport store from '../store';\n\nexport const updateUsers = ({ users }) => {\n  if (users.length === 1) {\n    return {\n      type: USER,\n      payload: {\n        user: users[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: USERS,\n    payload: {\n      users,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createUsers = ({ users }) => {\n  if (users.length === 1) {\n    return {\n      type: USER,\n      payload: {\n        user: users[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: USERS,\n    payload: {\n      users,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const createNewUser = ({\n  user,\n  wallet,\n  room,\n  forum,\n  gameCode,\n}) => async (dispatch) => {\n  batch(() => {\n    dispatch(createUsers({ users: [user] }));\n    dispatch(createRooms({ rooms: [room] }));\n    dispatch(createWallets({ wallets: [wallet] }));\n    dispatch(createForums({ forums: [forum] }));\n    dispatch(createGameCodes({ gameCodes: [gameCode] }));\n  });\n};\n","import { FORUM, FORUMS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateForums = ({ forums }) => {\n  if (forums.length === 1) {\n    return {\n      type: FORUM,\n      payload: {\n        forum: forums[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: FORUMS,\n    payload: {\n      forums,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createForums = ({ forums }) => {\n  if (forums.length === 1) {\n    return {\n      type: FORUM,\n      payload: {\n        forum: forums[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: FORUMS,\n    payload: {\n      forums,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import { GAMECODE, GAMECODES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateGameCodes = ({ gameCodes }) => {\n  if (gameCodes.length === 1) {\n    return {\n      type: GAMECODE,\n      payload: {\n        gameCode: gameCodes[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: GAMECODES,\n    payload: {\n      gameCodes,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createGameCodes = ({ gameCodes }) => {\n  if (gameCodes.length === 1) {\n    return {\n      type: GAMECODE,\n      payload: {\n        gameCode: gameCodes[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: GAMECODES,\n    payload: {\n      gameCodes,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import { batch } from 'react-redux';\n\nimport { ROOM, ROOMS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n// eslint-disable-next-line import/no-cycle\nimport { updateUsers } from './users';\n\nexport const createRooms = ({ rooms }) => {\n  if (rooms.length === 1) {\n    return {\n      type: ROOM,\n      payload: {\n        changeType: ChangeTypes.CREATE,\n        room: rooms[0],\n      },\n    };\n  }\n\n  return {\n    type: ROOMS,\n    payload: {\n      rooms,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const updateRooms = ({ rooms }) => {\n  if (rooms.length === 1) {\n    return {\n      type: ROOM,\n      payload: {\n        changeType: ChangeTypes.UPDATE,\n        room: rooms[0],\n      },\n    };\n  }\n\n  return {\n    type: ROOMS,\n    payload: {\n      rooms,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const removeRooms = ({ rooms }) => {\n  if (rooms.length === 1) {\n    return {\n      type: ROOM,\n      payload: {\n        changeType: ChangeTypes.REMOVE,\n        room: rooms[0],\n      },\n    };\n  }\n\n  return {\n    type: ROOMS,\n    payload: {\n      rooms,\n      changeType: ChangeTypes.REMOVE,\n    },\n  };\n};\n\nexport const followRoom = ({ room, user }) => (dispatch) => {\n  batch(() => {\n    dispatch(updateRooms({ rooms: [room] }));\n    dispatch(updateUsers({ users: [user] }));\n  });\n};\n","import { batch } from 'react-redux';\n\nimport store from '../../redux/store';\nimport { createRooms, removeRooms, updateRooms } from '../../redux/actions/rooms';\nimport { ChangeTypes } from '../../redux/reducers/root';\nimport { updateUsers } from '../../redux/actions/users';\nimport { getCurrentUser } from '../../redux/selectors/users';\nimport { hasAccessTo } from '../../AccessCentral';\n\nconst events = {\n  ROOM: 'room',\n  FOLLOWER: 'follower',\n  FOLLOW: 'followRoom',\n};\n\nexport const room = () => ({\n  event: events.ROOM,\n  callback: ({ error, data }) => {\n    if (data && data.room) {\n      const { room: sentRoom, changeType } = data;\n\n      if (sentRoom.isWhisper && sentRoom.spyMode) {\n        const currentUser = getCurrentUser(store.getState());\n\n        const { adminAccess } = hasAccessTo({\n          objectToAccess: sentRoom,\n          toAuth: currentUser,\n        });\n\n        if (!adminAccess) {\n          return;\n        }\n      }\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createRooms({ rooms: [sentRoom] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateRooms({ rooms: [sentRoom] }));\n      } else if (changeType === ChangeTypes.REMOVE) {\n        store.dispatch(removeRooms({ rooms: [sentRoom] }));\n      }\n\n      return;\n    }\n\n    console.log(events.ROOM, error, data);\n  },\n});\n\nexport const follow = () => ({\n  event: events.FOLLOW,\n  callback: ({ error, data }) => {\n    if (data && data.room && data.user) {\n      store.dispatch(async (dispatch) => {\n        batch(() => {\n          dispatch(updateRooms({ rooms: [data.room] }));\n          dispatch(updateUsers({ users: [data.user] }));\n        });\n      });\n\n      return;\n    }\n\n    console.log(events.FOLLOW, error, data);\n  },\n});\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { createUsers, updateUsers } from '../../redux/actions/users';\n\nconst events = {\n  USER: 'user',\n};\n\nexport const user = () => ({\n  event: events.USER,\n  callback: ({ error, data }) => {\n    if (data && data.user) {\n      const { user: sentUser, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createUsers({ users: [sentUser] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateUsers({ users: [sentUser] }));\n      }\n\n      return;\n    }\n\n    console.log(events.USER, error, data);\n  },\n});\n","import { ALIASID } from '../actionTypes';\nimport { removeAliasId, setAliasId } from '../../StorageManager';\n\nexport const changeAliasId = ({ aliasId }) => {\n  if (!aliasId) {\n    removeAliasId();\n\n    return {\n      type: ALIASID,\n      payload: { reset: true },\n    };\n  }\n\n  setAliasId(aliasId);\n\n  return {\n    type: ALIASID,\n    payload: {\n      aliasId,\n    },\n  };\n};\n","import { batch } from 'react-redux';\n\nimport { ALIAS, ALIASES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\nimport { createRooms } from './rooms';\nimport { createWallets } from './wallets';\n\nexport const updateAliases = ({ aliases }) => {\n  if (aliases.length === 1) {\n    return {\n      type: ALIAS,\n      payload: {\n        alias: aliases[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: ALIASES,\n    payload: {\n      aliases,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createAliases = ({ aliases }) => {\n  if (aliases.length === 1) {\n    return {\n      type: ALIAS,\n      payload: {\n        alias: aliases[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: ALIASES,\n    payload: {\n      aliases,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const createNewAlias = ({\n  alias,\n  wallet,\n  room,\n  // forum,\n  // gameCode,\n}) => async (dispatch) => {\n  batch(() => {\n    dispatch(createAliases({ aliases: [alias] }));\n    dispatch(createRooms({ rooms: [room] }));\n    dispatch(createWallets({ wallets: [wallet] }));\n    // dispatch(createForums({ forums: [forum] }));\n    // dispatch(createGameCodes({ gameCodes: [gameCode] }));\n  });\n};\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { createAliases, updateAliases } from '../../redux/actions/aliases';\n\nconst events = {\n  ALIAS: 'alias',\n};\n\nexport const alias = () => ({\n  event: events.ALIAS,\n  callback: ({ error, data }) => {\n    if (data && data.alias) {\n      const { alias: sentAlias, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createAliases({ aliases: [sentAlias] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateAliases({ aliases: [sentAlias] }));\n      }\n\n      return;\n    }\n\n    console.log(events.ALIAS, error, data);\n  },\n});\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { createWallets, updateWallets } from '../../redux/actions/wallets';\n\nconst events = {\n  WALLET: 'wallet',\n};\n\nexport const wallet = () => ({\n  event: events.WALLET,\n  callback: ({ error, data }) => {\n    if (data && data.wallet) {\n      const { wallet: sentWallet, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createWallets({ wallets: [sentWallet] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateWallets({ wallets: [sentWallet] }));\n      }\n\n      return;\n    }\n\n    console.log(events.WALLET, error, data);\n  },\n});\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { doTransaction, updateTransactions } from '../../redux/actions/transactions';\n\nconst events = {\n  TRANSACTION: 'transaction',\n};\n\nexport const transaction = () => ({\n  event: events.TRANSACTION,\n  callback: ({ error, data }) => {\n    if (data && data.transaction && (data.changeType === ChangeTypes.UPDATE || data.wallet)) {\n      const { transaction: sentTransaction, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(doTransaction(data));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateTransactions({ transactions: [sentTransaction] }));\n      }\n\n      return;\n    }\n\n    console.log(events.TRANSACTION, error, data);\n  },\n});\n","import { DOCFILE, DOCFILES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateDocFiles = ({ docFiles }) => {\n  if (docFiles.length === 1) {\n    return {\n      type: DOCFILE,\n      payload: {\n        docFile: docFiles[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: DOCFILES,\n    payload: {\n      docFiles,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createDocFiles = ({ docFiles }) => {\n  if (docFiles.length === 1) {\n    return {\n      type: DOCFILE,\n      payload: {\n        docFile: docFiles[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: DOCFILES,\n    payload: {\n      docFiles,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { createDocFiles, updateDocFiles } from '../../redux/actions/docFiles';\n\nconst events = {\n  DOCFILE: 'docFile',\n};\n\nexport const docFile = () => ({\n  event: events.DOCFILE,\n  callback: ({ error, data }) => {\n    if (data && data.docFile) {\n      const { docFile: sentDocFile, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createDocFiles({ docFiles: [sentDocFile] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateDocFiles({ docFiles: [sentDocFile] }));\n      }\n\n      return;\n    }\n\n    console.log(events.DOCFILE, error, data);\n  },\n});\n","import { batch } from 'react-redux';\n\nimport store from '../redux/store';\nimport { isOnline, isReconnecting } from '../redux/selectors/online';\nimport {\n  offline,\n  online,\n  startup,\n} from '../redux/actions/online';\nimport {\n  getDeviceId,\n  setDeviceId,\n  getToken as getStoredToken,\n  getUserId as getStoredUserId,\n  getAliasId as getStoredAliasId,\n} from '../StorageManager';\nimport {\n  logout as logoutAction,\n  login as loginAction,\n} from '../redux/actions/auth';\nimport { getUserId } from '../redux/selectors/userId';\nimport { chatMessage, whisperMessage } from './listeners/messages';\nimport { follow, room } from './listeners/rooms';\nimport { user } from './listeners/users';\nimport { changeAliasId } from '../redux/actions/aliasId';\nimport { alias } from './listeners/aliases';\nimport { wallet } from './listeners/wallets';\nimport { transaction } from './listeners/transactions';\nimport { docFile } from './listeners/docFiles';\nimport {\n  ALIASES, DEVICES,\n  DOCFILES, FORUMPOSTS,\n  FORUMS,\n  FORUMTHREADS, GAMECODES,\n  INVITATIONS,\n  MESSAGES,\n  ROOMS, SIMPLEMSGS,\n  TEAMS, TRANSACTIONS,\n  USERS, WALLETS,\n} from '../redux/actionTypes';\nimport { ChangeTypes } from '../redux/reducers/root';\nimport { createDevices } from '../redux/actions/devices';\n\nlet startupDone = false;\n\nconst socket = (() => {\n  let socketUri = typeof ioUri !== 'undefined' // eslint-disable-line no-undef\n    ? ioUri // eslint-disable-line no-undef\n    : '/';\n\n  if (process.env.NODE_ENV === 'development') {\n    socketUri = `${window.location.hostname}:8888`;\n  }\n\n  return window.io(socketUri, { forceNew: true });\n})();\n\nexport const SendEvents = {\n  ALIAS: 'createAlias',\n  USER: 'createUser',\n  MESSAGE: 'sendMessage',\n  ROOM: 'createRoom',\n  INVITATION: 'createInvitation',\n  DOCFILE: 'createDocFile',\n  FORUM: 'createForum',\n  FORUMPOST: 'createForumPost',\n  FORUMTHREAD: 'createForumThread',\n  GAMECODE: 'createGameCode',\n  SIMPLEMSG: 'sendSimpleMsg',\n  TEAM: 'createTeam',\n  TRANSACTION: 'createTransaction',\n  DEVICE: 'createDevice',\n  FOLLOW: 'followRoom',\n  GETMSGBYROOM: 'getMessagesByRoom',\n  REMOVEROOM: 'removeRoom',\n  UNLOCKDOCFILE: 'unlockDocFile',\n  UPDATEUSER: 'updateUser',\n  UPDATEALIAS: 'updateAlias',\n};\n\nexport const GetEvents = {\n  ALIASES: 'getAliases',\n  USERS: 'getUsers',\n  MESSAGES: 'getMessages',\n  ROOMS: 'getRooms',\n  INVITATIONS: 'getInvitations',\n  DOCFILES: 'getDocFiles',\n  FORUMS: 'getForums',\n  FORUMPOSTS: 'getForumPosts',\n  FORUMTHREADS: 'getForumThreads',\n  GAMECODES: 'getGameCodes',\n  SIMPLEMSGS: 'getSimpleMsgs',\n  TEAMS: 'getTeams',\n  TRANSACTIONS: 'getTransactions',\n  WALLETS: 'getWallets',\n  DEVICES: 'getDevices',\n};\n\nexport const ActionEvents = {\n  LOGIN: 'login',\n};\n\nexport const ListenerEvents = {\n  RECONNECT: 'reconnect',\n  STARTUP: 'startup',\n  DISCONNECT: 'disconnect',\n  MSGCHAT: 'chatMsg',\n  MSGWHISPER: 'whisper',\n};\n\n// export const EmitTypes = {\n//   FORUM: 'forum',\n//   FORUMTHREAD: 'forumThread',\n//   FORUMPOST: 'forumPost',\n\n//   DEVICE: 'device',\n//   DOCFILE: 'docFile',\n\n//   BROADCAST: 'broadcast',\n//   GAMECODE: 'gameCode',\n//   ALIAS: 'alias',\n//   CREATEPOSITION: 'createPosition',\n//   POSITION: 'position',\n\n//   TEAM: 'team',\n//   INVITATION: 'invitation',\n//   TEAMMEMBER: 'team member',\n//   LOGOUT: 'logout',\n//   BAN: 'ban',\n//   WALLET: 'wallet',\n//   TRANSACTION: 'transaction',\n//   TEAMSCORING: 'teamScoring',\n//   TERMINATE: 'terminate',\n//   SENDMSG: 'sendMessage',\n//   UPDATEPOSITION: 'updatePosition',\n//   UPDATEPOSITIONCOORDINATES: 'updatePositionCoordinates',\n//   ,\n//   BANUSER: 'banUser',\n//   UNBANUSER: 'unbanUser',\n//   VERIFYUSER: 'verifyUser',\n//   CHANGEPASSWORD: 'changePassword',\n//\n//   UPDATEWALLET: 'updateWallet',\n//   UNFOLLOW: 'unfollowRoom',\n//   CREATETRANSACTION: 'createTransaction',\n//   INVITETEAM: 'inviteToTeam',\n//   LEAVETEAM: 'leaveTeam',\n//   SIMPLEMSG: 'simpleMsg',\n//   INVITEROOM: 'inviteToRoom',\n//   DECLINEINVITE: 'decline',\n//   ACCEPTTEAM: 'acceptTeamInvitation',\n//   ACCEPTROOM: 'acceptRoomInvitation',\n//   SENDROOMINVITE: 'sendInvitationToRoom',\n//   GETUSERBYCODE: 'getUserByCode',\n//   USEGAMECODE: 'useGameCode',\n//   CONNECTUSER: 'connectUser',\n// };\n\nexport const addSocketListener = async ({ event, callback }) => {\n  socket.on(event, (params) => { console.log(event, params); callback(params); });\n};\n\nexport const reconnect = () => {\n  if (!isReconnecting(store.getState())) {\n    socket.disconnect();\n    socket.connect();\n  }\n};\n\n/**\n * Emit event through socket.io.\n * @param {string} event Event to emit.\n * @param {Object} [params] Parameters to send in the emit.\n */\nexport const emitSocketEvent = async (event, params = {}) => new Promise((resolve, reject) => {\n  const paramsToSend = params;\n  paramsToSend.token = getStoredToken();\n\n  if (!isOnline(store.getState())) {\n    reconnect();\n  }\n\n  socket.emit(event, paramsToSend, ({ error, data }) => {\n    if (error) {\n      reject(error);\n    } else {\n      resolve(data);\n    }\n  });\n});\n\nexport const retrieveAll = async ({ reset } = {}) => {\n  [\n    { type: USERS, event: GetEvents.USERS },\n    { type: ALIASES, event: GetEvents.ALIASES },\n    { type: TEAMS, event: GetEvents.TEAMS },\n    { type: ROOMS, event: GetEvents.ROOMS },\n    { type: MESSAGES, event: GetEvents.MESSAGES },\n    { type: INVITATIONS, event: GetEvents.INVITATIONS },\n    { type: DOCFILES, event: GetEvents.DOCFILES },\n    { type: FORUMS, event: GetEvents.FORUMS },\n    { type: FORUMTHREADS, event: GetEvents.FORUMTHREADS },\n    { type: FORUMPOSTS, event: GetEvents.FORUMPOSTS },\n    { type: GAMECODES, event: GetEvents.GAMECODES },\n    { type: SIMPLEMSGS, event: GetEvents.SIMPLEMSGS },\n    { type: WALLETS, event: GetEvents.WALLETS },\n    { type: TRANSACTIONS, event: GetEvents.TRANSACTIONS },\n    { type: DEVICES, event: GetEvents.DEVICES },\n  ].forEach((getter) => {\n    const { event, type } = getter;\n\n    emitSocketEvent(event, {})\n      .then((result) => {\n        console.log(event, result);\n\n        store.dispatch({\n          type,\n          payload: {\n            reset,\n            changeType: ChangeTypes.CREATE,\n            [type]: result[type],\n          },\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  });\n};\n\naddSocketListener({\n  event: ListenerEvents.RECONNECT,\n  callback: () => {\n    if (getUserId(store.getState())) {\n      emitSocketEvent('updateId', {})\n        .then(() => {\n          store.dispatch(online());\n          retrieveAll();\n        })\n        .catch((error) => {\n          console.log(error);\n          store.dispatch(logoutAction(retrieveAll));\n        });\n\n      return;\n    }\n\n    retrieveAll();\n  },\n});\n\naddSocketListener({\n  event: ListenerEvents.STARTUP,\n  callback: ({ data }) => {\n    const userId = getStoredUserId();\n    const token = getStoredToken();\n    const aliasId = getStoredAliasId();\n\n    if (!getDeviceId() || getDeviceId() === '1234567890123456') {\n      console.log(getDeviceId());\n      emitSocketEvent('createDevice', { device: {}, firstStartup: true })\n        .then(({ device }) => {\n          setDeviceId(device.objectId);\n          store.dispatch(createDevices({ devices: [device] }));\n        })\n        .catch((error) => console.log('device create', error));\n    }\n\n    store.dispatch(startup(data));\n\n    if (userId || token) {\n      emitSocketEvent('updateId', {})\n        .then(() => {\n          batch(() => {\n            if (aliasId) {\n              store.dispatch(changeAliasId({ aliasId }));\n            }\n\n            store.dispatch(loginAction({\n              userId,\n              token,\n              retrieveAll,\n            }));\n          });\n        })\n        .catch((error) => {\n          console.log(error);\n          store.dispatch(logoutAction(retrieveAll));\n        });\n\n      return;\n    }\n\n    retrieveAll({ reset: true });\n  },\n});\n\naddSocketListener({\n  event: ListenerEvents.DISCONNECT,\n  callback: () => {\n    store.dispatch(offline());\n\n    reconnect();\n  },\n});\n\n// Messages\naddSocketListener(chatMessage());\naddSocketListener(whisperMessage());\n\n// Rooms\naddSocketListener(room());\naddSocketListener(follow());\n\n// User\naddSocketListener(user());\n\n// Aliases\naddSocketListener(alias());\n\n// Wallets\naddSocketListener(wallet());\n\n// Transactions\naddSocketListener(transaction());\n\n// DocFiles\naddSocketListener(docFile());\n","import { DEVICE, DEVICES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateDevices = ({ devices }) => {\n  if (devices.length === 1) {\n    return {\n      type: DEVICE,\n      payload: {\n        device: devices[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: DEVICES,\n    payload: {\n      devices,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createDevices = ({ devices }) => {\n  if (devices.length === 1) {\n    return {\n      type: DEVICE,\n      payload: {\n        device: devices[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: DEVICES,\n    payload: {\n      devices,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import {\n  SendEvents,\n  emitSocketEvent,\n} from '../SocketManager';\nimport { getDeviceId } from '../../StorageManager';\nimport store from '../../redux/store';\nimport { createNewUser, updateUsers } from '../../redux/actions/users';\n\nexport const createUser = async (params) => {\n  const paramsToSend = params;\n  paramsToSend.user.registerDevice = getDeviceId();\n\n  const result = await emitSocketEvent(SendEvents.USER, paramsToSend);\n\n  await store.dispatch(createNewUser(result));\n\n  return result;\n};\n\nexport const updateUser = async ({\n  userId,\n  user,\n  image,\n  resetImage,\n}) => {\n  const result = await emitSocketEvent(SendEvents.UPDATEUSER, {\n    userId,\n    user,\n    image,\n    options: { resetImage },\n  });\n\n  console.log(result);\n\n  await store.dispatch(updateUsers({ users: [result.user] }));\n\n  return result;\n};\n","import createCachedSelector from 're-reselect';\n\nexport const getAllDocFiles = (state) => state.docFiles;\n\nexport const getDocFileById = (state, { id }) => state.docFiles.get(id);\n\nexport const getDocFilesForList = createCachedSelector(\n  [getAllDocFiles],\n  (docFiles) => [...docFiles.values()]\n    .map(({\n      objectId,\n      title,\n      ownerAliasId,\n      ownerId,\n      isLocked,\n    }) => ({\n      objectId,\n      title,\n      ownerAliasId,\n      ownerId,\n      isLocked,\n    })),\n)(() => 'docFile-ids-names');\n","import store from './redux/store';\nimport { changeWindowOrder } from './redux/actions/windowOrder';\nimport { updateUser } from './socket/actions/users';\nimport { getCurrentUser, getCurrentUserRooms } from './redux/selectors/users';\nimport { getNewsRoomId } from './redux/selectors/config';\nimport { WindowTypes } from './redux/reducers/windowOrder';\nimport { getDocFileById } from './redux/selectors/docFiles';\n\nexport const MessageTypes = {\n  NOTIFICATION: 'notification',\n  WINDOW: 'window',\n  PUSHTOKEN: 'pushToken',\n  MESSAGE: 'message',\n  LOGIN: 'login',\n  LOGOUT: 'logout',\n  QR: 'qr',\n  QUIT: 'quit',\n};\n\nexport const postMessage = ({ type, data }) => {\n  if (window.ReactNativeWebView && window.ReactNativeWebView.postMessage) {\n    window.ReactNativeWebView.postMessage(JSON.stringify({ type, data }));\n  }\n};\n\nconst onNotification = (data) => {\n  alert(JSON.stringify(data));\n};\n\nconst onWindow = ({ windowType, value }) => {\n  store.dispatch(changeWindowOrder({ windows: [{ id: windowType, value: { ...value, type: windowType } }] }));\n};\n\nconst onPushToken = ({ token }) => {\n  const currentUser = getCurrentUser(store.getState());\n\n  if (!currentUser.isAnonymous && token !== currentUser.pushToken) {\n    updateUser({\n      userId: currentUser.objectId,\n      user: { pushToken: token },\n    })\n      .catch((error) => console.log(error));\n  }\n};\n\nconst onMessage = ({ message }) => {\n  alert(JSON.stringify(message));\n};\n\nconst onQr = (data) => {\n  try {\n    const {\n      ri: roomId,\n      rp: password,\n      mi: messageId,\n\n      wi: toWalletId,\n      a: amount,\n\n      m: message,\n\n      di: docFileId,\n      c: code,\n\n      ti: teamId,\n\n      ii: identityId,\n    } = data;\n    const newsRoomId = getNewsRoomId(store.getState());\n\n    if (roomId && messageId && roomId === newsRoomId) {\n      store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.NEWS, value: { type: WindowTypes.NEWS, messageId } }] }));\n    } else if (roomId) {\n      const roomIds = getCurrentUserRooms(store.getState());\n\n      if (roomIds.includes(roomId)) {\n        store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT, roomId, messageId } }] }));\n      } else {\n        store.dispatch(changeWindowOrder({\n          windows: [{\n            id: `${WindowTypes.DIALOGJOINROOM}-${roomId}`,\n            value: {\n              roomId,\n              messageId,\n              password,\n              type: WindowTypes.DIALOGJOINROOM,\n            },\n          }],\n        }));\n      }\n    } else if (toWalletId) {\n      store.dispatch(changeWindowOrder({ windows: [{ id: `${WindowTypes.DIALOGCREATETRANSACTION}-${toWalletId}`, value: { type: WindowTypes.DIALOGCREATETRANSACTION, toWalletId, amount } }] }));\n    } else if (docFileId) {\n      const docFile = getDocFileById(store.getState(), { id: docFileId });\n\n      if (docFile.isLocked) {\n        store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGUNLOCKFILE, value: { type: WindowTypes.DIALOGUNLOCKFILE, docFileId, code } }] }));\n      } else {\n        store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DOCFILEVIEW, value: { type: WindowTypes.DOCFILEVIEW, docFileId } }] }));\n      }\n    } else if (teamId) {\n      store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.TEAMS, value: { type: WindowTypes.TEAMS, teamId } }] }));\n    } else if (identityId) {\n      store.dispatch(changeWindowOrder({ windows: [{ id: `${WindowTypes.DIALOGPROFILE}-${identityId}`, value: { type: WindowTypes.DIALOGPROFILE, identityId } }] }));\n    } else if (message) {\n      alert(message);\n    }\n  } catch (error) {\n    alert(`Invalid data ${data}`);\n  }\n};\n\nconst onMessageListener = (event) => {\n  if (event.data) {\n    const { type, data } = JSON.parse(event.data);\n\n    switch (type) {\n      case MessageTypes.NOTIFICATION: {\n        onNotification(data);\n\n        break;\n      }\n      case MessageTypes.WINDOW: {\n        onWindow(data);\n\n        break;\n      }\n      case MessageTypes.PUSHTOKEN: {\n        onPushToken(data);\n\n        break;\n      }\n      case MessageTypes.MESSAGE: {\n        onMessage(data);\n\n        break;\n      }\n      case MessageTypes.QR: {\n        onQr(data);\n\n        break;\n      }\n      default: {\n        console.log('Unknown message', event.nativeEvent.data);\n\n        break;\n      }\n    }\n  }\n};\n\nif (window.ReactNativeWebView) {\n  window.addEventListener('message', onMessageListener);\n\n  document.addEventListener('message', onMessageListener);\n}\n","import { batch } from 'react-redux';\n\nimport { ALIASID, USERID } from '../actionTypes';\nimport { resetUser, setToken, setUserId } from '../../StorageManager';\nimport { postMessage, MessageTypes } from '../../Messenger';\nimport store from '../store';\nimport { resetWindows } from './windowOrder';\n\nexport const login = ({ userId, token, retrieveAll }) => {\n  setToken(token);\n  setUserId(userId);\n\n  retrieveAll({ reset: true });\n\n  postMessage({ type: MessageTypes.LOGIN, data: { userId } });\n\n  return {\n    type: USERID,\n    payload: { userId },\n  };\n};\n\nexport const logout = (retrieveAll) => {\n  store.dispatch(resetWindows());\n  resetUser();\n  retrieveAll({ reset: true });\n\n  return (dispatch) => {\n    batch(() => {\n      dispatch({\n        type: USERID,\n        payload: { reset: true },\n      });\n\n      dispatch({\n        type: ALIASID,\n        payload: { reset: true },\n      });\n    });\n  };\n};\n","import store from '../../redux/store';\nimport { login as loginAction, logout as logoutAction } from '../../redux/actions/auth';\nimport { ActionEvents, emitSocketEvent, retrieveAll } from '../SocketManager';\n\nexport const login = async (username, password) => {\n  const result = await emitSocketEvent(ActionEvents.LOGIN, { user: { username, password } });\n\n  const { user, token } = result;\n\n  store.dispatch(loginAction({ userId: user.objectId, token, retrieveAll }));\n\n  return result;\n};\n\nexport const logout = async () => {\n  store.dispatch(logoutAction(retrieveAll));\n};\n","import React, { useLayoutEffect, useRef } from 'react';\nimport {\n  bool,\n  func,\n  node,\n  string,\n} from 'prop-types';\n\nimport './ListItem.scss';\n\nconst ListItem = React.forwardRef(({\n  children,\n  onClick,\n  elementId,\n  scrollTo,\n  stopPropagation = false,\n  className = '',\n}, ref) => {\n  const itemRef = useRef(null);\n\n  useLayoutEffect(() => {\n    if (scrollTo && itemRef.current) {\n      itemRef.current.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n      setTimeout(() => itemRef.current.scrollIntoView({ behavior: 'smooth', block: 'nearest' }), 300);\n    }\n  }, [scrollTo]);\n\n  return (\n    <li\n      ref={(element) => {\n        if (ref) {\n          // eslint-disable-next-line no-param-reassign\n          ref.current = element;\n        }\n\n        itemRef.current = element;\n      }}\n      id={elementId}\n      className={`ListItem ${onClick ? 'clickable' : ''} ${className}`}\n      onClick={(event) => {\n        if (onClick) {\n          onClick(event);\n        }\n\n        if (event.target.parentElement.tagName === 'UL') {\n          event.target.parentElement.click();\n        }\n\n        if (stopPropagation) {\n          event.stopPropagation();\n        }\n      }}\n    >\n      {children}\n    </li>\n  );\n});\n\nexport default React.memo(ListItem);\n\nListItem.propTypes = {\n  children: node,\n  onClick: func,\n  className: string,\n  stopPropagation: bool,\n  elementId: string,\n  scrollTo: bool,\n};\n\nListItem.defaultProps = {\n  onClick: undefined,\n  className: '',\n  stopPropagation: false,\n  elementId: undefined,\n  children: undefined,\n  scrollTo: false,\n};\n","var _line, _line2, _line3;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgMenu = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-menu\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 3,\n    y1: 12,\n    x2: 21,\n    y2: 12\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 3,\n    y1: 6,\n    x2: 21,\n    y2: 6\n  })), _line3 || (_line3 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 3,\n    y1: 18,\n    x2: 21,\n    y2: 18\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgMenu, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/menu.74354d60.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _polyline, _line;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgLogOut = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-log-out\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"\n  })), _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"16 17 21 12 16 7\"\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 21,\n    y1: 12,\n    x2: 9,\n    y2: 12\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgLogOut, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/log-out.1ebf9c2e.svg\";\nexport { ForwardRef as ReactComponent };","var _circle, _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgSettings = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-settings\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 12,\n    cy: 12,\n    r: 3\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgSettings, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/settings.2943c33c.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _circle;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgUser = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-user\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 12,\n    cy: 7,\n    r: 4\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgUser, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/user.1a85769b.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _polyline, _line;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgLogIn = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-log-in\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4\"\n  })), _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"10 17 15 12 10 7\"\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 15,\n    y1: 12,\n    x2: 3,\n    y2: 12\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgLogIn, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/log-in.08a15613.svg\";\nexport { ForwardRef as ReactComponent };","var _line, _line2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgPlus = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-plus\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 12,\n    y1: 5,\n    x2: 12,\n    y2: 19\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 5,\n    y1: 12,\n    x2: 19,\n    y2: 12\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgPlus, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/plus.e11d0348.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport List from '../../../common/lists/List/List';\nimport { AccessLevels } from '../../../../AccessCentral';\nimport { logout } from '../../../../socket/actions/auth';\nimport { getCurrentAccessLevel } from '../../../../redux/selectors/users';\nimport ListItem from '../../../common/lists/List/Item/ListItem';\nimport { ReactComponent as Menu } from '../../../../icons/menu.svg';\nimport { ReactComponent as LogOut } from '../../../../icons/log-out.svg';\nimport { ReactComponent as Settings } from '../../../../icons/settings.svg';\nimport { ReactComponent as User } from '../../../../icons/user.svg';\nimport { ReactComponent as LogIn } from '../../../../icons/log-in.svg';\nimport { ReactComponent as Plus } from '../../../../icons/plus.svg';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder } from '../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport { getPermissions } from '../../../../redux/selectors/config';\nimport { MessageTypes, postMessage } from '../../../../Messenger';\n\nimport './MainList.scss';\n\nconst MainList = () => {\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const permissions = useSelector(getPermissions);\n  const items = [];\n\n  if (accessLevel === permissions.CreateUser.accessLevel) {\n    items.push(\n      <ListItem\n        key=\"register\"\n        onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGREGISTER, value: { type: WindowTypes.DIALOGREGISTER } }] }))}\n      >\n        <Plus />\n        <span>Create user</span>\n      </ListItem>,\n    );\n  }\n\n  if (accessLevel === AccessLevels.ANONYMOUS) {\n    items.push(\n      <ListItem\n        key=\"login\"\n        onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGLOGIN, value: { type: WindowTypes.DIALOGLOGIN } }] }))}\n      >\n        <LogIn />\n        <span>Login</span>\n      </ListItem>,\n    );\n  }\n\n  if (accessLevel >= permissions.CreateAlias.accessLevel) {\n    items.push(\n      <ListItem\n        key=\"alias\"\n        onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCREATEALIAS, value: { type: WindowTypes.DIALOGCREATEALIAS } }] }))}\n      >\n        <Plus />\n        <span>Create alias</span>\n      </ListItem>,\n    );\n  }\n\n  if (accessLevel >= AccessLevels.STANDARD) {\n    items.push(\n      <ListItem\n        key=\"profile\"\n        onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGPROFILE, value: { type: WindowTypes.DIALOGPROFILE } }] }))}\n      >\n        <User />\n        <span>Your profile</span>\n      </ListItem>,\n    );\n  }\n\n  if (accessLevel >= AccessLevels.STANDARD) {\n    items.push(\n      <ListItem\n        key=\"settings\"\n        onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCONFIGSYSTEM, value: { type: WindowTypes.DIALOGCONFIGSYSTEM } }] }))}\n      >\n        <Settings />\n        <span>Settings</span>\n      </ListItem>,\n    );\n    items.push(\n      <ListItem\n        key=\"logout\"\n        onClick={() => {\n          logout();\n        }}\n      >\n        <LogOut />\n        <span>Logout</span>\n      </ListItem>,\n    );\n  }\n\n  if (window.ReactNativeWebView) {\n    items.push(\n      <ListItem\n        key=\"quit\"\n        onClick={() => {\n          postMessage({ type: MessageTypes.QUIT, data: {} });\n        }}\n      >\n        <span>Shutdown</span>\n      </ListItem>,\n    );\n  }\n\n  return (\n    <List\n      dropdown\n      className=\"MainList\"\n      title={<Menu />}\n    >\n      {items}\n    </List>\n  );\n};\n\nexport default React.memo(MainList);\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgChat = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-message-square\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgChat, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/chat.20a18654.svg\";\nexport { ForwardRef as ReactComponent };","var _polygon, _line, _line2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgMap = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-map\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _polygon || (_polygon = /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6\"\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 8,\n    y1: 2,\n    x2: 8,\n    y2: 18\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 16,\n    y1: 6,\n    x2: 16,\n    y2: 22\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgMap, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/map.5a12a8a8.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgWallet = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20 12V8H6a2 2 0 01-2-2c0-1.1.9-2 2-2h12v4\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 6v12c0 1.1.9 2 2 2h14v-4\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18 12a2 2 0 00-2 2c0 1.1.9 2 2 2h4v-4h-4z\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgWallet, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/wallet.acfa4032.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _polyline, _line, _line2, _polyline2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgFile = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-file-text\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"\n  })), _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"14 2 14 8 20 8\"\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 16,\n    y1: 13,\n    x2: 8,\n    y2: 13\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 16,\n    y1: 17,\n    x2: 8,\n    y2: 17\n  })), _polyline2 || (_polyline2 = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"10 9 9 9 8 9\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgFile, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/file.621ca6ea.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgFiles = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8c.4 0 .8-.2 1.1-.5.3-.3.5-.7.5-1.1V6.5L15.5 2z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3 7.6v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15 2v5h5\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgFiles, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/files.f3e60c98.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _circle;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgNews = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-rss\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 11a9 9 0 0 1 9 9\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 4a16 16 0 0 1 16 16\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 5,\n    cy: 19,\n    r: 1\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgNews, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/news.1ff917ca.svg\";\nexport { ForwardRef as ReactComponent };","var _polygon, _polyline, _polyline2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgLayers = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-layers\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _polygon || (_polygon = /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"12 2 2 7 12 12 22 7 12 2\"\n  })), _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"2 17 12 22 22 17\"\n  })), _polyline2 || (_polyline2 = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"2 12 12 17 22 12\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgLayers, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/layers.62219707.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _rect2, _rect3, _rect4;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgApps = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 3,\n    y: 3,\n    width: 7,\n    height: 9\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 14,\n    y: 3,\n    width: 7,\n    height: 5\n  })), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 14,\n    y: 12,\n    width: 7,\n    height: 9\n  })), _rect4 || (_rect4 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 3,\n    y: 16,\n    width: 7,\n    height: 5\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgApps, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/apps.71617d10.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _circle, _path2, _path3;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgUsers = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-users\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 9,\n    cy: 7,\n    r: 4\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23 21v-2a4 4 0 0 0-3-3.87\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16 3.13a4 4 0 0 1 0 7.75\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgUsers, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/users.487ace05.svg\";\nexport { ForwardRef as ReactComponent };","var _circle, _line, _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgTeam = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-globe\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 12,\n    cy: 12,\n    r: 10\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 2,\n    y1: 12,\n    x2: 22,\n    y2: 12\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgTeam, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/team.b708dac2.svg\";\nexport { ForwardRef as ReactComponent };","var _polyline, _line;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgTerminal = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-terminal\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"4 17 10 11 4 5\"\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 12,\n    y1: 19,\n    x2: 20,\n    y2: 19\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgTerminal, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/terminal.50ca7fa9.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgHeart = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-heart\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgHeart, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/heart.29140263.svg\";\nexport { ForwardRef as ReactComponent };","var _polyline, _line, _path, _polyline2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgWrecking = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-upload-cloud\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"16 16 12 12 8 16\"\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 12,\n    y1: 12,\n    x2: 12,\n    y2: 21\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3\"\n  })), _polyline2 || (_polyline2 = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"16 16 12 12 8 16\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgWrecking, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/wrecking.cd85b5f8.svg\";\nexport { ForwardRef as ReactComponent };","export const getOrder = (state) => state.windowOrder;\n","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport List from '../../../common/lists/List/List';\nimport ListItem from '../../../common/lists/List/Item/ListItem';\nimport Button from '../../../common/sub-components/Button/Button';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder } from '../../../../redux/actions/windowOrder';\nimport { getCurrentAccessLevel, getIdentityOrTeamName } from '../../../../redux/selectors/users';\nimport { AccessLevels } from '../../../../AccessCentral';\n\nimport { ReactComponent as Chat } from '../../../../icons/chat.svg';\nimport { ReactComponent as Map } from '../../../../icons/map.svg';\nimport { ReactComponent as Wallet } from '../../../../icons/wallet.svg';\nimport { ReactComponent as File } from '../../../../icons/file.svg';\nimport { ReactComponent as Files } from '../../../../icons/files.svg';\nimport { ReactComponent as News } from '../../../../icons/news.svg';\nimport { ReactComponent as Layers } from '../../../../icons/layers.svg';\nimport { ReactComponent as Apps } from '../../../../icons/apps.svg';\nimport { ReactComponent as Users } from '../../../../icons/users.svg';\nimport { ReactComponent as Team } from '../../../../icons/team.svg';\nimport { ReactComponent as Terminal } from '../../../../icons/terminal.svg';\nimport { ReactComponent as Heart } from '../../../../icons/heart.svg';\nimport { ReactComponent as Wrecking } from '../../../../icons/wrecking.svg';\nimport { ReactComponent as User } from '../../../../icons/user.svg';\nimport { getOrder } from '../../../../redux/selectors/windowOrder';\nimport { getDocFileById } from '../../../../redux/selectors/docFiles';\n\nimport './OpenApps.scss';\n\nconst OpenApps = () => {\n  const order = useSelector(getOrder);\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const otherWindows = [];\n\n  const changeOrder = useCallback(({ id, value }) => store.dispatch(changeWindowOrder({ windows: [{ id, value }] })), []);\n\n  order.forEach((value, key) => {\n    if (![WindowTypes.CHAT, WindowTypes.NEWS, WindowTypes.DOCFILEDIR, WindowTypes.WORLDMAP, WindowTypes.WALLET].includes(key)) {\n      let title;\n      let icon;\n\n      switch (value.type) {\n        case WindowTypes.DIALOGPROFILE: {\n          icon = <User />;\n\n          if (!value.identityId) {\n            title = 'Your profile';\n          } else {\n            title = getIdentityOrTeamName(store.getState(), { id: value.identityId }).name;\n          }\n\n          break;\n        }\n        case WindowTypes.DOCFILEVIEW: {\n          icon = <File />;\n          title = getDocFileById(store.getState(), { id: value.docFileId }).title;\n\n          break;\n        }\n        default: {\n          icon = <Layers />;\n          title = key;\n\n          break;\n        }\n      }\n\n      otherWindows.push(\n        <ListItem\n          className=\"other\"\n          key={key}\n        >\n          <Button\n            onClick={() => changeOrder({ id: key, value })}\n          >\n            {icon}\n          </Button>\n          <span>{title}</span>\n        </ListItem>,\n      );\n    }\n  });\n\n  return (\n    <div className=\"OpenApps\">\n      <List\n        dropdown\n        className=\"apps\"\n        title={<Apps />}\n      >\n        <ListItem key=\"chat\">\n          <Button\n            key=\"chat\"\n            className={`${order.get(WindowTypes.CHAT) && order.get(WindowTypes.CHAT).index === order.size ? 'active' : ''}`}\n            onClick={() => changeOrder({ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT } })}\n          >\n            <Chat />\n          </Button>\n          <span>Chat</span>\n        </ListItem>\n        <ListItem key=\"news\">\n          <Button\n            key=\"news\"\n            className={`${order.get(WindowTypes.NEWS) && order.get(WindowTypes.NEWS).index === order.size ? 'active' : ''}`}\n            onClick={() => changeOrder({ id: WindowTypes.NEWS, value: { type: WindowTypes.NEWS } })}\n          >\n            <News />\n          </Button>\n          <span>News</span>\n        </ListItem>\n        <ListItem key=\"docFile\">\n          <Button\n            key=\"docFile\"\n            className={`${order.get(WindowTypes.DOCFILEDIR) && order.get(WindowTypes.DOCFILEDIR).index === order.size ? 'active' : ''}`}\n            onClick={() => changeOrder({ id: WindowTypes.DOCFILEDIR, value: { type: WindowTypes.DOCFILEDIR } })}\n          >\n            <Files />\n          </Button>\n          <span>Files</span>\n        </ListItem>\n        {/*<ListItem key=\"worldMap\">*/}\n        {/*  <Button*/}\n        {/*    key=\"worldMap\"*/}\n        {/*    className={`${order.get(WindowTypes.WORLDMAP) && order.get(WindowTypes.WORLDMAP).index === order.size ? 'active' : ''}`}*/}\n        {/*    onClick={() => changeOrder({ id: WindowTypes.WORLDMAP, value: { type: WindowTypes.WORLDMAP } })}*/}\n        {/*  >*/}\n        {/*    <Map />*/}\n        {/*  </Button>*/}\n        {/*  <span>Map</span>*/}\n        {/*</ListItem>*/}\n        {accessLevel >= AccessLevels.STANDARD && (\n          <ListItem key=\"wallet\">\n            <Button\n              key=\"wallet\"\n              className={`${order.get(WindowTypes.WALLET) && order.get(WindowTypes.WALLET).index === order.size ? 'active' : ''}`}\n              onClick={() => changeOrder({ id: WindowTypes.WALLET, value: { type: WindowTypes.WALLET } })}\n            >\n              <Wallet />\n            </Button>\n            <span>Wallet</span>\n          </ListItem>\n        )}\n        <ListItem key=\"identities\">\n          <Button\n            key=\"identities\"\n            className={`${order.get(WindowTypes.IDENTITIES) && order.get(WindowTypes.IDENTITIES).index === order.size ? 'active' : ''}`}\n            onClick={() => changeOrder({ id: WindowTypes.IDENTITIES, value: { type: WindowTypes.IDENTITIES } })}\n          >\n            <Users />\n          </Button>\n          <span>Users</span>\n        </ListItem>\n        <ListItem\n          className=\"faded\"\n          key=\"teams\"\n        >\n          <Button\n            key=\"Teams\"\n            onClick={() => {}}\n          >\n            <Team />\n          </Button>\n          <span>Teams</span>\n        </ListItem>\n        <ListItem\n          className=\"faded\"\n          key=\"terminal\"\n        >\n          <Button\n            key=\"terminal\"\n            onClick={() => {}}\n          >\n            <Terminal />\n          </Button>\n          <span>Terminal</span>\n        </ListItem>\n        <ListItem\n          key=\"wrecking\"\n          className=\"faded\"\n        >\n          <Button\n            key=\"wrecking\"\n            onClick={() => {}}\n          >\n            <Wrecking />\n          </Button>\n          <span>Wrecker Central</span>\n        </ListItem>\n        {/*<ListItem*/}\n        {/*  className=\"faded\"*/}\n        {/*  key=\"love\"*/}\n        {/*>*/}\n        {/*  <Button*/}\n        {/*    key=\"love\"*/}\n        {/*    onClick={() => {}}*/}\n        {/*  >*/}\n        {/*    <Heart />*/}\n        {/*  </Button>*/}\n        {/*  <span>Love Bureau</span>*/}\n        {/*</ListItem>*/}\n        {otherWindows}\n      </List>\n    </div>\n  );\n};\n\nexport default React.memo(OpenApps);\n","var _circle, _path, _line;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgHelp = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-help-circle\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 12,\n    cy: 12,\n    r: 10\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 12,\n    y1: 17,\n    x2: 12.01,\n    y2: 17\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgHelp, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/help.fdcad0d2.svg\";\nexport { ForwardRef as ReactComponent };","var _polyline;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgChevronLeft = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-chevron-left\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"15 18 9 12 15 6\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgChevronLeft, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/chevron-left.cf72922c.svg\";\nexport { ForwardRef as ReactComponent };","var _polyline;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgChevronRight = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-chevron-right\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"9 18 15 12 9 6\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgChevronRight, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/chevron-right.600403ff.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _rect2, _rect3, _rect4;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgGrid = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-grid\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 3,\n    y: 3,\n    width: 7,\n    height: 7\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 14,\n    y: 3,\n    width: 7,\n    height: 7\n  })), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 14,\n    y: 14,\n    width: 7,\n    height: 7\n  })), _rect4 || (_rect4 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 3,\n    y: 14,\n    width: 7,\n    height: 7\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgGrid, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/grid.c83c9593.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _path, _rect2, _path2, _rect3, _path3, _path4, _path5, _path6, _path7, _path8;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgQrCode = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 2,\n    y: 2,\n    width: 8,\n    height: 8\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 6h.01\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 14,\n    y: 2,\n    width: 8,\n    height: 8\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18 6h.01\"\n  })), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 2,\n    y: 14,\n    width: 8,\n    height: 8\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 18h.01\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 14h.01\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18 18h.01\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18 22h4v-4\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 18v4\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22 14h-4\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgQrCode, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/qr-code.7dcb5264.svg\";\nexport { ForwardRef as ReactComponent };","export const getInterfaceConfig = (state) => state.interfaceConfig;\n\nexport const getHideMenu = (state) => state.interfaceConfig.hideMenu;\n","import { INTERFACECONFIG } from '../actionTypes';\n\nexport const changeInterfaceConfig = ({ hideMenu, toggleHideMenu }) => ({\n  type: INTERFACECONFIG,\n  payload: {\n    hideMenu,\n    toggleHideMenu,\n  },\n});\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { bool, node } from 'prop-types';\n\nimport { getCurrentUserIdentitiesNames } from '../../../../redux/selectors/users';\nimport { getCurrentIdentityId } from '../../../../redux/selectors/userId';\nimport List from '../List/List';\nimport ListItem from '../List/Item/ListItem';\nimport store from '../../../../redux/store';\nimport { changeAliasId } from '../../../../redux/actions/aliasId';\nimport { ReactComponent as User } from '../../../../icons/user.svg';\nimport { getAliasById } from '../../../../redux/selectors/aliases';\n\nimport './IdentityPicker.scss';\n\nconst IdentityPicker = ({ useIcon = false, hideOnSingle = true, label }) => {\n  const identities = useSelector(getCurrentUserIdentitiesNames);\n  const identityId = useSelector(getCurrentIdentityId);\n  const currentIdentity = identities.find((identity) => identity.objectId === identityId);\n\n  const items = (() => {\n    const filtered = useIcon ? identities : identities.filter((identity) => identity.objectId !== identityId);\n\n    return filtered.map((identity) => (\n      <ListItem\n        className={identity.objectId === identityId ? 'selected' : ''}\n        key={identity.objectId}\n        onClick={() => store.dispatch(changeAliasId({ aliasId: getAliasById(store.getState(), { id: identity.objectId }) ? identity.objectId : undefined }))}\n      >\n        {identity.name}\n      </ListItem>\n    ));\n  })();\n\n  const title = currentIdentity ? currentIdentity.name : '---';\n\n  return (\n    <div className={`IdentityPicker ${hideOnSingle && identities.length === 1 ? 'hide' : ''}`}>\n      {label}\n      <List\n        dropdown={identities.length > 1}\n        title={useIcon\n          ? <User />\n          : (\n            <>\n              <User />\n              <span>{title}</span>\n            </>\n          )}\n      >\n        {items}\n      </List>\n    </div>\n  );\n};\n\nexport default React.memo(IdentityPicker);\n\nIdentityPicker.propTypes = {\n  useIcon: bool,\n  hideOnSingle: bool,\n  label: node,\n};\n\nIdentityPicker.defaultProps = {\n  useIcon: undefined,\n  hideOnSingle: true,\n  label: undefined,\n};\n","import React, { useCallback, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport Clock from './sub-components/Clock/Clock';\nimport MainList from './lists/MainList/MainList';\nimport { isOnline } from '../../redux/selectors/online';\nimport OpenApps from './lists/OpenApps/OpenApps';\nimport Button from '../common/sub-components/Button/Button';\nimport { ReactComponent as Help } from '../../icons/help.svg';\nimport store from '../../redux/store';\nimport { changeMode, changeTarget } from '../../redux/actions/mode';\nimport { Modes } from '../../redux/reducers/mode';\nimport { getMode } from '../../redux/selectors/mode';\nimport { ReactComponent as Menu } from '../../icons/menu.svg';\nimport { ReactComponent as Wallet } from '../../icons/wallet.svg';\nimport { ReactComponent as Chat } from '../../icons/chat.svg';\nimport { ReactComponent as Map } from '../../icons/map.svg';\nimport { ReactComponent as News } from '../../icons/news.svg';\nimport { ReactComponent as File } from '../../icons/file.svg';\nimport { ReactComponent as Layers } from '../../icons/layers.svg';\nimport { ReactComponent as ClockIcon } from '../../icons/clock.svg';\nimport { ReactComponent as ChevronLeft } from '../../icons/chevron-left.svg';\nimport { ReactComponent as ChevronRight } from '../../icons/chevron-right.svg';\nimport { ReactComponent as Grid } from '../../icons/grid.svg';\nimport { ReactComponent as QR } from '../../icons/qr-code.svg';\nimport { getCurrentAccessLevel, getSystemConfig } from '../../redux/selectors/users';\nimport { AccessLevels } from '../../AccessCentral';\nimport { getHideMenu } from '../../redux/selectors/interfaceConfig';\nimport { reconnect } from '../../socket/SocketManager';\n\nimport './MenuBar.scss';\nimport { changeInterfaceConfig } from '../../redux/actions/interfaceConfig';\nimport IdentityPicker from '../common/lists/IdentityPicker/IdentityPicker';\nimport { MessageTypes, postMessage } from '../../Messenger';\n\nconst componentId = 'MenuBar';\n\nconst MenuBar = () => {\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const systemConfig = useSelector(getSystemConfig);\n  const hideMenu = useSelector(getHideMenu);\n  const mode = useSelector(getMode);\n  const online = useSelector(isOnline);\n  const classes = [];\n\n  if (!online) {\n    classes.push('warning');\n  }\n\n  useEffect(() => {\n    if (systemConfig.hideMenuBar) {\n      store.dispatch(changeInterfaceConfig({ hideMenu: true }));\n    } else {\n      store.dispatch(changeInterfaceConfig({ hideMenu: false }));\n    }\n  }, [systemConfig.hideMenuBar]);\n\n  const onHelp = useCallback(() => store.dispatch(changeMode({ mode: Modes.HELP, target: componentId })), []);\n\n  return (\n    <>\n      {\n        hideMenu\n          ? (\n            <div className=\"miniMenu\">\n              <Button\n                type=\"button\"\n                onClick={() => store.dispatch(changeInterfaceConfig({ toggleHideMenu: true }))}\n              >\n                <ChevronLeft />\n              </Button>\n            </div>\n          )\n          : (\n            <>\n              <div\n                key={componentId}\n                onClick={() => {\n                  if (!online) {\n                    reconnect();\n                  }\n\n                  if (mode.mode === Modes.HELP) {\n                    store.dispatch(changeTarget({ target: componentId }));\n                  }\n                }}\n                className={`${componentId} ${classes.join(' ')}`}\n                id={componentId}\n              >\n                <MainList key=\"mainList\" />\n                <OpenApps key=\"openApps\" />\n                {window.ReactNativeWebView && (\n                  <Button\n                    type=\"button\"\n                    onClick={() => postMessage({ type: MessageTypes.QR, data: {} })}\n                  >\n                    <QR />\n                  </Button>\n                )}\n                {accessLevel >= AccessLevels.STANDARD && (\n                  <IdentityPicker hideOnSingle={false} />\n                )}\n                <div className=\"rightAligned\">\n                  {!systemConfig.hideHelp && (\n                    <Button\n                      type=\"button\"\n                      className={`helpButton ${mode.mode === Modes.HELP && mode.target === componentId ? 'active' : ''}`}\n                      onClick={onHelp}\n                    >\n                      <Help />\n                    </Button>\n                  )}\n                  <Clock />\n                </div>\n                {mode.mode === Modes.HELP && mode.target === componentId && (\n                  <div className=\"helpOverlay\">\n                    <ul>\n                      <li>\n                        <p>Overview of the app, that has everything from chat and news feed to digital currency and map.</p>\n                        <p>{'Don\\'t be afraid to experiment! You won\\'t break the system.'}</p>\n                        <p>\n                          {'There is a '}\n                          <Help />\n                          {' button in each app. The scroll is usually hidden, but you can still scroll (like in this pop-up!). Apps and menu:'}\n                        </p>\n                      </li>\n                      <li>\n                        <Grid />\n                        <span>APPS Shows all apps.</span>\n                      </li>\n                      <li>\n                        <Chat />\n                        <span>CHAT Read and send messages. You have access to read Public without logging in.</span>\n                      </li>\n                      <li>\n                        <News />\n                        <span>NEWS Read the latest news. You need access to be able to create news.</span>\n                      </li>\n                      <li>\n                        <File />\n                        <span>FILES Read and create documents. You have access to read documents without logging in.</span>\n                      </li>\n                      <li>\n                        <Map />\n                        <span>MAP See the local, world map, track users and add new locations.</span>\n                      </li>\n                      <li>\n                        <Wallet />\n                        <span>WALLET Send and receive currency. You need to login to access your wallet.</span>\n                      </li>\n                      <li>\n                        <Menu />\n                        <span>MENU You can create a user, login, check your info, change settings and more here.</span>\n                      </li>\n                      <li>\n                        <Layers />\n                        <span>WINDOWS Other windows you have open (like dialog windows) will be listed here.</span>\n                      </li>\n                      <li>\n                        <ClockIcon />\n                        <span>TIME Click it to reveal the current time.</span>\n                      </li>\n                    </ul>\n                  </div>\n                )}\n              </div>\n              {systemConfig.hideMenuBar && accessLevel >= AccessLevels.STANDARD && (\n                <div className={`miniMenu minimize ${systemConfig.hideMenuBar ? 'hideOn' : ''}`}>\n                  <Button\n                    type=\"button\"\n                    onClick={() => store.dispatch(changeInterfaceConfig({ toggleHideMenu: true }))}\n                  >\n                    <ChevronRight />\n                  </Button>\n                </div>\n              )}\n            </>\n          )\n      }\n    </>\n  );\n};\n\nexport default React.memo(MenuBar);\n","var _polyline, _polyline2, _line, _line2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgMaximize = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-maximize-2\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"15 3 21 3 21 9\"\n  })), _polyline2 || (_polyline2 = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"9 21 3 21 3 15\"\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 21,\n    y1: 3,\n    x2: 14,\n    y2: 10\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 3,\n    y1: 21,\n    x2: 10,\n    y2: 14\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgMaximize, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/maximize.392be9ed.svg\";\nexport { ForwardRef as ReactComponent };","var _polyline, _polyline2, _line, _line2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgMinimize = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-minimize-2\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"4 14 10 14 10 20\"\n  })), _polyline2 || (_polyline2 = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"20 10 14 10 14 4\"\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 14,\n    y1: 10,\n    x2: 21,\n    y2: 3\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 3,\n    y1: 21,\n    x2: 10,\n    y2: 14\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgMinimize, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/minimize.ddbf3bc5.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useRef, useState } from 'react';\nimport {\n  bool,\n  func,\n  number,\n  string,\n} from 'prop-types';\n\nimport { ReactComponent as Maximize } from '../../../../icons/maximize.svg';\nimport { ReactComponent as Minimize } from '../../../../icons/minimize.svg';\n\nimport './Image.scss';\n\nconst Image = React.forwardRef(({\n  image,\n  onRemove,\n  width,\n  height,\n  scrollTo = false,\n  className = '',\n  altText = '',\n  fullImage,\n  fullWidth,\n  fullHeight,\n} = {}, ref) => {\n  const containerRef = useRef(null);\n  const [showFull, setShowFull] = useState(false);\n\n  useEffect(() => {\n    if (scrollTo && !showFull && containerRef.current) {\n      containerRef.current.scrollIntoView({ block: 'nearest' });\n    }\n  }, [showFull]);\n\n  const onClick = (event) => {\n    if (fullImage) {\n      setShowFull(!showFull);\n\n      event.stopPropagation();\n    }\n  };\n\n  return (\n    <div\n      role=\"complementary\"\n      ref={containerRef}\n      className={`Image ${showFull ? 'full' : ''} ${className}`}\n      onClick={onClick}\n    >\n      {onRemove && (\n        <div\n          className=\"remove clickable\"\n          role=\"complementary\"\n          onClick={(event) => {\n            onRemove();\n\n            event.stopPropagation();\n          }}\n        >\n          X\n        </div>\n      )}\n      {fullImage && (\n        <div\n          onClick={onClick}\n          className=\"zoom clickable\"\n          role=\"complementary\"\n        >\n          {showFull ? <Minimize /> : <Maximize />}\n        </div>\n      )}\n      <img\n        className={fullImage ? 'clickable' : ''}\n        onClick={onClick}\n        width={showFull ? fullWidth : width}\n        height={showFull ? fullHeight : height}\n        ref={ref}\n        src={showFull ? fullImage : image}\n        alt={altText}\n      />\n    </div>\n  );\n});\n\nexport default Image;\n\nImage.propTypes = {\n  image: string.isRequired,\n  altText: string,\n  className: string,\n  onRemove: func,\n  width: number,\n  height: number,\n  fullImage: string,\n  fullWidth: number,\n  fullHeight: number,\n  scrollTo: bool,\n};\n\nImage.defaultProps = {\n  altText: '',\n  className: '',\n  onRemove: undefined,\n  width: undefined,\n  height: undefined,\n  fullImage: undefined,\n  fullWidth: undefined,\n  fullHeight: undefined,\n  scrollTo: false,\n};\n","var _rect;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgSquare = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-square\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 3,\n    y: 3,\n    width: 18,\n    height: 18,\n    rx: 2,\n    ry: 2\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgSquare, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/square.81c33b96.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback } from 'react';\nimport { func, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport store from '../../../../../redux/store';\nimport { changeWindowOrder } from '../../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../../redux/reducers/windowOrder';\nimport ListItem from '../../List/Item/ListItem';\nimport { getIdentityImage, getIdentityOrTeamName } from '../../../../../redux/selectors/users';\nimport Image from '../../../sub-components/Image/Image';\nimport { ReactComponent as Square } from '../../../../../icons/square.svg';\n\nimport './IdentityItem.scss';\n\nconst IdentityItem = ({ identityId, onClick }) => {\n  const { name } = useSelector((state) => getIdentityOrTeamName(state, { id: identityId }));\n  const image = useSelector((state) => getIdentityImage(state, { id: identityId }));\n\n  const onClickCall = useCallback(() => {\n    if (onClick) {\n      onClick();\n    }\n\n    store.dispatch(changeWindowOrder({\n      windows: [{\n        id: `${WindowTypes.DIALOGPROFILE}-${identityId}`,\n        value: {\n          identityId,\n          type: WindowTypes.DIALOGPROFILE,\n        },\n      }],\n    }));\n  }, [identityId]);\n\n  return (\n    <ListItem\n      stopPropagation\n      className=\"IdentityItem\"\n      key={identityId}\n      onClick={onClickCall}\n    >\n      <div className=\"icon\">\n        {\n          image\n            ? <Image image={`/upload/images/${image.thumbFileName}`} />\n            : <Square />\n        }\n      </div>\n      <span>{name || '-'}</span>\n    </ListItem>\n  );\n};\n\nexport default React.memo(IdentityItem);\n\nIdentityItem.propTypes = {\n  identityId: string.isRequired,\n  onClick: func,\n};\n\nIdentityItem.defaultProps = {\n  onClick: undefined,\n};\n","import React, { useEffect, useState } from 'react';\nimport {\n  string,\n  bool,\n  func, number, oneOfType, node,\n} from 'prop-types';\nimport { useFormContext } from 'react-hook-form';\n\nimport './Input.scss';\n\nconst Input = ({\n  onChange,\n  name,\n  shouldEqual,\n  maxLength,\n  minLength,\n  checked,\n  defaultValue,\n  label,\n  type = 'text',\n  required = false,\n  placeholder = '',\n}) => {\n  const { register, getValues, unregister } = useFormContext();\n  const [hasFocus, setHasFocus] = useState(false);\n  const [isEmpty, setIsEmpty] = useState(false);\n\n  const checkEmpty = (event) => {\n    if (hasFocus && required) {\n      setIsEmpty(!event.target.value || event.target.value === '');\n    }\n  };\n\n  useEffect(() => () => unregister(name), []);\n\n  return (\n    <div>\n      {label && <span>{label}</span>}\n      <input\n        defaultChecked={checked}\n        minLength={minLength}\n        maxLength={maxLength}\n        required={required}\n        name={name}\n        ref={register({\n          maxLength,\n          minLength,\n          validate: (value) => (!shouldEqual || value === getValues(shouldEqual)) || `Must match ${shouldEqual}`,\n        })}\n        type={type}\n        defaultValue={defaultValue || ''}\n        className={`Input ${isEmpty ? 'empty' : ''}`}\n        onFocus={() => {\n          if (!hasFocus) {\n            setHasFocus(true);\n          } else if (isEmpty) {\n            setIsEmpty(false);\n          }\n        }}\n        onBlur={checkEmpty}\n        onChange={(event) => {\n          if (onChange) {\n            onChange(event.target.value);\n          }\n        }}\n        placeholder={placeholder}\n      />\n    </div>\n  );\n};\n\nexport default React.memo(Input);\n\nInput.propTypes = {\n  onChange: func,\n  required: bool,\n  placeholder: string,\n  type: string,\n  name: string.isRequired,\n  shouldEqual: string,\n  maxLength: number,\n  minLength: number,\n  checked: bool,\n  defaultValue: oneOfType([string, number]),\n  label: node,\n};\n\nInput.defaultProps = {\n  placeholder: '',\n  required: false,\n  type: 'text',\n  onChange: undefined,\n  shouldEqual: undefined,\n  maxLength: undefined,\n  minLength: undefined,\n  checked: undefined,\n  defaultValue: undefined,\n  label: undefined,\n};\n","var _path, _line, _line2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgDelete = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-delete\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z\"\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 18,\n    y1: 9,\n    x2: 12,\n    y2: 15\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 12,\n    y1: 9,\n    x2: 18,\n    y2: 15\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgDelete, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/delete.c0ae8b3f.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { FormProvider } from 'react-hook-form';\nimport { func, object, string } from 'prop-types';\n\nimport Input from '../../../sub-components/Input/Input';\nimport Button from '../../../sub-components/Button/Button';\nimport { ReactComponent as Delete } from '../../../../../icons/delete.svg';\nimport ListItem from '../Item/ListItem';\n\nimport './SearchItem.scss';\n\nconst SearchItem = ({ onSubmit, formMethods, placeholder = 'Search' }) => (\n  <ListItem className=\"SearchItem\">\n    <FormProvider {...formMethods}>\n      <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n        <Input name=\"search\" placeholder={placeholder} />\n        <Button stopPropagation onClick={() => formMethods.reset()}><Delete /></Button>\n      </form>\n    </FormProvider>\n  </ListItem>\n);\n\nexport default React.memo(SearchItem);\n\nSearchItem.propTypes = {\n  onSubmit: func.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  formMethods: object.isRequired,\n  placeholder: string,\n};\n\nSearchItem.defaultProps = {\n  placeholder: 'Search',\n};\n","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useForm, useWatch } from 'react-hook-form';\nimport { bool } from 'prop-types';\n\nimport List from '../List/List';\nimport {\n  getCurrentAccessLevel,\n  getCurrentHasSeen,\n  getCurrentPartOfTeams,\n  getOtherIdentities,\n} from '../../../../redux/selectors/users';\nimport IdentityItem from './Item/IdentityItem';\nimport ListItem from '../List/Item/ListItem';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder } from '../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport { getAllowPartialSearch, getOnlySeen } from '../../../../redux/selectors/config';\nimport { AccessLevels } from '../../../../AccessCentral';\nimport SearchItem from '../List/Search/SearchItem';\nimport { ReactComponent as Users } from '../../../../icons/users.svg';\n\nimport './IdentityList.scss';\n\nconst IdentityList = ({\n  alwaysExpanded,\n  hideTitle = false,\n  dropdown = true,\n}) => {\n  const formMethods = useForm();\n  const partialName = useWatch({ control: formMethods.control, name: 'search' });\n  const onlySeen = useSelector(getOnlySeen);\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const hasSeen = useSelector(getCurrentHasSeen);\n  const partOfTeams = useSelector(getCurrentPartOfTeams);\n  const identities = useSelector(getOtherIdentities);\n  const allowPartialSearch = useSelector(getAllowPartialSearch);\n\n  const onClick = useCallback(() => {\n    formMethods.reset();\n  }, []);\n\n  const userItems = (() => {\n    let filtered = identities;\n\n    if (partialName && partialName.length > 0) {\n      filtered = filtered\n        .filter((identity) => {\n          if (allowPartialSearch || accessLevel >= AccessLevels.ADMIN || hasSeen.includes(identity.objectId) || partOfTeams.some((teamId) => identity.partOfTeams.includes(teamId))) {\n            return identity.name.toLowerCase().includes(partialName.toLowerCase());\n          }\n\n          return identity.name.toLowerCase() === partialName.toLowerCase();\n        });\n    } else if (onlySeen && accessLevel < AccessLevels.ADMIN) {\n      filtered = filtered\n        .filter((identity) => hasSeen.includes(identity.objectId) || partOfTeams.some((teamId) => identity.partOfTeams.includes(teamId)));\n    }\n\n    return filtered.map(({ objectId: identityId }) => <IdentityItem key={identityId} identityId={identityId} onClick={onClick} />);\n  })();\n\n  const onSubmit = () => {\n    if (userItems.length === 0) {\n      formMethods.reset();\n    } else if (userItems.length === 1) {\n      store.dispatch(changeWindowOrder({\n        windows: [{\n          id: `${WindowTypes.DIALOGPROFILE}-${userItems[0].key}`,\n          value: {\n            identityId: userItems[0].key,\n            type: WindowTypes.DIALOGPROFILE,\n          },\n        }],\n      }));\n\n      formMethods.reset();\n    }\n  };\n\n  return (\n    <List\n      alwaysExpanded={alwaysExpanded}\n      dropdown={dropdown}\n      checkWidth={dropdown}\n      className=\"IdentityList\"\n      title={!hideTitle ? <Users /> : undefined}\n      wideTitle=\"Users\"\n    >\n      <SearchItem onSubmit={onSubmit} formMethods={formMethods} placeholder=\"Search by name\" />\n      {\n        partialName && userItems.length === 0\n          ? ([<ListItem key=\"noMatch\">No match found</ListItem>])\n          : (userItems)\n      }\n    </List>\n  );\n};\n\nexport default React.memo(IdentityList);\n\nIdentityList.propTypes = {\n  dropdown: bool,\n  alwaysExpanded: bool,\n  hideTitle: bool,\n};\n\nIdentityList.defaultProps = {\n  dropdown: true,\n  alwaysExpanded: undefined,\n  hideTitle: false,\n};\n","var _polyline, _polyline2, _polyline3, _polyline4, _line, _line2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgMove = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-move\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"5 9 2 12 5 15\"\n  })), _polyline2 || (_polyline2 = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"9 5 12 2 15 5\"\n  })), _polyline3 || (_polyline3 = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"15 19 12 22 9 19\"\n  })), _polyline4 || (_polyline4 = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"19 9 22 12 19 15\"\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 2,\n    y1: 12,\n    x2: 22,\n    y2: 12\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 12,\n    y1: 2,\n    x2: 12,\n    y2: 22\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgMove, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/move.112b0d0b.svg\";\nexport { ForwardRef as ReactComponent };","var _line, _line2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgClose = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-x\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 18,\n    y1: 6,\n    x2: 6,\n    y2: 18\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 6,\n    y1: 6,\n    x2: 18,\n    y2: 18\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgClose, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/close.f8019df0.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback } from 'react';\nimport {\n  bool,\n  func,\n  node,\n  string,\n} from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport { ReactComponent as Help } from '../../../../icons/help.svg';\nimport { ReactComponent as Move } from '../../../../icons/move.svg';\nimport { ReactComponent as Close } from '../../../../icons/close.svg';\nimport { ReactComponent as Minimize } from '../../../../icons/minimize.svg';\nimport { ReactComponent as Maximize } from '../../../../icons/maximize.svg';\nimport { removeWindow } from '../../../../redux/actions/windowOrder';\nimport Button from '../../sub-components/Button/Button';\nimport store from '../../../../redux/store';\nimport { changeMode, changeTarget } from '../../../../redux/actions/mode';\nimport { Modes } from '../../../../redux/reducers/mode';\nimport { getSystemConfig } from '../../../../redux/selectors/users';\nimport { getMode } from '../../../../redux/selectors/mode';\n\nimport './TopBar.scss';\n\nconst TopBar = ({\n  onDoubleClick,\n  title,\n  id,\n  menu,\n  type,\n  maximized,\n  isWide,\n}) => {\n  const systemConfig = useSelector(getSystemConfig);\n  const mode = useSelector(getMode);\n\n  const onHelp = useCallback(() => {\n    if (mode.mode === Modes.HELP && mode.target !== id) {\n      store.dispatch(changeTarget({ target: id }));\n    } else {\n      store.dispatch(changeMode({ mode: Modes.HELP, target: id }));\n    }\n  }, [mode, id]);\n\n  const onClose = useCallback(() => {\n    store.dispatch(removeWindow({ id }));\n  }, []);\n\n  return (\n    <div\n      className=\"TopBar\"\n    >\n      <div className=\"menu\">\n        {!isWide && menu}\n      </div>\n      <div\n        onDoubleClick={onDoubleClick}\n        className=\"dragHandle\"\n      >\n        <div className=\"title\">{title}</div>\n      </div>\n      <div className=\"buttons\">\n        {!systemConfig.alwaysMaximized && (\n          <Button type=\"button\" onClick={onDoubleClick}>\n            {\n              maximized\n                ? <Minimize />\n                : <Maximize />\n            }\n          </Button>\n        )}\n        {!systemConfig.hideHelp && (\n          <Button\n            stopPropagation\n            key=\"help\"\n            className={`help ${mode.mode === Modes.HELP && mode.target === id ? 'active' : ''}`}\n            type=\"button\"\n            onClick={onHelp}\n          >\n            <Help />\n          </Button>\n        )}\n        {type === 'dialog' && <Button stopPropagation className=\"close\" onClick={onClose}><Close /></Button>}\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(TopBar);\n\nTopBar.propTypes = {\n  title: node.isRequired,\n  onDoubleClick: func.isRequired,\n  id: string.isRequired,\n  menu: node,\n  type: string.isRequired,\n  maximized: bool.isRequired,\n  isWide: bool.isRequired,\n};\n\nTopBar.defaultProps = {\n  menu: undefined,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { node, string } from 'prop-types';\n\nimport { Modes } from '../../../../redux/reducers/mode';\nimport { getMode } from '../../../../redux/selectors/mode';\n\nconst Help = ({ id, children }) => {\n  const mode = useSelector(getMode);\n\n  return (\n    <>\n      {mode.mode === Modes.HELP && mode.target === id && (\n        <div className=\"helpOverlay\">\n          {children}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default React.memo(Help);\n\nHelp.propTypes = {\n  id: string.isRequired,\n  children: node.isRequired,\n};\n","import React, {\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { Rnd } from 'react-rnd';\nimport {\n  func,\n  string,\n  node, number,\n} from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { useResizeDetector } from 'react-resize-detector';\n\nimport TopBar from './TopBar/TopBar';\nimport {\n  getAlwaysCompactMenu,\n  getAlwaysMaximized,\n  getHideTopBar,\n} from '../../../redux/selectors/users';\nimport Help from '../sub-components/Help/Help';\n\nimport './Window.scss';\n\nconst Window = ({\n  onClick,\n  children,\n  menu,\n  done,\n  index,\n  id,\n  help,\n  type = 'window',\n  title = 'app',\n  className = '',\n}) => {\n  const { width, ref: resizeRef } = useResizeDetector();\n  const rndRef = useRef();\n  const hideTopBar = useSelector(getHideTopBar);\n  const alwaysMaximized = useSelector(getAlwaysMaximized);\n  const alwaysCompactMenu = useSelector(getAlwaysCompactMenu)\n  const defaultSize = type === 'window' ? { width: 380, height: 340 } : { width: 380, height: 340 };\n  const [size, setSize] = useState(defaultSize);\n  const [coordinates, setCoordinates] = useState({ x: 0, y: 0 });\n  const resizing = {\n    right: true,\n    bottom: true,\n    left: false,\n    bottomRight: true,\n    bottomLeft: true,\n  };\n  const style = { zIndex: index };\n\n  const maximize = useCallback(() => {\n    setCoordinates({ x: 0, y: 0 });\n    setSize({ width: '100%', height: '100%' });\n  }, []);\n\n  const onDoubleClick = useCallback(() => {\n    if (size.width === '100%' && size.height === '100%') {\n      setSize(defaultSize);\n    } else {\n      maximize();\n    }\n  }, [size, coordinates]);\n\n  useEffect(() => {\n    if (hideTopBar || alwaysMaximized) {\n      maximize();\n    }\n  }, [hideTopBar, alwaysMaximized]);\n\n  useEffect(() => {\n    const onOrientationChange = (event) => {\n      const windowStyle = rndRef.current.resizableElement.current.style;\n      const rndBounds = rndRef.current.resizableElement.current.getBoundingClientRect();\n      const mainBounds = rndRef.current.resizableElement.current.parentElement.getBoundingClientRect();\n      const orientation = event.target.screen.orientation ? event.target.screen.orientation.angle : event.target.orientation;\n\n      if (windowStyle.width === '100%' && windowStyle.height === '100%') {\n        return;\n      }\n\n      if (orientation === 0) {\n        if (rndBounds.left + 10 > mainBounds.width / 2) {\n          if (mainBounds.height > mainBounds.width) {\n            setCoordinates({ x: 0, y: mainBounds.height / 2 });\n          } else {\n            setCoordinates({ x: 0, y: (mainBounds.width - 36) / 2 });\n          }\n        } else {\n          setCoordinates({ y: 0, x: 0 });\n        }\n\n        setSize({ width: '100%', height: '50%' });\n      } else {\n        if (rndBounds.top + 10 > mainBounds.height / 2) {\n          if (mainBounds.width > mainBounds.height) {\n            setCoordinates({ y: 0, x: mainBounds.width / 2 });\n          } else {\n            setCoordinates({ y: 0, x: (mainBounds.height + 36) / 2 });\n          }\n        } else {\n          setCoordinates({ y: 0, x: 0 });\n        }\n\n        setSize({ width: '50%', height: '100%' });\n      }\n    };\n\n    window.addEventListener('orientationchange', onOrientationChange);\n\n    return () => window.removeEventListener('orientationchange', onOrientationChange);\n  }, []);\n\n  return (\n    <Rnd\n      ref={rndRef}\n      style={style}\n      onClick={onClick}\n      position={coordinates}\n      className=\"rnd\"\n      size={size}\n      minWidth={260}\n      minHeight={220}\n      maxWidth=\"100%\"\n      maxHeight=\"calc(100%)\"\n      bounds=\"#MainWindow\"\n      dragHandleClassName=\"dragHandle\"\n      enableResizing={resizing}\n      resizeHandleStyles={{\n        left: { left: 0, width: '10px' },\n        right: { right: 0, width: '10px' },\n        bottom: { bottom: 0, height: '5px' },\n        bottomLeft: {\n          bottom: 0,\n          left: 0,\n          width: '20px',\n          height: '15px',\n        },\n        bottomRight: {\n          bottom: 0,\n          right: 0,\n          width: '20px',\n          height: '15px',\n        },\n      }}\n      onDragStart={onClick}\n      onDragStop={(event, { node: element, x: newX, y: newY }) => {\n        if (coordinates && newX === coordinates.x && newY === coordinates.y) {\n          return;\n        }\n\n        const right = newX + element.offsetWidth >= window.innerWidth;\n        const left = newX === 0;\n        const up = newY === 0;\n        const down = newY + element.offsetHeight + 36 >= window.innerHeight;\n        const smallHeight = window.innerHeight < 450;\n        const smallWidth = window.innerWidth < 450;\n        const windowBounds = rndRef.current.resizableElement.current.parentElement.getBoundingClientRect();\n        const wider = windowBounds.width > windowBounds.height;\n\n        if (!smallHeight && !smallWidth && up && left && !right && !down) {\n          setSize({ width: '50%', height: '50%' });\n          setCoordinates({ x: 0, y: 0 });\n        } else if (!smallHeight && !smallWidth && up && right && !left && !down) {\n          setSize({ width: '50%', height: '50%' });\n          setCoordinates({ x: windowBounds.width / 2, y: 0 });\n        } else if (!smallHeight && !smallWidth && down && left && !right && !up) {\n          setSize({ width: '50%', height: '50%' });\n          setCoordinates({ x: 0, y: (windowBounds.height / 2) });\n        } else if (!smallHeight && !smallWidth && down && right && !left && !up) {\n          setSize({ width: '50%', height: '50%' });\n          setCoordinates({ x: windowBounds.width / 2, y: (windowBounds.height / 2) });\n        } else if (!smallWidth && left && !right) { // Left\n          setSize({ width: '50%', height: '100%' });\n          setCoordinates({ x: 0, y: 0 });\n        } else if (!smallWidth && right && !left) { // Right\n          setSize({ width: '50%', height: '100%' });\n          setCoordinates({ x: windowBounds.width / 2, y: 0 });\n        } else if (!smallHeight && up && !wider && !down) { // Up\n          setSize({ height: '50%', width: '100%' });\n          setCoordinates({ y: 0, x: 0 });\n        } else if (!smallHeight && down && !wider && !up) { // Down\n          setSize({ height: '50%', width: '100%' });\n          setCoordinates({ x: 0, y: windowBounds.height / 2 });\n        } else {\n          setCoordinates({ x: newX, y: newY });\n        }\n      }}\n      onResizeStart={onClick}\n      onResizeStop={(event, direction, element, _, position) => {\n        if (element.offsetWidth !== size.width || element.offsetHeight !== size.height) {\n          setSize({ width: element.offsetWidth, height: element.offsetHeight });\n          setCoordinates(position);\n        }\n      }}\n    >\n      <div\n        ref={resizeRef}\n        className={`Window ${className} ${!alwaysCompactMenu && width >= 600 ? 'wide' : ''} ${menu ? 'hasMenu' : ''}`}\n      >\n        {menu && !alwaysCompactMenu && width >= 600 && (\n          <div className=\"menu\">\n            {menu}\n          </div>\n        )}\n        {\n          !hideTopBar || type === 'dialog'\n            ? (\n              <TopBar\n                type={type}\n                maximized={size.width === '100%' && size.height === '100%'}\n                id={id}\n                done={done}\n                title={title}\n                onDoubleClick={onDoubleClick}\n                menu={menu}\n                isWide={!alwaysCompactMenu && width >= 600}\n              />\n            )\n            : (<div />)\n        }\n        <div className=\"windowBox\">\n          <div className=\"content\">\n            {children}\n            {help && (<Help id={id}>{help}</Help>)}\n          </div>\n        </div>\n      </div>\n    </Rnd>\n  );\n};\n\nexport default React.memo(Window);\n\nWindow.propTypes = {\n  onClick: func.isRequired,\n  children: node.isRequired,\n  menu: node,\n  title: node,\n  className: string,\n  done: func,\n  type: string,\n  index: number.isRequired,\n  id: string.isRequired,\n  help: node,\n};\n\nWindow.defaultProps = {\n  done: undefined,\n  className: undefined,\n  title: 'app',\n  menu: undefined,\n  type: 'window',\n  help: undefined,\n};\n","import React, { useCallback } from 'react';\nimport { number, string } from 'prop-types';\nimport IdentityList from '../common/lists/IdentityList/IdentityList';\n\nimport Window from '../common/Window/Window';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\n\nimport './Identities.scss';\n\nconst Identities = ({\n  id,\n  index,\n}) => {\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.IDENTITIES } }] }));\n  }, []);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  return (\n    <Window\n      id={id}\n      index={index}\n      done={onDone}\n      className=\"Identities\"\n      title=\"Users\"\n      onClick={onClick}\n    >\n      <IdentityList\n        alwaysExpanded\n        hideTitle\n        dropdown={false}\n      />\n    </Window>\n  );\n};\n\nexport default React.memo(Identities);\n\nIdentities.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","var _polyline, _rect, _line;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgWallets = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"21 8 21 21 3 21 3 8\"\n  })), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 1,\n    y: 3,\n    width: 22,\n    height: 5\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 10,\n    y1: 12,\n    x2: 14,\n    y2: 12\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgWallets, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/wallets.565629c1.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgMinimizeClose = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-minimize\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgMinimizeClose, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/minimize-close.7e3d4084.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { func, node, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport List from '../List/List';\nimport ListItem from '../List/Item/ListItem';\nimport store from '../../../../redux/store';\nimport { getCurrentUser } from '../../../../redux/selectors/users';\nimport { removeWindow } from '../../../../redux/actions/windowOrder';\nimport { ReactComponent as Menu } from '../../../../icons/menu.svg';\nimport { ReactComponent as Settings } from '../../../../icons/settings.svg';\nimport { ReactComponent as MinClose } from '../../../../icons/minimize-close.svg';\n\nimport './FileMenu.scss';\n\nconst FileMenu = ({\n  id,\n  children,\n  onSettings,\n  menuIcon,\n}) => {\n  const { isAnonymous } = useSelector(getCurrentUser);\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      wideTitle=\"App menu\"\n      className=\"FileMenu\"\n      title={menuIcon || <Menu />}\n    >\n      {children}\n      {onSettings && !isAnonymous && (\n        <ListItem\n          stopPropagation\n          key=\"settings\"\n          onClick={onSettings}\n        >\n          <Settings />\n          <span>Preferences</span>\n        </ListItem>\n      )}\n      <ListItem\n        stopPropagation\n        key=\"quit\"\n        onClick={() => store.dispatch(removeWindow({ id }))}\n      >\n        <MinClose />\n        <span>Hide app</span>\n      </ListItem>\n    </List>\n  );\n};\n\nexport default React.memo(FileMenu);\n\nFileMenu.propTypes = {\n  children: node,\n  id: string.isRequired,\n  onSettings: func,\n  menuIcon: node,\n};\n\nFileMenu.defaultProps = {\n  children: undefined,\n  onSettings: undefined,\n  menuIcon: undefined,\n};\n","import createCachedSelector from 're-reselect';\n\nexport const SortBy = {\n  DATE: 'date',\n  AMOUNT: 'amount',\n};\n\nexport const getAllTransactions = (state) => state.transactions;\n\nexport const getTransactionById = (state, { id }) => state.transactions.get(id);\n\nexport const getTransactionIdsByWallets = createCachedSelector(\n  [\n    getAllTransactions,\n    (_, { ids }) => ids,\n  ],\n  (transactions, walletIds) => [...transactions.values()]\n    .filter(({ fromWalletId, toWalletId }) => walletIds.includes(fromWalletId) || walletIds.includes(toWalletId))\n    .map(({ objectId, fromWalletId }) => ({ objectId, isSender: walletIds.includes(fromWalletId) }))\n    .reverse(),\n)((_, { ids }) => `transaction-ids-${ids.join(' ')}`);\n","var _rect, _rect2, _line, _line2, _line3, _line4, _line5, _line6, _line7, _line8;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgCpu = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-cpu\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 4,\n    y: 4,\n    width: 16,\n    height: 16,\n    rx: 2,\n    ry: 2\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 9,\n    y: 9,\n    width: 6,\n    height: 6\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 9,\n    y1: 1,\n    x2: 9,\n    y2: 4\n  })), _line2 || (_line2 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 15,\n    y1: 1,\n    x2: 15,\n    y2: 4\n  })), _line3 || (_line3 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 9,\n    y1: 20,\n    x2: 9,\n    y2: 23\n  })), _line4 || (_line4 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 15,\n    y1: 20,\n    x2: 15,\n    y2: 23\n  })), _line5 || (_line5 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 20,\n    y1: 9,\n    x2: 23,\n    y2: 9\n  })), _line6 || (_line6 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 20,\n    y1: 14,\n    x2: 23,\n    y2: 14\n  })), _line7 || (_line7 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 1,\n    y1: 9,\n    x2: 4,\n    y2: 9\n  })), _line8 || (_line8 = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 1,\n    y1: 14,\n    x2: 4,\n    y2: 14\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgCpu, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/cpu.15f48c10.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { bool, string } from 'prop-types';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getTransactionById } from '../../../../../redux/selectors/transactions';\nimport { getIdentityOrTeamName } from '../../../../../redux/selectors/users';\nimport { getDayModification, getYearModification } from '../../../../../redux/selectors/config';\nimport { getTimestamp } from '../../../../../TextTools';\nimport { ReactComponent as User } from '../../../../../icons/user.svg';\nimport { ReactComponent as Team } from '../../../../../icons/team.svg';\nimport { ReactComponent as System } from '../../../../../icons/cpu.svg';\nimport { ReactComponent as Wallet } from '../../../../../icons/wallet.svg';\nimport store from '../../../../../redux/store';\nimport { changeWindowOrder } from '../../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../../redux/reducers/windowOrder';\n\nimport './TransactionItem.scss';\n\nconst Icons = {\n  identity: <User />,\n  team: <Team />,\n  system: <System />,\n};\n\nconst TransactionItem = ({ transactionId, isSender, singleWallet }) => {\n  const transaction = useSelector((state) => getTransactionById(state, { id: transactionId }));\n  const { name: fromName, type: fromType } = useSelector((state) => getIdentityOrTeamName(state, { id: transaction.fromWalletId }));\n  const { name: toName, type: toType } = useSelector((state) => getIdentityOrTeamName(state, { id: transaction.toWalletId }));\n  const dayModification = useSelector(getDayModification);\n  const yearModification = useSelector(getYearModification);\n  const timestamp = getTimestamp({ date: transaction.customTimeCreated || transaction.timeCreated, dayModification, yearModification });\n\n  const otherType = isSender ? toType : fromType;\n  const currentType = isSender ? fromType : toType;\n\n  return (\n    <ListItem\n      className={`TransactionItem ${isSender ? 'sender' : ''}`}\n    >\n      <div className=\"other\">\n        {Icons[otherType]}\n        <p\n          className={(otherType === 'identity' || otherType === 'team') && 'clickable'}\n          onClick={(event) => {\n            event.stopPropagation();\n\n            if (otherType === 'identity') {\n              store.dispatch(changeWindowOrder({ windows: [{ id: `${WindowTypes.DIALOGPROFILE}-${transaction.toWalletId}`, value: { type: WindowTypes.DIALOGPROFILE, identityId: transaction.toWalletId } }] }));\n            } else if (otherType === 'team') {\n              // store.dispatch(changeWindowOrder({ windows: [{ id: `${WindowTypes.DIALOGPROFILE}-${transaction.toWalletId}`, value: { type: WindowTypes.DIALOGPROFILE, identityId: transaction.toWalletId } }] }));\n            }\n          }}\n        >\n          <span>{isSender ? toName : fromName}</span>\n        </p>\n        <p className=\"time\">\n          <span>{timestamp.halfDate}</span>\n          <span>{timestamp.halfTime}</span>\n        </p>\n      </div>\n      {transaction.note && (\n        <div className=\"note\">\n          <p>{transaction.note}</p>\n        </div>\n      )}\n      {!singleWallet && (\n        <div className=\"current\">\n          <p>\n            <Wallet />\n            <span>:</span>\n          </p>\n          <p>{isSender ? fromName : toName}</p>\n        </div>\n      )}\n      <div className=\"amount\">\n        <p className={isSender ? 'negative' : ''}>{`${isSender ? '-' : '+'}${transaction.amount}`}</p>\n      </div>\n    </ListItem>\n  );\n};\n\nexport default React.memo(TransactionItem);\n\nTransactionItem.propTypes = {\n  transactionId: string.isRequired,\n  isSender: bool.isRequired,\n  singleWallet: bool.isRequired,\n};\n","import React from 'react';\nimport { arrayOf, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport List from '../../../common/lists/List/List';\nimport TransactionItem from './Item/TransactionItem';\nimport { getTransactionIdsByWallets } from '../../../../redux/selectors/transactions';\n\nimport './TransactionList.scss';\n\nconst TransactionList = ({ walletIds }) => {\n  const transactions = useSelector((state) => getTransactionIdsByWallets(state, { ids: walletIds }));\n\n  const items = transactions.map(({ objectId, isSender }) => <TransactionItem key={objectId} transactionId={objectId} isSender={isSender} singleWallet={walletIds.length === 1} />);\n\n  return (\n    <List\n      observe=\"upper\"\n      className=\"TransactionList\"\n    >\n      {items}\n    </List>\n  );\n};\n\nexport default React.memo(TransactionList);\n\nTransactionList.propTypes = {\n  walletIds: arrayOf(string).isRequired,\n};\n","import createCachedSelector from 're-reselect';\n\nimport { getCurrentUser } from './users';\n\nexport const getAllWallets = (state) => state.wallets;\n\nexport const getWalletById = (state, { id }) => state.wallets.get(id);\n\nexport const getWalletIds = createCachedSelector(\n  [getAllWallets],\n  (wallets) => [...wallets.values()].map((wallet) => wallet.objectId),\n)(() => 'wallet-ids');\n\nexport const getWalletIdsByCurrentUser = createCachedSelector(\n  [getAllWallets, getCurrentUser],\n  (wallets, currentUser) => [...wallets.values()]\n    .filter((wallet) => wallet.ownerId === currentUser.objectId || currentUser.aliases.includes(wallet.ownerAliasId) || currentUser.partOfTeams.includes(wallet.objectId))\n    .map((wallet) => wallet.objectId),\n)(() => 'wallet-ids-current-user');\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getWalletById } from '../../../../../redux/selectors/wallets';\nimport { getIdentityOrTeamById } from '../../../../../redux/selectors/users';\n\nconst WalletItem = ({ walletId, onChange, className = '' }) => {\n  const wallet = useSelector((state) => getWalletById(state, { id: walletId }));\n  const identity = useSelector((state) => getIdentityOrTeamById(state, { id: walletId }));\n\n  return (\n    <ListItem\n      className={`WalletItem ${className}`}\n      onClick={() => onChange(walletId)}\n    >\n      {identity ? `${identity.teamName || identity.aliasName || identity.username}: ${wallet ? wallet.amount : '?'}` : 'Show all'}\n    </ListItem>\n  );\n};\n\nexport default React.memo(WalletItem);\n\nWalletItem.propTypes = {\n  walletId: string.isRequired,\n  onChange: func.isRequired,\n  className: string,\n};\n\nWalletItem.defaultProps = {\n  className: '',\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\n\nimport List from '../../../common/lists/List/List';\nimport { getWalletIdsByCurrentUser } from '../../../../redux/selectors/wallets';\nimport WalletItem from './Item/WalletItem';\n\nconst WalletList = ({ onChange, walletId }) => {\n  const walletIds = useSelector(getWalletIdsByCurrentUser);\n\n  const itemMapper = () => walletIds.map((id) => (\n    <WalletItem\n      key={id}\n      walletId={id}\n      onChange={onChange}\n      className={walletId === id ? 'selected' : ''}\n    />\n  ));\n\n  return (\n    <List\n      alwaysExpanded\n      title={<span>Wallets</span>}\n      className=\"WalletList\"\n    >\n      <WalletItem\n        className={walletId === 'showAll' ? 'selected' : ''}\n        key=\"showAll\"\n        onChange={onChange}\n        walletId=\"showAll\"\n      />\n      {itemMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(WalletList);\n\nWalletList.propTypes = {\n  onChange: func.isRequired,\n  walletId: string.isRequired,\n};\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgAdmin = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-key\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgAdmin, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/admin.e4ee82f0.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\n\nimport { getWalletIds } from '../../../../redux/selectors/wallets';\nimport WalletItem from '../Wallet/Item/WalletItem';\nimport List from '../../../common/lists/List/List';\nimport { ReactComponent as Admin } from '../../../../icons/admin.svg';\n\nconst AdminWalletList = ({ onChange, walletId }) => {\n  const walletIds = useSelector(getWalletIds);\n\n  const itemMapper = () => walletIds.map((id) => (\n    <WalletItem\n      key={id}\n      walletId={id}\n      onChange={onChange}\n      className={walletId === id ? 'selected' : ''}\n    />\n  ));\n\n  return (\n    <List\n      alwaysExpanded\n      title={(\n        <>\n          <Admin />\n          <span>Wallets</span>\n        </>\n      )}\n      className=\"WalletList\"\n    >\n      {itemMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(AdminWalletList);\n\nAdminWalletList.propTypes = {\n  onChange: func.isRequired,\n  walletId: string.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport { getWalletById } from '../../../../redux/selectors/wallets';\nimport { getUserId } from '../../../../redux/selectors/userId';\n\nimport './Amount.scss';\n\nconst Amount = ({ walletId }) => {\n  const currentUserId = useSelector(getUserId);\n  const wallet = useSelector((state) => getWalletById(state, { id: walletId !== 'showAll' ? walletId : currentUserId }));\n  const isNegative = wallet.amount < 0;\n\n  return (\n    <div className=\"Amount\">\n      <span>Balance</span>\n      <span className={isNegative ? 'negative' : ''}>\n        {isNegative ? '-' : ''}\n        {wallet.amount}\n      </span>\n    </div>\n  );\n};\n\nexport default React.memo(Amount);\n\nAmount.propTypes = {\n  walletId: string.isRequired,\n};\n","import React, { useCallback, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { ReactComponent as Wallets } from '../../icons/wallets.svg';\nimport FileMenu from '../common/lists/FileMenu/FileMenu';\nimport ListItem from '../common/lists/List/Item/ListItem';\nimport List from '../common/lists/List/List';\n\nimport Window from '../common/Window/Window';\nimport TransactionList from './lists/Transaction/TransactionList';\nimport { getWalletIdsByCurrentUser } from '../../redux/selectors/wallets';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\nimport IdentityList from '../common/lists/IdentityList/IdentityList';\nimport WalletList from './lists/Wallet/WalletList';\nimport { getCurrentAccessLevel, getIdentityOrTeamName } from '../../redux/selectors/users';\nimport { AccessLevels } from '../../AccessCentral';\nimport AdminWalletList from './lists/AdminWallet/AdminWalletList';\nimport Amount from './views/Amount/Amount';\nimport { ReactComponent as WalletIcon } from '../../icons/wallet.svg';\n\nimport './Wallet.scss';\n\nconst Wallet = ({ id, index }) => {\n  const [walletId, setWalletId] = useState('showAll');\n  const currentWalletIds = useSelector(getWalletIdsByCurrentUser);\n  const { name } = useSelector((state) => getIdentityOrTeamName(state, { id: walletId }));\n  const accessLevel = useSelector(getCurrentAccessLevel);\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.WALLET } }] }));\n  }, []);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onChange = useCallback((newWalletId) => setWalletId(newWalletId), []);\n\n  return (\n    <Window\n      id={id}\n      className=\"Wallet\"\n      index={index}\n      done={onDone}\n      title={<span>{`${name ? `${name}` : 'all'}`}</span>}\n      onClick={onClick}\n      menu={(\n        <>\n          <FileMenu\n            menuIcon={<WalletIcon />}\n            id={id}\n          />\n          <List\n            dropdown\n            checkWidth\n            title={<Wallets />}\n            wideTitle=\"Wallets\"\n            className=\"wallets\"\n          >\n            <ListItem><WalletList key=\"walletList\" onChange={onChange} walletId={walletId} /></ListItem>\n            {accessLevel >= AccessLevels.MODERATOR && (\n              <ListItem><AdminWalletList key=\"adminWalletList\" onChange={onChange} walletId={walletId} /></ListItem>\n            )}\n          </List>\n          <IdentityList key=\"identityList\" />\n        </>\n      )}\n    >\n      <TransactionList\n        key=\"transactionList\"\n        walletIds={walletId !== 'showAll' ? [walletId] : currentWalletIds}\n      />\n      <Amount walletId={walletId} />\n    </Window>\n  );\n};\n\nexport default React.memo(Wallet);\n\nWallet.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useEffect, useRef, useState } from 'react';\n\nimport './MapView.scss';\n\nconst MapView = () => {\n  const [map, setMap] = useState();\n  const mapRef = useRef();\n\n  const createMap = () => {\n    if (typeof window.google === 'undefined' || typeof window.MarkerClusterer === 'undefined' || typeof window.MapLabel === 'undefined') {\n      setTimeout(createMap, 1000);\n\n      return;\n    }\n\n    const worldMap = new window.google.maps.Map(mapRef.current, {\n      disableDefaultUI: true,\n      fullscreenControl: false,\n      keyboardShortcuts: false,\n      mapTypeControl: false,\n      noClear: true,\n      zoomControl: false,\n      panControl: false,\n      overviewMapControl: false,\n      rotateControl: false,\n      scaleControl: false,\n      streetViewControl: false,\n      center: { lat: -34.397, lng: 150.644 },\n      zoom: 8,\n      styles: [{\n        elementType: 'geometry',\n        stylers: [\n          { color: '#13002d' },\n        ],\n      }, {\n        elementType: 'labels',\n        stylers: [\n          { visibility: 'off' },\n        ],\n      }, {\n        featureType: 'poi',\n        stylers: [\n          { visibility: 'off' },\n        ],\n      }, {\n        featureType: 'administrative',\n        stylers: [\n          { color: '#370087' },\n        ],\n      }, {\n        featureType: 'landscape.natural.terrain',\n        stylers: [\n          { color: '#44003a' },\n        ],\n      }, {\n        featureType: 'road',\n        stylers: [\n          { color: '#6e6c6d' },\n          { weight: 0.5 },\n        ],\n      }, {\n        featureType: 'transit',\n        stylers: [\n          { visibility: 'off' },\n        ],\n      }, {\n        featureType: 'water',\n        stylers: [\n          { color: '#7d006c' },\n        ],\n      }],\n    });\n\n    setMap(worldMap);\n  };\n\n  useEffect(() => {\n    createMap();\n  }, []);\n\n  return (\n    <div\n      ref={mapRef}\n      className=\"MapView\"\n    />\n  );\n};\n\nexport default MapView;\n","import { createSelector } from 'reselect';\n\nexport const getAllPositions = (state) => state.positions;\n\nexport const getPositionById = (state, { id }) => state.positions.get(id);\n\nexport const getPositionNamesByType = (type) => createSelector(\n  [getAllPositions],\n  (positions) => [...positions.values()]\n    .filter(({ positionType }) => type === positionType)\n    .map(({ positionName, objectId }) => ({ positionName, objectId })),\n);\n","import React, { useMemo } from 'react';\nimport { string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport List from '../../../common/lists/List/List';\nimport { getPositionNamesByType } from '../../../../redux/selectors/positions';\nimport ListItem from '../../../common/lists/List/Item/ListItem';\n\nconst PositionList = ({ title, positionType }) => {\n  const positionsSelector = useMemo(getPositionNamesByType, []);\n  const positions = useSelector((state) => positionsSelector(state, positionType));\n\n  const positionMapper = () => positions.map((position) => (\n    <ListItem\n      key={position.objectId}\n      onClick={() => { console.log(position.objectId); }}\n    >\n      {position.positionName}\n    </ListItem>\n  ));\n\n  return (\n    <div\n      key=\"positionsList\"\n      className=\"PositionsList\"\n    >\n      <List\n        title={title}\n      >\n        {positionMapper()}\n      </List>\n    </div>\n  );\n};\n\nexport default React.memo(PositionList);\n\nPositionList.propTypes = {\n  title: string,\n  positionType: string.isRequired,\n};\n\nPositionList.defaultProps = {\n  title: undefined,\n};\n","import React from 'react';\nimport PositionList from '../lists/Position/PositionList';\n\nconst Positions = ({ positionTypes = [] }) => {\n  const listMapper = () => positionTypes.map((positionType) => (\n    <PositionList\n      title={positionType}\n      positionType={positionType}\n    />\n  ));\n\n  return (\n    <div className=\"lists Positions\">\n      {listMapper()}\n    </div>\n  );\n};\n\nexport default Positions;\n","import React, { useCallback } from 'react';\nimport { number, string } from 'prop-types';\nimport FileMenu from '../common/lists/FileMenu/FileMenu';\nimport Window from '../common/Window/Window';\nimport MapView from './views/MapView';\nimport Positions from './views/Positions';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\nimport { ReactComponent as Map } from '../../icons/map.svg';\n\nimport './WorldMap.scss';\n\nconst WorldMap = ({ id, index }) => {\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.WORLDMAP } }] }));\n  }, []);\n\n  return (\n    <Window\n      id={id}\n      index={index}\n      done={() => store.dispatch(removeWindow({ id }))}\n      className=\"WorldMap\"\n      title={<span>Map</span>}\n      onClick={onClick}\n      menu={(\n        <>\n          <FileMenu\n            menuIcon={<Map />}\n            id={id}\n          />\n          <Positions />\n        </>\n      )}\n    >\n      <MapView />\n    </Window>\n  );\n};\n\nexport default React.memo(WorldMap);\n\nWorldMap.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import createCachedSelector from 're-reselect';\nimport { getCurrentUserIdentities, getCurrentUserRooms, getIdentitiesByIds } from './users';\n\nexport const getAllRooms = (state) => state.rooms;\n\nexport const getRoomById = (state, { id }) => state.rooms.get(id);\n\nconst getRooms = createCachedSelector(\n  [getAllRooms],\n  (rooms) => [...rooms.values()].filter((room) => !room.isWhisper && !room.isUser),\n)(() => 'normalRooms');\n\nexport const getWhisperRooms = createCachedSelector(\n  [\n    getAllRooms,\n    (_, { spyMode }) => spyMode,\n  ],\n  (rooms, spyMode) => [...rooms.values()]\n    .filter((room) => room.isWhisper && ((typeof room.spyMode !== 'boolean' && !spyMode) || spyMode === room.spyMode))\n    .map(({ objectId, participantIds }) => ({ objectId, participantIds, spyMode })),\n)((_, { spyMode }) => `whisperRooms-spy-${spyMode}`);\n\nexport const getUnfollowedRoomIds = createCachedSelector(\n  [getRooms, getCurrentUserRooms],\n  (rooms, followingRooms) => rooms\n    .filter((room) => !followingRooms.includes(room.objectId)).map(({ roomName, objectId }) => ({ roomName, objectId }))\n    .sort((roomA, roomB) => {\n      const a = roomA.roomName.toLowerCase();\n      const b = roomB.roomName.toLowerCase();\n\n      if (a > b) {\n        return 1;\n      }\n\n      if (b < a) {\n        return 1;\n      }\n\n      return 0;\n    })\n    .map(({ objectId }) => objectId),\n)(() => 'unfollowedRooms');\n\nexport const getFollowedRoomsIds = createCachedSelector(\n  [getRooms, getCurrentUserRooms],\n  (rooms, followingRooms) => rooms\n    .filter((room) => followingRooms.includes(room.objectId))\n    .map(({ objectId }) => objectId),\n)(() => 'followedRooms');\n\nexport const getWhisperRoom = createCachedSelector(\n  [\n    getWhisperRooms,\n    (_, { identityId, currentIdentityId }) => ({ identityId, currentIdentityId }),\n    (state, { identityId }) => getRoomById(state, { id: identityId }),\n  ],\n  (rooms, { currentIdentityId, identityId }, identityRoom) => rooms\n    .find((room) => room.participantIds.includes(currentIdentityId) && room.participantIds.includes(identityId)) || identityRoom,\n)((_, { currentIdentityId, identityId }) => `whisper-${currentIdentityId}-${identityId}`);\n\nexport const getWhisperRoomNames = createCachedSelector(\n  [\n    getIdentitiesByIds,\n    getCurrentUserIdentities,\n    (_, { ids: participantIds }) => participantIds,\n  ],\n  (identities, currentIdentities, participantIds) => {\n    const participant = identities.get(participantIds[0]);\n    const secondParticipant = identities.get(participantIds[1]);\n    const isFirst = currentIdentities\n      .find(({ objectId }) => participant.objectId === objectId || participant.ownerId === objectId || participant.userIds.includes(objectId));\n    const names = [];\n\n    if (!participant || !secondParticipant) {\n      return '';\n    }\n\n    if (isFirst) {\n      names.push(\n        participant.username || participant.aliasName,\n        secondParticipant.username || secondParticipant.aliasName,\n      );\n    } else {\n      names.push(\n        secondParticipant.username || secondParticipant.aliasName,\n        participant.username || participant.aliasName,\n      );\n    }\n\n    return names;\n  },\n)((_, { ids }) => `w-name-${ids.join(' ')}`);\n","var _rect, _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgLock = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-lock\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 3,\n    y: 11,\n    width: 18,\n    height: 11,\n    rx: 2,\n    ry: 2\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 11V7a5 5 0 0 1 10 0v4\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgLock, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/lock.5b8f2ff4.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getRoomById } from '../../../../../redux/selectors/rooms';\nimport { ReactComponent as Lock } from '../../../../../icons/lock.svg';\nimport store from '../../../../../redux/store';\nimport { changeWindowOrder } from '../../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../../redux/reducers/windowOrder';\n\nimport './RoomItem.scss';\n\nconst RoomItem = ({ roomId }) => {\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id: `${WindowTypes.DIALOGJOINROOM}-${roomId}`, value: { type: WindowTypes.DIALOGJOINROOM, roomId } }] }));\n  }, [roomId]);\n\n  return (\n    <ListItem\n      className=\"RoomItem\"\n      key={roomId}\n      onClick={onClick}\n    >\n      {room.roomName}\n      {room.isLocked && (\n        <div className=\"lock\"><Lock /></div>\n      )}\n    </ListItem>\n  );\n};\n\nexport default React.memo(RoomItem);\n\nRoomItem.propTypes = {\n  roomId: string.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { bool, func } from 'prop-types';\n\nimport List from '../../../common/lists/List/List';\nimport { getUnfollowedRoomIds } from '../../../../redux/selectors/rooms';\nimport RoomItem from './Item/RoomItem';\n\nconst RoomList = ({ onChange, alwaysExpanded }) => {\n  const roomIds = useSelector(getUnfollowedRoomIds);\n\n  const roomMapper = () => roomIds.map((roomId) => (\n    <RoomItem\n      key={roomId}\n      roomId={roomId}\n      onChange={onChange}\n    />\n  ));\n\n  return (\n    <List\n      alwaysExpanded={alwaysExpanded}\n      key=\"roomList\"\n      className=\"RoomList\"\n      title=\"Rooms\"\n    >\n      {roomMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(RoomList);\n\nRoomList.propTypes = {\n  onChange: func.isRequired,\n  alwaysExpanded: bool,\n};\n\nRoomList.defaultProps = {\n  alwaysExpanded: undefined,\n};\n","var _path, _circle;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgEye = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-eye\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 12,\n    cy: 12,\n    r: 3\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgEye, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/eye.f2d9887b.svg\";\nexport { ForwardRef as ReactComponent };","import { SendEvents, emitSocketEvent } from '../SocketManager';\nimport { getRoomById } from '../../redux/selectors/rooms';\nimport store from '../../redux/store';\nimport { getCurrentIdentityId } from '../../redux/selectors/userId';\nimport { createMessages, createNewsMessage } from '../../redux/actions/messages';\nimport { getAliasId } from '../../redux/selectors/aliasId';\nimport { getNewsRoomId } from '../../redux/selectors/config';\nimport { MessageType } from '../../redux/reducers/messages';\n\nexport const sendMessage = async ({ text, roomId, image }) => {\n  const room = getRoomById(store.getState(), { id: roomId });\n  const participantIds = room.isWhisper\n    ? room.participantIds\n    : [];\n  const message = {\n    roomId,\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n    text: text.split('\\n'),\n  };\n\n  if (room.isUser) {\n    message.messageType = MessageType.WHISPER;\n    participantIds.push(getCurrentIdentityId(store.getState()));\n    participantIds.push(roomId);\n  } else if (room.isWhisper) {\n    message.messageType = MessageType.WHISPER;\n  } else {\n    message.messageType = MessageType.CHAT;\n  }\n\n  const result = await emitSocketEvent(SendEvents.MESSAGE, {\n    message,\n    image,\n    participantIds,\n  });\n\n  store.dispatch(createMessages({ messages: [result.message] }));\n\n  return { message: result.message, switchRoom: true };\n};\n\nexport const sendNewsMessage = async ({ title, text, image }) => {\n  const message = {\n    messageType: MessageType.NEWS,\n    text: [title].concat(text.split('\\n')),\n    roomId: getNewsRoomId(store.getState()),\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n  };\n\n  const result = await emitSocketEvent(SendEvents.MESSAGE, {\n    message,\n    image,\n  });\n\n  store.dispatch(createNewsMessage(result));\n\n  return { message: result.message };\n};\n\nexport const getMessagesByRoom = async ({ roomId }) => {\n  const result = await emitSocketEvent(SendEvents.GETMSGBYROOM, { roomId });\n\n  store.dispatch(createMessages({ messages: result.messages }));\n\n  return true;\n};\n","import { SendEvents, emitSocketEvent } from '../SocketManager';\nimport store from '../../redux/store';\nimport { followRoom as followRoomAction, removeRooms } from '../../redux/actions/rooms';\nimport { getMessagesByRoom } from './messages';\nimport { getAliasId } from '../../redux/selectors/aliasId';\n\nexport const createRoom = async ({ room }) => {\n  const roomToCreate = {\n    ...room,\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n  };\n  const result = await emitSocketEvent(SendEvents.ROOM, { room: roomToCreate });\n\n  await store.dispatch(followRoomAction({ room: result.room, user: result.user }));\n\n  return { room: result.room };\n};\n\nexport const followRoom = async ({ roomId, password }) => {\n  const params = {\n    roomId,\n    password,\n    aliasId: getAliasId(store.getState()) || undefined,\n  };\n\n  const result = await emitSocketEvent(SendEvents.FOLLOW, params);\n\n  await getMessagesByRoom({ roomId });\n\n  await store.dispatch(followRoomAction({ room: result.room, user: result.user }));\n\n  return { room: result.room, user: result.user };\n};\n\nexport const removeRoom = async ({ roomId }) => {\n  const result = await emitSocketEvent(SendEvents.REMOVEROOM, { roomId });\n\n  await store.dispatch(removeRooms({ rooms: [{ objectId: roomId }] }));\n\n  return { room: result.room };\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  arrayOf, bool,\n  func, shape,\n  string,\n} from 'prop-types';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getWhisperRoomNames } from '../../../../../redux/selectors/rooms';\nimport { ReactComponent as Eye } from '../../../../../icons/eye.svg';\nimport { followRoom } from '../../../../../socket/actions/rooms';\nimport { getCurrentUser } from '../../../../../redux/selectors/users';\nimport store from '../../../../../redux/store';\nimport { hasAccessTo } from '../../../../../AccessCentral';\n\nimport './WhisperItem.scss';\n\nconst WhisperItem = ({\n  room,\n  onChange,\n  className,\n  singleUser,\n}) => {\n  const names = useSelector((state) => getWhisperRoomNames(state, { ids: room.participantIds }));\n\n  const onClick = () => {\n    const currentUser = getCurrentUser(store.getState());\n\n    if (!room.participantIds.some((id) => currentUser.objectId === id || currentUser.aliases.includes(id))) {\n      const { hasAccess, adminAccess } = hasAccessTo({\n        toAuth: currentUser,\n        objectToAccess: room,\n      });\n\n      if (!hasAccess && adminAccess) {\n        followRoom({ roomId: room.objectId })\n          .then(() => {\n            onChange({ roomId: room.objectId, spyMode: room.spyMode });\n          })\n          .catch((followError) => console.log(followError));\n\n        return;\n      }\n    }\n\n    onChange({ roomId: room.objectId, spyMode: room.spyMode });\n  };\n\n  return (\n    <ListItem\n      className={`WhisperItem ${className || ''}`}\n      key={room.objectId}\n      onClick={onClick}\n    >\n      {singleUser ? names[1] : `${names[0]} > ${names[1]}`}\n      {room.spyMode && (<div className=\"spy\"><Eye /></div>)}\n    </ListItem>\n  );\n};\n\nexport default React.memo(WhisperItem, (prevProps, newProps) => {\n  const prevRoom = prevProps.room;\n  const newRoom = newProps.room;\n\n  if (prevProps.className !== newProps.className) {\n    return false;\n  }\n\n  if (!Object.keys(newRoom).every((key) => prevRoom[key] && newRoom[key])) {\n    return false;\n  }\n\n  if (!newRoom.participantIds.every((id) => prevRoom.participantIds.includes(id))) {\n    return false;\n  }\n\n  return true;\n});\n\nWhisperItem.propTypes = {\n  room: shape({\n    participantIds: arrayOf(string),\n  }).isRequired,\n  onChange: func.isRequired,\n  className: string,\n  singleUser: bool.isRequired,\n};\n\nWhisperItem.defaultProps = {\n  className: undefined,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { bool, func, string } from 'prop-types';\nimport { getWhisperRooms } from '../../../../redux/selectors/rooms';\nimport List from '../../../common/lists/List/List';\nimport WhisperItem from './Item/WhisperItem';\nimport { getCurrentUserIdentitiesNames } from '../../../../redux/selectors/users';\n\nconst WhisperList = ({ onChange, roomId, alwaysExpand }) => {\n  const identities = useSelector(getCurrentUserIdentitiesNames);\n  const whisperRooms = useSelector((state) => getWhisperRooms(state, { spyMode: false }));\n\n  const items = whisperRooms\n    .map((room) => (\n      <WhisperItem\n        singleUser={identities.length === 1}\n        key={room.objectId}\n        room={room}\n        onChange={onChange}\n        className={`${room.objectId === roomId ? 'selected' : ''}`}\n      />\n    ));\n\n  return (\n    <List\n      alwaysExpanded={alwaysExpand}\n      key=\"whisperList\"\n      className={`WhisperList ${whisperRooms.length === 0 ? 'hide' : ''}`}\n      title=\"Direct messages\"\n    >\n      {items}\n    </List>\n  );\n};\n\nexport default React.memo(WhisperList);\n\nWhisperList.propTypes = {\n  onChange: func.isRequired,\n  roomId: string,\n  alwaysExpand: bool,\n};\n\nWhisperList.defaultProps = {\n  roomId: undefined,\n  alwaysExpand: undefined,\n};\n","import React, { useCallback } from 'react';\nimport { func, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getRoomById } from '../../../../../redux/selectors/rooms';\n\nconst FollowingItem = ({ roomId, onChange, className = '' }) => {\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n\n  const onClick = useCallback(() => onChange({ roomId }), [roomId]);\n\n  return (\n    <ListItem\n      className={`FollowingItem ${className}`}\n      key={roomId}\n      onClick={onClick}\n    >\n      {room.roomName}\n    </ListItem>\n  );\n};\n\nexport default React.memo(FollowingItem);\n\nFollowingItem.propTypes = {\n  roomId: string.isRequired,\n  onChange: func.isRequired,\n  className: string,\n};\n\nFollowingItem.defaultProps = {\n  className: '',\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { bool, func, string } from 'prop-types';\nimport List from '../../../common/lists/List/List';\nimport { getFollowedRoomsIds } from '../../../../redux/selectors/rooms';\nimport FollowingItem from './Item/FollowingItem';\n\nconst FollowingList = ({ onChange, roomId, alwaysExpanded }) => {\n  const roomIds = useSelector(getFollowedRoomsIds);\n\n  const items = roomIds.map((id) => (\n    <FollowingItem\n      className={`${id === roomId ? 'selected' : ''}`}\n      key={id}\n      roomId={id}\n      onChange={onChange}\n    />\n  ));\n\n  return (\n    <List\n      alwaysExpanded={alwaysExpanded}\n      key=\"followingList\"\n      className=\"FollowingList\"\n      title=\"Joined\"\n    >\n      {items}\n    </List>\n  );\n};\n\nexport default React.memo(FollowingList);\n\nFollowingList.propTypes = {\n  onChange: func.isRequired,\n  roomId: string.isRequired,\n  alwaysExpanded: bool,\n};\n\nFollowingList.defaultProps = {\n  alwaysExpanded: undefined,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\nimport { getWhisperRooms } from '../../../../redux/selectors/rooms';\nimport List from '../../../common/lists/List/List';\nimport WhisperItem from '../Whisper/Item/WhisperItem';\nimport { ReactComponent as Admin } from '../../../../icons/admin.svg';\n\nconst AdminWhisperList = ({ onChange, roomId }) => {\n  const whisperRooms = useSelector((state) => getWhisperRooms(state, { spyMode: true }));\n\n  const items = whisperRooms\n    .map((room) => (\n      <WhisperItem key={room.objectId} room={room} onChange={onChange} className={`${room.objectId === roomId ? 'selected' : ''}`} />\n    ));\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      key=\"whisperList\"\n      className=\"WhisperList\"\n      title={(\n        <>\n          <Admin />\n          <span>DM</span>\n        </>\n      )}\n    >\n      {items}\n    </List>\n  );\n};\n\nexport default React.memo(AdminWhisperList);\n\nAdminWhisperList.propTypes = {\n  onChange: func.isRequired,\n  roomId: string,\n};\n\nAdminWhisperList.defaultProps = {\n  roomId: undefined,\n};\n","var _path, _path2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgEdit = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-edit\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgEdit, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/edit.f59f73d3.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\n\nimport { AccessLevels } from '../../../AccessCentral';\nimport UserList from '../../common/lists/IdentityList/IdentityList';\nimport RoomList from '../lists/Room/RoomList';\nimport WhisperList from '../lists/Whisper/WhisperList';\nimport FollowingList from '../lists/Following/FollowingList';\nimport { getCurrentAccessLevel } from '../../../redux/selectors/users';\nimport AdminWhisperList from '../lists/AdminWhisper/AdminWhisperList';\nimport List from '../../common/lists/List/List';\nimport { ReactComponent as Edit } from '../../../icons/edit.svg';\n\nimport './Rooms.scss';\nimport ListItem from '../../common/lists/List/Item/ListItem';\n\nconst Rooms = ({ onChange, roomId }) => {\n  const accessLevel = useSelector(getCurrentAccessLevel);\n\n  return (\n    <>\n      <List\n        dropdown\n        checkWidth\n        title={<Edit />}\n        wideTitle=\"Rooms\"\n        className=\"rooms\"\n      >\n        <ListItem>\n          <FollowingList\n            alwaysExpanded\n            roomId={roomId}\n            key=\"following\"\n            onChange={onChange}\n          />\n        </ListItem>\n        <ListItem>\n          {accessLevel >= AccessLevels.STANDARD && (\n            <WhisperList\n              alwaysExpand\n              roomId={roomId}\n              key=\"whisper\"\n              onChange={onChange}\n            />\n          )}\n        </ListItem>\n        {accessLevel >= AccessLevels.STANDARD && (\n          <ListItem>\n            <RoomList\n              alwaysExpanded\n              key=\"room\"\n              onChange={onChange}\n            />\n          </ListItem>\n        )}\n        {accessLevel >= AccessLevels.MODERATOR && (\n          <ListItem>\n            <AdminWhisperList\n              roomId={roomId}\n              key=\"adminWhisper\"\n              onChange={onChange}\n            />\n          </ListItem>\n        )}\n      </List>\n      <UserList\n        onDone={onChange}\n        key=\"user\"\n      />\n    </>\n  );\n};\n\nexport default React.memo(Rooms);\n\nRooms.propTypes = {\n  onChange: func.isRequired,\n  roomId: string.isRequired,\n};\n","var _rect, _circle, _polyline;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgImage = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-image\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 3,\n    y: 3,\n    width: 18,\n    height: 18,\n    rx: 2,\n    ry: 2\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 8.5,\n    cy: 8.5,\n    r: 1.5\n  })), _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"21 15 16 10 5 21\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgImage, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/image.2b3c9c2e.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useRef, useState } from 'react';\nimport { useFormContext, useWatch } from 'react-hook-form';\nimport { bool, node, string } from 'prop-types';\nimport ReactCrop from 'react-image-crop';\n\nimport Button from '../Button/Button';\nimport { ReactComponent as ImageIcon } from '../../../../icons/image.svg';\n\nimport './ImageUpload.scss';\nimport Image from '../Image/Image';\n\nconst ImageUpload = ({\n  croppable,\n  presetImage,\n  label,\n  useIcon = false,\n}) => {\n  const [crop, setCrop] = useState({ aspect: 1 / 1, width: 100, unit: '%' });\n  const { register, setValue } = useFormContext();\n  const previewRef = useRef(null);\n  const inputRef = useRef(null);\n  const [previewImage, setPreviewImage] = useState(presetImage);\n  const watchImage = useWatch({ name: 'image' });\n\n  useEffect(() => {\n    register('image');\n  }, []);\n\n  useEffect(() => {\n    if (previewImage) {\n      setValue('image', previewImage);\n    } else {\n      setValue('image', undefined);\n    }\n  }, [previewImage]);\n\n  useEffect(() => {\n    if (!watchImage) {\n      setPreviewImage(undefined);\n    } else if (previewRef.current) {\n      previewRef.current.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n    }\n  }, [watchImage]);\n\n  const onChangeFunc = ({ target }) => {\n    const files = target.files || [];\n    const file = files[0];\n\n    if (file) {\n      const reader = new FileReader();\n\n      reader.addEventListener('load', () => {\n        if (reader.result) {\n          const image = {\n            imageName: file.name,\n            source: reader.result,\n          };\n\n          setPreviewImage(image);\n        }\n      });\n      reader.readAsDataURL(file);\n    }\n  };\n\n  return (\n    <div\n      className=\"ImageUpload\"\n    >\n      <input\n        key=\"uploadInput\"\n        className=\"hide\"\n        ref={inputRef}\n        type=\"file\"\n        accept=\"image/png, image/jpeg, image/pjpeg\"\n        onChange={onChangeFunc}\n      />\n      {\n        croppable\n          ? (\n            <ReactCrop\n              crop={crop}\n              onChange={(newCrop) => setCrop(newCrop)}\n              src={previewImage ? previewImage.source : ''}\n              onComplete={(completeCrop, percentageCrop) => {\n                const updatedImage = previewImage;\n                updatedImage.crop = percentageCrop;\n\n                setPreviewImage(updatedImage);\n              }}\n            />\n          )\n          : (\n            <Image\n              ref={previewRef}\n              onRemove={() => setPreviewImage(undefined)}\n              className={`previewImage ${!previewImage ? 'hide' : ''}`}\n              image={previewImage ? previewImage.source : ''}\n              altText=\"Image preview\"\n            />\n          )\n      }\n      <Button\n        type=\"button\"\n        onClick={() => { inputRef.current.click(); }}\n      >\n        <ImageIcon />\n        {!useIcon && (<span>{previewImage ? 'Change image' : label || 'Upload image'}</span>)}\n      </Button>\n    </div>\n  );\n};\n\nexport default React.memo(ImageUpload);\n\nImageUpload.propTypes = {\n  useIcon: bool,\n  presetImage: string,\n  label: node,\n  croppable: bool,\n};\n\nImageUpload.defaultProps = {\n  useIcon: false,\n  presetImage: undefined,\n  label: undefined,\n  croppable: undefined,\n};\n","import React, { useEffect, useRef, useState } from 'react';\nimport {\n  bool,\n  func, node, number,\n  string,\n} from 'prop-types';\nimport { useFormContext, useWatch } from 'react-hook-form';\n\nimport './Textarea.scss';\n\nconst Textarea = ({\n  name,\n  maxLength,\n  onKeyDown,\n  onChange,\n  label,\n  required = false,\n  placeholder = '',\n}) => {\n  const { register, control } = useFormContext();\n  const text = useWatch({ control, name });\n  const [hasFocus, setHasFocus] = useState(false);\n  const [isEmpty, setIsEmpty] = useState(false);\n  const inputRef = useRef(null);\n\n  const resize = () => {\n    if (inputRef.current) {\n      const textarea = inputRef.current;\n\n      if (document.activeElement === textarea && (!textarea.style.height || (textarea.scrollHeight.toString() !== textarea.style.height.split('px')[0]))) {\n        textarea.style.height = 'auto';\n        textarea.style.height = `${textarea.scrollHeight}px`;\n        inputRef.current.scrollIntoView({ block: 'nearest' });\n      }\n    }\n  };\n\n  useEffect(() => {\n    resize();\n  }, [text]);\n\n  const checkEmpty = (event) => {\n    const value = event.target.value.trim();\n\n    if (hasFocus && required) {\n      setIsEmpty(value !== '');\n    }\n  };\n\n  return (\n    <div className=\"Textarea\">\n      {label && <span>{label}</span>}\n      <textarea\n        onChange={onChange}\n        onKeyDown={onKeyDown}\n        rows={1}\n        maxLength={maxLength}\n        required={required}\n        name={name}\n        ref={(element) => {\n          inputRef.current = element;\n          register(element, {\n            maxLength,\n          });\n        }}\n        defaultValue=\"\"\n        className={`Textarea ${isEmpty ? 'empty' : ''}`}\n        onFocus={() => setHasFocus(true)}\n        onBlur={checkEmpty}\n        placeholder={placeholder}\n      />\n    </div>\n  );\n};\n\nexport default Textarea;\n\nTextarea.propTypes = {\n  placeholder: string,\n  required: bool,\n  name: string.isRequired,\n  maxLength: number,\n  onKeyDown: func,\n  onChange: func,\n  label: node,\n};\n\nTextarea.defaultProps = {\n  placeholder: '',\n  required: false,\n  maxLength: undefined,\n  onKeyDown: undefined,\n  onChange: undefined,\n  label: undefined,\n};\n","var _path, _line;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgCloudOff = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-cloud-off\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3\"\n  })), _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 1,\n    y1: 1,\n    x2: 23,\n    y2: 23\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgCloudOff, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/cloud-off.60e73c4a.svg\";\nexport { ForwardRef as ReactComponent };","var _line, _polygon;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgSend = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-send\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 22,\n    y1: 2,\n    x2: 11,\n    y2: 13\n  })), _polygon || (_polygon = /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"22 2 15 22 11 13 2 9 22 2\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgSend, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/send.22ca9bdc.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport ImageUpload from '../../../common/sub-components/ImageUpload/ImageUpload';\nimport { AccessLevels } from '../../../../AccessCentral';\nimport { isOnline } from '../../../../redux/selectors/online';\nimport { getCurrentAccessLevel } from '../../../../redux/selectors/users';\nimport { getAllowedImages } from '../../../../redux/selectors/config';\nimport Button from '../../../common/sub-components/Button/Button';\nimport { sendMessage } from '../../../../socket/actions/messages';\nimport IdentityPicker from '../../../common/lists/IdentityPicker/IdentityPicker';\nimport Textarea from '../../../common/sub-components/Textarea/Textarea';\nimport { ReactComponent as CloudOff } from '../../../../icons/cloud-off.svg';\nimport { ReactComponent as Send } from '../../../../icons/send.svg';\n\nimport './InputArea.scss';\n\nconst InputArea = ({\n  roomId,\n  onSend,\n  minAccessLevel = AccessLevels.STANDARD,\n}) => {\n  const [isSending, setIsSending] = useState(false);\n  const formMethods = useForm();\n  const buttonRef = useRef(null);\n  const online = useSelector(isOnline);\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const allowedImages = useSelector(getAllowedImages);\n\n  const onChange = (event) => {\n    const { value } = event.target;\n\n    if (value.match(/.*\\s@[a-z\\S]+$/)) {\n      console.log('match');\n    }\n  };\n\n  const onSubmit = ({\n    text,\n    image,\n  }) => {\n    setIsSending(true);\n\n    sendMessage({\n      roomId,\n      image,\n      text,\n    }).then(({ message, switchRoom }) => {\n      formMethods.setValue('text', '');\n      formMethods.setValue('image', undefined);\n\n      if (switchRoom) {\n        onSend({ roomId: message.roomId });\n      }\n\n      setIsSending(false);\n    }).catch((error) => {\n      console.log('error', error);\n\n      setIsSending(false);\n    });\n  };\n\n  return (\n    <div className=\"InputArea\">\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <div className=\"input\">\n            {\n              allowedImages.CHAT\n              && (\n                <ImageUpload useIcon />\n              )\n            }\n            <Textarea\n              onChange={onChange}\n              key=\"input\"\n              name=\"text\"\n              onKeyDown={(event) => {\n                const { key, altKey } = event;\n\n                if (altKey && key === 'Enter' && buttonRef.current) {\n                  buttonRef.current.click();\n\n                  event.preventDefault();\n                }\n              }}\n              placeholder={online ? 'Alt+Enter to send' : 'Reconnecting...'}\n            />\n            <Button\n              ref={buttonRef}\n              disabled={!online || isSending}\n              key=\"send\"\n              type=\"submit\"\n              className=\"sendButton\"\n              onClick={() => {}}\n            >\n              {online\n                ? (\n                  <Send />\n                )\n                : (\n                  <CloudOff />\n                )}\n            </Button>\n          </div>\n        </form>\n      </FormProvider>\n    </div>\n  );\n};\n\nexport default React.memo(InputArea);\n\nInputArea.propTypes = {\n  minAccessLevel: number,\n  roomId: string.isRequired,\n  onSend: func.isRequired,\n};\n\nInputArea.defaultProps = {\n  minAccessLevel: AccessLevels.STANDARD,\n};\n","import createCachedSelector from 're-reselect';\nimport { createSelectorCreator, defaultMemoize } from 'reselect';\n\nimport { MessageType } from '../reducers/messages';\n\nexport const getMessageById = (state, { id }) => state.messages.get(id);\n\nexport const getAllMessages = (state) => state.messages;\n\nexport const getMessagesByRoom = createCachedSelector(\n  [\n    getAllMessages,\n    (_, { roomId }) => roomId,\n  ],\n  (messages, roomId) => [...messages.values()].filter((message) => message.roomId === roomId),\n)((_, { roomId }) => roomId);\n\nexport const getNews = createCachedSelector(\n  [getAllMessages],\n  (messages) => [...messages.values()]\n    .filter((message) => message.messageType === MessageType.NEWS)\n    .reverse(),\n)(() => 'news');\n\nexport const getMessageIdsByRoom = createCachedSelector(\n  [getMessagesByRoom],\n  (messages) => messages.map(({ objectId }) => objectId),\n)((_, { roomId }) => `id-${roomId}`);\n\nexport const getNewsIdsPoints = createCachedSelector(\n  [getNews],\n  (messages) => messages\n    .map(({ objectId, points }) => ({ objectId, points })),\n)({\n  keySelector: () => 'news-ids',\n  selectorCreator: createSelectorCreator(\n    defaultMemoize,\n    (a, b) => a.length === b.length && b.every((message, index) => {\n      const otherMessage = a[index];\n\n      return otherMessage && otherMessage.objectId === message.objectId;\n    }),\n  ),\n});\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport { getIdentityOrTeamName } from '../../../../../../redux/selectors/users';\nimport { getDayModification, getYearModification } from '../../../../../../redux/selectors/config';\nimport store from '../../../../../../redux/store';\nimport { changeWindowOrder } from '../../../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../../../redux/reducers/windowOrder';\nimport { getTimestamp } from '../../../../../../TextTools';\n\nimport './MessageInfo.scss';\n\nconst MessageInfo = ({ identityId, timeCreated }) => {\n  const { name } = useSelector((state) => getIdentityOrTeamName(state, { id: identityId }));\n  const dayModification = useSelector(getDayModification);\n  const yearModification = useSelector(getYearModification);\n  const timestamp = getTimestamp({ date: timeCreated, dayModification, yearModification });\n\n  return (\n    <p className=\"MessageInfo\">\n      <span className=\"time\">\n        {timestamp.halfTime}\n      </span>\n      <span\n        role=\"button\"\n        tabIndex={0}\n        className=\"clickable username\"\n        onClick={(event) => {\n          if (name) {\n            store.dispatch(changeWindowOrder({\n              windows: [{\n                id: `${WindowTypes.DIALOGPROFILE}-${identityId}`,\n                value: {\n                  identityId,\n                  type: WindowTypes.DIALOGPROFILE,\n                },\n              }],\n            }));\n          }\n\n          event.stopPropagation();\n        }}\n      >\n        {name || '-'}\n      </span>\n    </p>\n  );\n};\n\nexport default React.memo(MessageInfo);\n\nMessageInfo.propTypes = {\n  identityId: string.isRequired,\n  timeCreated: string.isRequired,\n};\n","import React, { useRef } from 'react';\nimport {\n  bool,\n  string,\n} from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport MessageInfo from './MessageInfo/MessageInfo';\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getMessageById } from '../../../../../redux/selectors/messages';\nimport { hasAccessTo } from '../../../../../AccessCentral';\nimport { getCurrentUser } from '../../../../../redux/selectors/users';\nimport store from '../../../../../redux/store';\nimport Image from '../../../../common/sub-components/Image/Image';\n\nimport './MessageItem.scss';\n\nconst MessageItem = ({\n  previousMessageId,\n  messageId,\n  isLatest = false,\n  selected = false,\n}) => {\n  const itemRef = useRef();\n  const previousMessage = useSelector((state) => getMessageById(state, { id: previousMessageId }));\n  const message = useSelector((state) => getMessageById(state, { id: messageId }));\n  const currentUser = getCurrentUser(store.getState());\n\n  const { hasFullAccess } = hasAccessTo({\n    objectToAccess: message,\n    toAuth: currentUser,\n  });\n\n  const shouldCollapse = () => {\n    if (!previousMessage) {\n      return false;\n    }\n\n    if (new Date(message.lastUpdated).getTime() - 900000 > new Date(previousMessage.lastUpdated).getTime()) {\n      return false;\n    }\n\n    if ((previousMessage.ownerAliasId && message.ownerAliasId) && previousMessage.ownerAliasId === message.ownerAliasId) {\n      return true;\n    }\n\n    return (!previousMessage.ownerAliasId && !message.ownerAliasId) && previousMessage.ownerId === message.ownerId;\n  };\n\n  return (\n    <ListItem\n      scrollTo={selected || isLatest}\n      ref={itemRef}\n      className={`MessageItem ${hasFullAccess ? 'clickable' : ''} ${message.ownerId === currentUser.objectId || currentUser.aliases.includes(message.ownerAliasId) ? 'sender' : ''}`}\n      key={messageId}\n    >\n      {!shouldCollapse() && (\n        <MessageInfo\n          key=\"msgInfo\"\n          identityId={message.ownerAliasId || message.ownerId}\n          timeCreated={message.customTimeCreated || message.timeCreated}\n        />\n      )}\n      <div className=\"text\">\n        {/* eslint-disable-next-line react/no-array-index-key */}\n        {message.text.map((line, index) => <p key={index}>{line}</p>)}\n        {message.image && message.image.thumbFileName && (\n          <Image\n            scrollTo\n            key={message.image.thumbFileName}\n            image={`/upload/images/${message.image.thumbFileName}`}\n            altText=\"pic\"\n            width={message.image.thumbWidth}\n            height={message.image.thumbHeight}\n            fullImage={`/upload/images/${message.image.fileName}`}\n            fullWidth={message.image.width}\n            fullHeight={message.image.height}\n          />\n        )}\n      </div>\n    </ListItem>\n  );\n};\n\nexport default React.memo(MessageItem);\n\nMessageItem.propTypes = {\n  previousMessageId: string,\n  messageId: string.isRequired,\n  selected: bool,\n  isLatest: bool,\n};\n\nMessageItem.defaultProps = {\n  previousMessageId: undefined,\n  selected: false,\n  isLatest: false,\n};\n","import React, { useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport { getMessageIdsByRoom } from '../../../../redux/selectors/messages';\nimport List from '../../../common/lists/List/List';\nimport MessageItem from './Item/MessageItem';\n\nimport './MessageList.scss';\n\nconst MessageList = ({ roomId, messageId }) => {\n  const messageIds = useSelector((state) => getMessageIdsByRoom(state, { roomId }));\n  const latestMessageId = useRef('');\n\n  if (messageIds[messageIds.length - 1] !== latestMessageId) {\n    latestMessageId.current = messageIds[messageIds.length - 1];\n  }\n\n  const items = messageIds.map((id, index, array) => (\n    <MessageItem\n      isLatest={id === latestMessageId.current}\n      selected={messageId && messageId === id}\n      key={id}\n      previousMessageId={array[index - 1]}\n      messageId={id}\n    />\n  ));\n\n  return (\n    <List\n      observe=\"lower\"\n      key=\"messageList\"\n      className=\"MessageList\"\n    >\n      {items}\n    </List>\n  );\n};\n\nexport default React.memo(MessageList);\n\nMessageList.propTypes = {\n  roomId: string,\n  messageId: string,\n};\n\nMessageList.defaultProps = {\n  roomId: undefined,\n  messageId: undefined,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\nimport { AccessLevels } from '../../../../AccessCentral';\nimport InputArea from '../../sub-components/InputArea/InputArea';\nimport MessagesList from '../../lists/Message/MessageList';\nimport { getCurrentAccessLevel } from '../../../../redux/selectors/users';\n\nimport './Messages.scss';\n\nconst Messages = ({ roomId, onSend, messageId }) => {\n  const accessLevel = useSelector(getCurrentAccessLevel);\n\n  return (\n    <div className=\"Messages\">\n      <div className=\"spacer\" />\n      <MessagesList\n        key=\"messagesList\"\n        roomId={roomId}\n        messageId={messageId}\n      />\n      {accessLevel >= AccessLevels.STANDARD && (\n        <InputArea\n          onSend={onSend}\n          roomId={roomId}\n          key=\"inputArea\"\n        />\n      )}\n    </div>\n  );\n};\n\nexport default React.memo(Messages);\n\nMessages.propTypes = {\n  roomId: string,\n  onSend: func.isRequired,\n  messageId: string,\n};\n\nMessages.defaultProps = {\n  roomId: undefined,\n  messageId: undefined,\n};\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgTool = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-tool\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgTool, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/tool.d95f1f59.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport ListItem from '../../../common/lists/List/Item/ListItem';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder } from '../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport FileMenu from '../../../common/lists/FileMenu/FileMenu';\nimport { getRoomById } from '../../../../redux/selectors/rooms';\nimport { getCurrentUser } from '../../../../redux/selectors/users';\nimport { hasAccessTo } from '../../../../AccessCentral';\nimport { ReactComponent as Tool } from '../../../../icons/tool.svg';\nimport { ReactComponent as Plus } from '../../../../icons/plus.svg';\nimport { ReactComponent as LogOut } from '../../../../icons/log-out.svg';\nimport { ReactComponent as ChatIcon } from '../../../../icons/chat.svg';\n\nconst ChatFileMenu = ({ id, roomId }) => {\n  const currentUser = useSelector(getCurrentUser);\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n\n  const onCreateRoom = useCallback(() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCREATEROOM, value: { type: WindowTypes.DIALOGCREATEROOM } }] })), []);\n\n  const { hasFullAccess } = hasAccessTo({\n    objectToAccess: room,\n    toAuth: currentUser,\n  });\n\n  return (\n    <FileMenu\n      menuIcon={<ChatIcon />}\n      key=\"fileMenu\"\n      id={id}\n    >\n      {!currentUser.isAnonymous && (\n        <>\n          <ListItem\n            stopPropagation\n            key=\"createRoom\"\n            onClick={onCreateRoom}\n          >\n            <Plus />\n            New room\n          </ListItem>\n          <ListItem\n            stopPropagation\n            key=\"configRoom\"\n            onClick={() => {}}\n          >\n            <Tool />\n            {`${room.roomName} settings`}\n          </ListItem>\n        </>\n      )}\n      {room && !room.isWhisper && !room.isUser && !room.isSystemRoom && !room.isTeam && (\n        <ListItem\n          key=\"leaveRoom\"\n          onClick={() => {}}\n        >\n          <LogOut />\n          {`Leave ${room.roomName}`}\n        </ListItem>\n      )}\n      {hasFullAccess && room && !room.isWhisper && !room.isUser && !room.isSystemRoom && !room.isTeam && (\n        <ListItem\n          stopPropagation\n          key=\"removeRoom\"\n          onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGREMOVEROOM, value: { type: WindowTypes.DIALOGREMOVEROOM, roomId } }] }))}\n        >\n          {`Delete ${room.roomName}`}\n        </ListItem>\n      )}\n    </FileMenu>\n  );\n};\n\nexport default ChatFileMenu;\n\nChatFileMenu.propTypes = {\n  id: string.isRequired,\n  roomId: string.isRequired,\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport Rooms from './views/Rooms';\nimport Messages from './views/Messages/Messages';\nimport Window from '../common/Window/Window';\nimport { getRoomById, getWhisperRoomNames } from '../../redux/selectors/rooms';\nimport { getPublicRoomId } from '../../redux/selectors/config';\nimport store from '../../redux/store';\nimport { getCurrentUserIdentitiesNames, getIdentityById, getIsAnonymous } from '../../redux/selectors/users';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\nimport { ReactComponent as Close } from '../../icons/close.svg';\nimport { ReactComponent as Maximize } from '../../icons/maximize.svg';\nimport { ReactComponent as Settings } from '../../icons/settings.svg';\nimport { ReactComponent as Image } from '../../icons/image.svg';\nimport { ReactComponent as User } from '../../icons/user.svg';\nimport { ReactComponent as Lock } from '../../icons/lock.svg';\nimport { ReactComponent as ChatIcon } from '../../icons/chat.svg';\nimport ChatFileMenu from './lists/FileMenu/ChatFileMenu';\n\nimport './Chat.scss';\n\nconst Chat = ({\n  id,\n  index,\n  roomId,\n  messageId,\n}) => {\n  const [currentRoomId, setRoomId] = useState(roomId || getPublicRoomId(store.getState()));\n  const room = useSelector((state) => getRoomById(state, { id: currentRoomId }));\n  const isAnonymous = useSelector(getIsAnonymous);\n\n  useEffect(() => {\n    if ((isAnonymous || !room) && currentRoomId !== getPublicRoomId(store.getState())) {\n      setRoomId(getPublicRoomId(store.getState()));\n    }\n  }, [room, isAnonymous]);\n\n  useEffect(() => {\n    if (roomId && currentRoomId !== roomId) {\n      setRoomId(roomId);\n    }\n  }, [roomId]);\n\n  const title = (() => {\n    if (!room) {\n      return '';\n    }\n\n    if (room.isUser) {\n      const identity = getIdentityById(store.getState(), { id: currentRoomId });\n\n      return `${identity.aliasName || identity.username}`;\n    }\n\n    if (room.isWhisper) {\n      const identities = getCurrentUserIdentitiesNames(store.getState());\n      const names = getWhisperRoomNames(store.getState(), { ids: room.participantIds });\n\n      return identities.length === 1 ? names[1] : `${names[0] > names[1]}`;\n    }\n\n    return `${room.roomName}`;\n  })();\n\n  const onChange = useCallback(({ roomId: newRoomId } = {}) => {\n    setRoomId(newRoomId);\n  }, []);\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.CHAT } }] }));\n  }, []);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  return (\n    <Window\n      id={id}\n      index={index}\n      done={onDone}\n      className=\"Chat\"\n      title={<span>{title}</span>}\n      onClick={onClick}\n      menu={(\n        <>\n          <ChatFileMenu roomId={currentRoomId} id={id} />\n          <Rooms\n            roomId={currentRoomId}\n            key=\"rooms\"\n            onChange={onChange}\n          />\n        </>\n      )}\n      help={(\n        <ul>\n          <li>\n            <p>\n              <ChatIcon />\n              <span>CHAT APP Read and send messages, to users or rooms.</span>\n            </p>\n            <p>You can only read the Public chat without logging in.</p>\n            <p>Menus are on the left (or top in smaller windows). Messages from the current room are to the right (or below).</p>\n            <p>Your current room is shown in the title (CHAT: public) and in JOINED.</p>\n          </li>\n          <li>\n            <p>SEND The message input is shown on the bottom when you are logged in. You can send the message with either alt+Enter or clicking Send.</p>\n            <p>\n              <Image />\n              <span>IMAGE Attach an image. You can send a message with just an image.</span>\n            </p>\n            <p>\n              <User />\n              <span>YOU Your name. Click it to switch identities.</span>\n            </p>\n          </li>\n          <li>\n            <p>\n              FILE You can create a room, change settings (like changing password or name) or remove the room you are in.\n            </p>\n            <p>JOINED Shows you the rooms you joined. Click one to switch to it.</p>\n            <p>PM All private conversations are shown here. It always shows your name on the left.</p>\n            <p>\n              <span>{'ROOMS All available rooms that you haven\\'t joined yet.'}</span>\n              <Lock />\n              <span> means that the room is password-protected.</span>\n            </p>\n            <p>\n              <span>USERS All users. Send a private message to a user by clicking them and choosing </span>\n              <ChatIcon />\n              <span> in the pop-up.</span>\n            </p>\n          </li>\n          <li>\n            <Settings />\n            <span>APP SETTINGS Change settings for this app. You have to be logged in to access it.</span>\n          </li>\n          <li>\n            <Maximize />\n            <span>MAXIMIZE Make the window expand and take up all available space. Clicking it again will shrink the window.</span>\n          </li>\n          <li>\n            <Close />\n            <span>CLOSE Close the window</span>\n          </li>\n        </ul>\n      )}\n    >\n      <Messages\n        key=\"messages\"\n        messageId={messageId}\n        roomId={currentRoomId}\n        onSend={onChange}\n      />\n    </Window>\n  );\n};\n\nexport default React.memo(Chat);\n\nChat.propTypes = {\n  id: string.isRequired,\n  roomId: string,\n  index: number.isRequired,\n  messageId: string,\n};\n\nChat.defaultProps = {\n  roomId: undefined,\n  messageId: undefined,\n};\n","import React from 'react';\nimport {\n  func,\n  arrayOf,\n  string,\n  shape,\n  node, number,\n} from 'prop-types';\nimport Window from '../../Window/Window';\n\nimport './Dialog.scss';\nimport Button from '../../sub-components/Button/Button';\nimport store from '../../../../redux/store';\nimport { removeWindow } from '../../../../redux/actions/windowOrder';\n\nconst Dialog = ({\n  children,\n  title,\n  error,\n  text,\n  done,\n  onClick,\n  index,\n  id,\n  buttons,\n  className = '',\n}) => (\n  <Window\n    id={id}\n    index={index}\n    type=\"dialog\"\n    done={done}\n    title={title}\n    className={`Dialog ${className}`}\n    onClick={onClick}\n  >\n    {error && (\n      <div className=\"error\">\n        <span>{error.message}</span>\n      </div>\n    )}\n    {text && (\n      <div>{text}</div>\n    )}\n    <div className=\"contentContainer\">\n      {children}\n    </div>\n    {buttons.length > 0 && (\n      <div className=\"buttons\">\n        <Button stopPropagation type=\"button\" onClick={() => store.dispatch(removeWindow({ id }))}>\n          Cancel\n        </Button>\n        {buttons}\n      </div>\n    )}\n  </Window>\n);\n\nexport default React.memo(Dialog);\n\nDialog.propTypes = {\n  done: func.isRequired,\n  children: node,\n  error: shape({\n    type: string.isRequired,\n    text: arrayOf(string).isRequired,\n  }),\n  title: string,\n  text: string,\n  className: string,\n  onClick: func.isRequired,\n  index: number.isRequired,\n  id: string.isRequired,\n  buttons: arrayOf(node),\n};\n\nDialog.defaultProps = {\n  children: undefined,\n  error: undefined,\n  title: undefined,\n  text: undefined,\n  className: '',\n  buttons: undefined,\n};\n","import React, { useEffect, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch } from 'react-redux';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport Input from '../../common/sub-components/Input/Input';\nimport Button from '../../common/sub-components/Button/Button';\nimport { createRoom } from '../../../socket/actions/rooms';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport IdentityPicker from '../../common/lists/IdentityPicker/IdentityPicker';\n\nconst CreateRoomDialog = ({ id, index }) => {\n  const methods = useForm();\n\n  const onSubmit = ({\n    roomName,\n    password,\n    topic,\n  }) => {\n    const room = {\n      roomName,\n      password,\n      topic,\n    };\n\n    createRoom({ room })\n      .then(({ room: newRoom }) => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT, roomId: newRoom.objectId } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((createError) => console.log(createError));\n  };\n\n  if (methods.errors.repeatPassword) {\n    methods.setValue('repeatPassword', '');\n  }\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      className=\"CreateRoomDialog\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATEROOM } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      title=\"New room\"\n      buttons={[\n        <Button\n          type=\"submit\"\n          onClick={() => methods.handleSubmit(onSubmit)()}\n        >\n          Create\n        </Button>,\n      ]}\n    >\n      <FormProvider {...methods}>\n        <form onSubmit={methods.handleSubmit(onSubmit)}>\n          <div className=\"identity\">\n            <span>You are: </span>\n            <IdentityPicker />\n          </div>\n          <Input\n            required\n            label=\"Name of the room\"\n            maxLength={20}\n            name=\"roomName\"\n            placeholder=\"Name\"\n          />\n          <Input\n            label=\"Topic (shown when joining the room)\"\n            maxLength={300}\n            name=\"topic\"\n            placeholder=\"Topic\"\n          />\n          <Input\n            label=\"Optional password\"\n            minLength={4}\n            maxLength={100}\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n          />\n          <Input\n            label=\"Repeat password\"\n            minLength={4}\n            maxLength={100}\n            shouldEqual=\"password\"\n            name=\"repeatPassword\"\n            type=\"password\"\n            placeholder={`${methods.errors.repeatPassword ? 'Error. Passwords must match!' : 'Repeat password'}`}\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateRoomDialog);\n\nCreateRoomDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch, useSelector } from 'react-redux';\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport { getRoomById } from '../../../redux/selectors/rooms';\nimport Button from '../../common/sub-components/Button/Button';\nimport { removeRoom } from '../../../socket/actions/rooms';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\n\nconst RemoveRoomDialog = ({ id, roomId, index }) => {\n  const [error, setError] = useState();\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n\n  const onSubmit = () => {\n    removeRoom({ roomId })\n      .then(() => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((removeError) => setError(removeError));\n  };\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      className=\"RemoveRoomDialog\"\n      error={error}\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGREMOVEROOM, roomId } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      title={`Delete room ${room ? room.roomName : ''}`}\n      text={`Are you sure you want to delete ${room ? room.roomName : ''}?`}\n      buttons={[\n        <Button\n          type=\"submit\"\n          onClick={onSubmit}\n        >\n          Yes\n        </Button>,\n      ]}\n    />\n  );\n};\n\nexport default React.memo(RemoveRoomDialog);\n\nRemoveRoomDialog.propTypes = {\n  id: string.isRequired,\n  roomId: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useCallback, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from './Dialog/Dialog';\nimport { login } from '../../../socket/actions/auth';\nimport Input from '../sub-components/Input/Input';\nimport Button from '../sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\n\nconst LoginDialog = ({ id, index }) => {\n  const methods = useForm();\n  const [error, setError] = useState();\n\n  const onSubmit = async ({\n    username,\n    password,\n  }) => {\n    login(username, password)\n      .then(() => {\n        // TODO Notification: You are logged in\n        store.dispatch(removeWindow({ id }));\n      })\n      .catch((loginError) => {\n        setError(loginError);\n      });\n  };\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGLOGIN } }] }));\n  }, [id]);\n\n  const onSubmitCall = useCallback(() => methods.handleSubmit(onSubmit)(), []);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      className=\"LoginDialog\"\n      onClick={onClick}\n      done={onDone}\n      error={error}\n      title=\"Login\"\n      buttons={[\n        <Button\n          key=\"submit\"\n          type=\"submit\"\n          onClick={onSubmitCall}\n        >\n          Login\n        </Button>,\n      ]}\n    >\n      <FormProvider {...methods}>\n        <form onSubmit={methods.handleSubmit(onSubmit)}>\n          <Input\n            label=\"Username\"\n            name=\"username\"\n            placeholder=\"Username\"\n          />\n          <Input\n            label=\"Password\"\n            name=\"password\"\n            placeholder=\"Password\"\n            type=\"password\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(LoginDialog);\n\nLoginDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useEffect, useState } from 'react';\nimport {\n  arrayOf,\n  bool,\n  element,\n  func, node, number, oneOfType,\n  string,\n} from 'prop-types';\nimport { useFormContext } from 'react-hook-form';\n\nimport './Select.scss';\n\nconst Select = ({\n  onChange,\n  children,\n  name,\n  defaultValue,\n  label,\n  required = false,\n  placeholder = '',\n  multiple = false,\n}) => {\n  const { register, unregister } = useFormContext();\n  const [hasFocus, setHasFocus] = useState(false);\n  const [isEmpty, setIsEmpty] = useState(false);\n\n  const checkEmpty = (event) => {\n    const selectedOptions = Array\n      .from(event.target.selectedOptions)\n      .filter((option) => option.value !== '');\n\n    if (hasFocus && required) {\n      setIsEmpty(selectedOptions.length === 0);\n    }\n  };\n\n  const onChangeFunc = (event) => {\n    checkEmpty(event);\n\n    if (onChange) {\n      onChange(Array\n        .from(event.target.selectedOptions)\n        .map((option) => option.value)\n        .filter((value) => value !== ''));\n    }\n  };\n\n  useEffect(() => () => unregister(name), []);\n\n  return (\n    <div>\n      {label && <span>{label}</span>}\n      <select\n        defaultValue={defaultValue}\n        required={required}\n        name={name}\n        ref={register}\n        className={`Select ${isEmpty ? 'empty' : ''}`}\n        onFocus={() => setHasFocus(true)}\n        onBlur={checkEmpty}\n        onChange={onChangeFunc}\n        placeholder={placeholder}\n        multiple={multiple}\n      >\n        {children}\n      </select>\n    </div>\n  );\n};\n\nexport default Select;\n\nSelect.propTypes = {\n  multiple: bool,\n  children: arrayOf(element),\n  placeholder: string,\n  onChange: func,\n  required: bool,\n  name: string.isRequired,\n  defaultValue: oneOfType([string, arrayOf(string), number]),\n  label: node,\n};\n\nSelect.defaultProps = {\n  multiple: false,\n  children: undefined,\n  placeholder: '',\n  required: false,\n  onChange: undefined,\n  defaultValue: undefined,\n  label: undefined,\n};\n","import React from 'react';\nimport { arrayOf, string } from 'prop-types';\n\nimport Select from './Select/Select';\n\nexport const Pronouns = {\n  they: 'They/Them',\n  she: 'She/Her',\n  he: 'He/Him',\n  it: 'It',\n};\n\nconst PronounsSelect = ({ preselected }) => (\n  <div>\n    <span>Pronouns</span>\n    <Select\n      multiple\n      required\n      defaultValue={preselected}\n      name=\"pronouns\"\n    >\n      <option value=\"they\">They/Them</option>\n      <option value=\"she\">She/Her</option>\n      <option value=\"he\">He/Him</option>\n      <option value=\"it\">It</option>\n    </Select>\n  </div>\n);\n\nexport default PronounsSelect;\n\nPronounsSelect.propTypes = {\n  preselected: arrayOf(string),\n};\n\nPronounsSelect.defaultProps = {\n  preselected: undefined,\n};\n","import React, { useCallback, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from './Dialog/Dialog';\nimport { login } from '../../../socket/actions/auth';\nimport Input from '../sub-components/Input/Input';\nimport Textarea from '../sub-components/Textarea/Textarea';\nimport { getRequireOffName } from '../../../redux/selectors/config';\nimport Button from '../sub-components/Button/Button';\nimport { createUser } from '../../../socket/actions/users';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport PronounsSelect from '../sub-components/selects/PronounsSelect';\nimport ImageUpload from '../sub-components/ImageUpload/ImageUpload';\n\nconst RegisterDialog = ({ id, index }) => {\n  const formMethods = useForm();\n  const [error, setError] = useState();\n  const requireOffName = useSelector(getRequireOffName);\n\n  const onSubmit = async ({\n    offName,\n    username,\n    password,\n    repeatPassword,\n    pronouns,\n    description,\n    image,\n  }) => {\n    if ((requireOffName && !offName) || !username || !password || !repeatPassword || !pronouns) {\n      return;\n    }\n\n    if (password !== repeatPassword) {\n      return;\n    }\n\n    const params = {\n      image,\n      user: {\n        offName,\n        username,\n        password,\n        pronouns,\n        description: description ? description.split('\\n') : undefined,\n      },\n    };\n\n    try {\n      await createUser(params);\n\n      // TODO If no auto-login, Notification: User registered\n\n      await login(username, password);\n\n      // TODO Notification: You are logged in as user\n\n      store.dispatch(removeWindow({ id }));\n    } catch (registerError) {\n      setError(registerError);\n    }\n  };\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGREGISTER } }] }));\n  }, [id]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onSubmitCall = useCallback(() => formMethods.handleSubmit(onSubmit)(), []);\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      error={error}\n      onClick={onClick}\n      done={onDone}\n      title=\"Register user\"\n      buttons={[\n        <Button\n          key=\"submit\"\n          type=\"submit\"\n          onClick={onSubmitCall}\n        >\n          Register\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          {\n            requireOffName && (\n              <Input\n                required\n                label=\"Out-of-game name (willy only be visible to organisers)\"\n                key=\"offName\"\n                maxLength={100}\n                name=\"offName\"\n                placeholder=\"Out-of-game name\"\n              />\n            )\n          }\n          <Input\n            required\n            label=\"Username/Name\"\n            key=\"username\"\n            maxLength={30}\n            name=\"username\"\n            placeholder=\"Username\"\n          />\n          <PronounsSelect key=\"pronouns\" />\n          <Input\n            required\n            label=\"Password\"\n            key=\"password\"\n            minLength={4}\n            maxLength={100}\n            name=\"password\"\n            placeholder=\"Password\"\n            type=\"password\"\n          />\n          <Input\n            required\n            label=\"Repeat password\"\n            key=\"repeatPassword\"\n            minLength={4}\n            maxLength={100}\n            shouldEqual=\"password\"\n            name=\"repeatPassword\"\n            placeholder=\"Repeat password\"\n            type=\"password\"\n          />\n          <Textarea\n            label=\"Description. Who are you?\"\n            key=\"description\"\n            maxLength={300}\n            name=\"description\"\n            placeholder=\"Description\"\n          />\n          <ImageUpload key=\"imageUpload\" label=\"Upload profile image\" />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(RegisterDialog);\n\nRegisterDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import {\n  SendEvents,\n  emitSocketEvent,\n} from '../SocketManager';\nimport store from '../../redux/store';\nimport { createNewAlias, updateAliases } from '../../redux/actions/aliases';\n\nexport const createAlias = async (params) => {\n  const result = await emitSocketEvent(SendEvents.ALIAS, params);\n\n  await store.dispatch(createNewAlias(result));\n\n  return result;\n};\n\nexport const updateAlias = async ({\n  aliasId,\n  alias,\n  image,\n  resetImage,\n}) => {\n  const result = await emitSocketEvent(SendEvents.UPDATEALIAS, {\n    aliasId,\n    alias,\n    image,\n    options: { resetImage },\n  });\n\n  console.log(result);\n\n  await store.dispatch(updateAliases({ aliases: [result.alias] }));\n\n  return result;\n};\n","import React, { useCallback, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from './Dialog/Dialog';\nimport Button from '../sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport Input from '../sub-components/Input/Input';\nimport Select from '../sub-components/selects/Select/Select';\nimport Textarea from '../sub-components/Textarea/Textarea';\nimport { createAlias } from '../../../socket/actions/aliases';\nimport ImageUpload from '../sub-components/ImageUpload/ImageUpload';\nimport PronounsSelect from '../sub-components/selects/PronounsSelect';\n\nconst CreateAliasDialog = ({ id, index }) => {\n  const formMethods = useForm();\n  const [image, setImage] = useState();\n\n  const onSubmit = async ({\n    aliasName,\n    pronouns,\n    description,\n  }) => {\n    const params = {\n      image,\n      alias: {\n        aliasName,\n        pronouns,\n        description: description ? description.split('\\n') : undefined,\n      },\n    };\n\n    createAlias(params)\n      .then(() => store.dispatch(removeWindow({ id })))\n      .catch((error) => console.log(error));\n  };\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATEALIAS } }] }));\n  }, [id]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onSubmitCall = useCallback(() => formMethods.handleSubmit(onSubmit)(), []);\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      title=\"New alias\"\n      onClick={onClick}\n      done={onDone}\n      buttons={[\n        <Button\n          stopPropagation\n          key=\"submit\"\n          type=\"submit\"\n          onClick={onSubmitCall}\n        >\n          Create\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <Input\n            required\n            label=\"Alias name\"\n            maxLength={30}\n            name=\"aliasName\"\n            placeholder=\"Alias name\"\n          />\n          <PronounsSelect />\n          <ImageUpload label=\"Upload profile image\" />\n          <Textarea\n            label=\"Description\"\n            maxLength={300}\n            name=\"description\"\n            placeholder=\"Description\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateAliasDialog);\n\nCreateAliasDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import { emitSocketEvent, SendEvents } from '../SocketManager';\nimport store from '../../redux/store';\nimport { doTransaction } from '../../redux/actions/transactions';\nimport { getAliasId } from '../../redux/selectors/aliasId';\n\nexport const createTransaction = async ({ transaction }) => {\n  const transactionToCreate = {\n    ...transaction,\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n  };\n  const result = await emitSocketEvent(SendEvents.TRANSACTION, { transaction: transactionToCreate });\n\n  await store.dispatch(doTransaction(result));\n\n  return result;\n};\n","import React, { useCallback } from 'react';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\nimport { useSelector } from 'react-redux';\n\nimport Dialog from './Dialog/Dialog';\nimport Button from '../sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport Input from '../sub-components/Input/Input';\nimport Select from '../sub-components/selects/Select/Select';\nimport { createTransaction } from '../../../socket/actions/transactions';\nimport { getWalletIdsByCurrentUser } from '../../../redux/selectors/wallets';\nimport {\n  getIdentitiesOrTeamsByIds,\n  getIdentityOrTeamName\n} from '../../../redux/selectors/users';\nimport { getCurrentIdentityId } from '../../../redux/selectors/userId';\n\nconst CreateTransactionDialog = ({\n  id,\n  toWalletId,\n  amount,\n  index,\n}) => {\n  const formMethods = useForm();\n  const identityId = useSelector(getCurrentIdentityId);\n  const walletIds = useSelector(getWalletIdsByCurrentUser);\n  const identities = useSelector((state) => getIdentitiesOrTeamsByIds(state, { ids: walletIds }));\n  const toName = useSelector((state) => getIdentityOrTeamName(state, { id: toWalletId }));\n  const walletOptions = [];\n\n  const onSubmit = async ({\n    note,\n    fromWalletId,\n    amount: chosenAmount,\n  }) => {\n    const transaction = {\n      note,\n      fromWalletId,\n      toWalletId,\n      amount: chosenAmount,\n    };\n\n    createTransaction({ transaction })\n      .then(() => store.dispatch(removeWindow({ id })))\n      .catch((error) => console.log(error));\n  };\n\n  identities.forEach((identity) => {\n    walletOptions.push((\n      <option\n        key={identity.objectId}\n        value={identity.objectId}\n      >\n        {identity.teamName || identity.aliasName || identity.username}\n      </option>\n    ));\n  });\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATETRANSACTION, toWalletId } }] }));\n  }, [id, toWalletId]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onSubmitCall = useCallback(() => formMethods.handleSubmit(onSubmit)(), []);\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      title={`Transfer to ${toName}`}\n      onClick={onClick}\n      done={onDone}\n      buttons={[\n        <Button\n          stopPropagation\n          key=\"submit\"\n          type=\"submit\"\n          onClick={onSubmitCall}\n        >\n          Transfer\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <p>{`You are making a transfer to ${toName}`}</p>\n          {walletOptions.length > 1 && (\n            <Select\n              required\n              label=\"From your wallet\"\n              defaultValue={identityId}\n              name=\"fromWalletId\"\n            >\n              <>{walletOptions}</>\n            </Select>\n          )}\n          <Input\n            required\n            label=\"Amount\"\n            defaultValue={amount}\n            name=\"amount\"\n            placeholder=\"Amount\"\n          />\n          <Input\n            label=\"Note\"\n            maxLength={50}\n            name=\"note\"\n            placeholder=\"Note\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateTransactionDialog);\n\nCreateTransactionDialog.propTypes = {\n  id: string.isRequired,\n  toWalletId: string.isRequired,\n  index: number.isRequired,\n  amount: number,\n};\n\nCreateTransactionDialog.defaultProps = {\n  amount: undefined,\n};\n","import {\n  SendEvents,\n  emitSocketEvent,\n} from '../SocketManager';\nimport store from '../../redux/store';\nimport { createDocFiles, updateDocFiles } from '../../redux/actions/docFiles';\nimport { getAliasId } from '../../redux/selectors/aliasId';\nimport { getDocFileById } from '../../redux/selectors/docFiles';\nimport { getCurrentUser } from '../../redux/selectors/users';\nimport { hasAccessTo } from '../../AccessCentral';\n\nexport const createDocFile = async ({ docFile, images }) => {\n  const docFileToCreate = {\n    ...docFile,\n    code: docFile.code !== '' ? docFile.code : undefined,\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n    text: docFile.text.split('\\n'),\n  };\n\n  const result = await emitSocketEvent(SendEvents.DOCFILE, { docFile: docFileToCreate, images });\n\n  await store.dispatch(createDocFiles({ docFiles: [result.docFile] }));\n\n  return result;\n};\n\nexport const unlockDocFile = async ({ docFileId, code }) => {\n  const data = {\n    docFileId,\n    code,\n    aliasId: getAliasId(store.getState()) || undefined,\n  };\n  const currentUser = getCurrentUser(store.getState());\n  const storedDocFile = getDocFileById(store.getState(), { id: docFileId });\n\n  if (currentUser.isAnonymous && storedDocFile.isPublic) {\n    return { docFile: storedDocFile };\n  }\n\n  const { hasAccess, adminAccess } = hasAccessTo({\n    toAuth: currentUser,\n    objectToAccess: {\n      ...storedDocFile,\n      isPublic: false,\n    },\n  });\n\n  if (hasAccess && !adminAccess) {\n    return { docFile: storedDocFile };\n  }\n\n  const result = await emitSocketEvent(SendEvents.UNLOCKDOCFILE, data);\n\n  await store.dispatch(updateDocFiles({ docFiles: [result.docFile] }));\n\n  return result;\n};\n","import React from 'react';\nimport { string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getDocFileById } from '../../../../../redux/selectors/docFiles';\nimport { ReactComponent as Lock } from '../../../../../icons/lock.svg';\nimport { ReactComponent as File } from '../../../../../icons/file.svg';\nimport store from '../../../../../redux/store';\nimport { changeWindowOrder } from '../../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../../redux/reducers/windowOrder';\nimport { getCurrentAccessLevel, getIdentityImage, getIdentityOrTeamName } from '../../../../../redux/selectors/users';\nimport { AccessLevels } from '../../../../../AccessCentral';\nimport { unlockDocFile } from '../../../../../socket/actions/docFiles';\nimport Image from '../../../../common/sub-components/Image/Image';\n\nimport './DocFileItem.scss';\n\nconst DocFileItem = ({ docFileId }) => {\n  const docFile = useSelector((state) => getDocFileById(state, { id: docFileId }));\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const creatorImage = useSelector((state) => getIdentityImage(state, { id: docFile.ownerAliasId || docFile.ownerId }));\n  const { name: creatorName } = useSelector((state) => getIdentityOrTeamName(state, { id: docFile.ownerAliasId || docFile.ownerId }));\n  let icon;\n\n  if (docFile.isLocked) {\n    icon = <Lock />;\n  } else if (docFile.images && docFile.images[0]) {\n    icon = <Image image={`/upload/images/${docFile.images[0].thumbFileName}`} />;\n  } else {\n    icon = <File />;\n  }\n\n  return (\n    <ListItem\n      stopPropagation\n      elementId={`docFile-${docFileId}`}\n      className=\"DocFileItem\"\n      key={docFile.objectId}\n      onClick={() => {\n        if (docFile.isLocked && accessLevel < AccessLevels.ADMIN) {\n          store.dispatch(changeWindowOrder({\n            windows: [{\n              id: `${WindowTypes.DIALOGUNLOCKFILE}-${docFileId}`,\n              value: {\n                docFileId,\n                type: WindowTypes.DIALOGUNLOCKFILE,\n              },\n            }],\n          }));\n\n          return;\n        }\n\n        unlockDocFile({ docFileId })\n          .then(() => store.dispatch(changeWindowOrder({\n            windows: [{\n              id: `${WindowTypes.DOCFILEVIEW}-${docFileId}`,\n              value: {\n                docFileId,\n                type: WindowTypes.DOCFILEVIEW,\n              },\n            }],\n          })))\n          .catch((error) => console.log(error));\n      }}\n    >\n      <div className=\"icon\">{icon}</div>\n      <span className=\"title\">{docFile.title}</span>\n      <span className=\"by icon\">\n        {\n          creatorImage\n            ? <Image image={`/upload/images/${creatorImage.thumbFileName}`} />\n            : `${creatorName.slice(0, 4)}`\n        }\n      </span>\n    </ListItem>\n  );\n};\n\nexport default React.memo(DocFileItem);\n\nDocFileItem.propTypes = {\n  docFileId: string.isRequired,\n};\n","var _polyline;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgChevronDown = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-chevron-down\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"6 9 12 15 18 9\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgChevronDown, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/chevron-down.8eb39ce4.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useForm, useWatch } from 'react-hook-form';\n\nimport List from '../../../common/lists/List/List';\nimport { getDocFilesForList } from '../../../../redux/selectors/docFiles';\nimport DocFileItem from './Item/DocFileItem';\nimport SearchItem from '../../../common/lists/List/Search/SearchItem';\nimport { getIdentityOrTeamName } from '../../../../redux/selectors/users';\nimport store from '../../../../redux/store';\nimport ListItem from '../../../common/lists/List/Item/ListItem';\nimport { ReactComponent as ChevronDown } from '../../../../icons/chevron-down.svg';\n\nimport './DocFileList.scss';\n\nconst SortBy = {\n  TITLE: 'title',\n  CREATOR: 'creator',\n  TYPE: 'type',\n};\n\nconst DocFileList = () => {\n  const listRef = useRef();\n  const formMethods = useForm();\n  const partial = useWatch({ control: formMethods.control, name: 'search' });\n  const docFiles = useSelector(getDocFilesForList);\n  const [sortBy, setSortBy] = useState(SortBy.TITLE);\n\n  const items = (() => {\n    let files = docFiles\n      .sort((a, b) => {\n        let valueA;\n        let valueB;\n\n        if (sortBy === SortBy.TITLE) {\n          valueA = a.title.toLowerCase();\n          valueB = b.title.toLowerCase();\n        } else if (sortBy === SortBy.CREATOR) {\n          valueA = getIdentityOrTeamName(store.getState(), { id: a.ownerAliasId || a.ownerId }).name;\n          valueB = getIdentityOrTeamName(store.getState(), { id: b.ownerAliasId || b.ownerId }).name;\n        } else if (sortBy === SortBy.TYPE) {\n          valueA = a.isLocked ? 1 : 0;\n          valueB = b.isLocked ? 1 : 0;\n        }\n\n        if (valueA > valueB) {\n          return 1;\n        }\n\n        if (valueA < valueB) {\n          return -1;\n        }\n\n        return 0;\n      });\n\n    if (partial && partial.length > 0) {\n      files = files.filter((file) => {\n        const creatorName = getIdentityOrTeamName(store.getState(), { id: file.ownerAliasId || file.ownerId }).name;\n        const partialSearch = partial.toLowerCase();\n\n        return file.title.toLowerCase().includes(partialSearch)\n          || (file.tags || []).includes(partialSearch)\n          || creatorName.toLowerCase().includes(partialSearch);\n      });\n    }\n\n    return files.map(({ objectId }) => <DocFileItem key={objectId} docFileId={objectId} />);\n  })();\n\n  const onSubmit = () => {\n    if (items.length === 0) {\n      formMethods.reset();\n    } else if (items.length === 1) {\n      const docFileItem = listRef.current.querySelector(`#docFile-${items[0].key}`);\n\n      if (docFileItem) {\n        docFileItem.click();\n\n        formMethods.reset();\n      }\n    }\n  };\n\n  return (\n    <List\n      alwaysExpanded\n      className=\"DocFileList\"\n      ref={listRef}\n    >\n      <SearchItem onSubmit={onSubmit} formMethods={formMethods} placeholder=\"Search by tile/tags/author\" />\n      <ListItem className=\"DocFileItem header\">\n        <div className=\"icon clickable\" onClick={() => setSortBy(SortBy.TYPE)}>\n          #\n          {sortBy === SortBy.TYPE && (<ChevronDown />)}\n        </div>\n        <span className=\"title clickable\" onClick={() => setSortBy(SortBy.TITLE)}>\n          Title\n          {sortBy === SortBy.TITLE && (<ChevronDown />)}\n        </span>\n        <span className=\"by icon clickable\" onClick={() => setSortBy(SortBy.CREATOR)}>\n          By\n          {sortBy === SortBy.CREATOR && (<ChevronDown />)}\n        </span>\n      </ListItem>\n      {items}\n    </List>\n  );\n};\n\nexport default React.memo(DocFileList);\n","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport ListItem from '../../../common/lists/List/Item/ListItem';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder } from '../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport FileMenu from '../../../common/lists/FileMenu/FileMenu';\nimport { getCurrentUser } from '../../../../redux/selectors/users';\nimport { ReactComponent as Plus } from '../../../../icons/plus.svg';\nimport { ReactComponent as Files } from '../../../../icons/files.svg';\n\nconst DocFileFileMenu = ({ id }) => {\n  const currentUser = useSelector(getCurrentUser);\n\n  const onCreate = useCallback(() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCREATEDOCFILE, value: { type: WindowTypes.DIALOGCREATEDOCFILE } }] })));\n\n  return (\n    <FileMenu\n      menuIcon={<Files />}\n      key=\"fileMenu\"\n      id={id}\n    >\n      {!currentUser.isAnonymous && (\n        <ListItem\n          stopPropagation\n          onClick={onCreate}\n          key=\"createDocFile\"\n        >\n          <Plus />\n          <span>New document</span>\n        </ListItem>\n      )}\n    </FileMenu>\n  );\n};\n\nexport default DocFileFileMenu;\n\nDocFileFileMenu.propTypes = {\n  id: string.isRequired,\n};\n","import React, { useCallback } from 'react';\nimport { number, string } from 'prop-types';\n\nimport Window from '../common/Window/Window';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\nimport DocFileList from './lists/DocFile/DocFileList';\n\nimport './DocFileDir.scss';\nimport DocFileFileMenu from './lists/FileMenu/DocFileFileMenu';\n\nconst DocFileDir = ({ id, index }) => {\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DOCFILEDIR } }] }));\n  }, []);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  return (\n    <Window\n      id={id}\n      index={index}\n      done={onDone}\n      className=\"DocFileDir\"\n      title={<span>Directory</span>}\n      onClick={onClick}\n      menu={<DocFileFileMenu id={id} />}\n    >\n      <DocFileList />\n    </Window>\n  );\n};\n\nexport default React.memo(DocFileDir);\n\nDocFileDir.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\nimport { createDocFile } from '../../../../socket/actions/docFiles';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../../redux/actions/windowOrder';\nimport Dialog from '../../../common/dialogs/Dialog/Dialog';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport Input from '../../../common/sub-components/Input/Input';\nimport IdentityPicker from '../../../common/lists/IdentityPicker/IdentityPicker';\nimport Textarea from '../../../common/sub-components/Textarea/Textarea';\nimport Button from '../../../common/sub-components/Button/Button';\n\nimport './CreateDocFileDialog.scss';\nimport ImageUpload from '../../../common/sub-components/ImageUpload/ImageUpload';\n\nconst CreateDocFileDialog = ({ id, index }) => {\n  const formMethods = useForm();\n\n  const onSubmit = async ({\n    title,\n    text,\n    code,\n    isPublic,\n    image,\n  }) => {\n    const params = {\n      images: image ? [image] : undefined,\n      docFile: {\n        title,\n        text,\n        code,\n        isPublic,\n      },\n    };\n\n    createDocFile(params)\n      .then(() => store.dispatch(removeWindow({ id })))\n      .catch((error) => console.log(error));\n  };\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      className=\"CreateDocFileDialog\"\n      title=\"New document\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATEDOCFILE } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      buttons={[\n        <Button\n          stopPropagation\n          key=\"submit\"\n          type=\"submit\"\n          onClick={() => formMethods.handleSubmit(onSubmit)()}\n        >\n          Create\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <IdentityPicker label={<span>You are:</span>} />\n          <Input\n            label=\"Do you want it to be available to the public? (A user with the right code can always access the document)\"\n            type=\"checkbox\"\n            name=\"isPublic\"\n          />\n          <Input\n            required\n            label=\"Title\"\n            maxLength={40}\n            name=\"title\"\n            placeholder=\"Title\"\n          />\n          <Input\n            label=\"Code\"\n            minLength={3}\n            maxLength={10}\n            name=\"code\"\n            placeholder=\"Code\"\n          />\n          <Textarea\n            required\n            maxLength={3500}\n            name=\"text\"\n            placeholder=\"Text\"\n          />\n          <ImageUpload />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateDocFileDialog);\n\nCreateDocFileDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","var _line, _polyline;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgArrowRight = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-arrow-right\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _line || (_line = /*#__PURE__*/React.createElement(\"line\", {\n    x1: 5,\n    y1: 12,\n    x2: 19,\n    y2: 12\n  })), _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"12 5 19 12 12 19\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgArrowRight, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/arrow-right.ac022e1b.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport store from '../../../../redux/store';\nimport { changeWindowOrder } from '../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport { ReactComponent as Arrow } from '../../../../icons/arrow-right.svg';\nimport ListItem from '../../../common/lists/List/Item/ListItem';\nimport { getMessageById } from '../../../../redux/selectors/messages';\n\nimport './NewsItem.scss';\n\nconst NewsItem = ({ messageId }) => {\n  const message = useSelector((state) => getMessageById(state, { id: messageId }));\n\n  return (\n    <ListItem\n      className=\"DashNewsItem\"\n      key={message.objectId}\n      onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.NEWS, value: { type: WindowTypes.NEWS, messageId: message.objectId } }] }))}\n    >\n      <p>\n        {message.text[0]}\n        <Arrow />\n      </p>\n    </ListItem>\n  );\n};\n\nexport default React.memo(NewsItem);\n\nNewsItem.propTypes = {\n  messageId: string.isRequired,\n};\n","import React from 'react';\n\nimport { useSelector } from 'react-redux';\nimport { AccessLevels } from '../../../AccessCentral';\nimport { ReactComponent as QR } from '../../../icons/qr-code.svg';\nimport {\n  MessageTypes,\n  postMessage\n} from '../../../Messenger';\nimport {\n  getCurrentAccessLevel,\n  getIdentityOrTeamName,\n  getIsAnonymous,\n} from '../../../redux/selectors/users';\nimport { getWalletById } from '../../../redux/selectors/wallets';\nimport { getNewsIdsPoints } from '../../../redux/selectors/messages';\nimport IdentityPicker from '../../common/lists/IdentityPicker/IdentityPicker';\nimport List from '../../common/lists/List/List';\nimport ListItem from '../../common/lists/List/Item/ListItem';\nimport Button from '../../common/sub-components/Button/Button';\nimport NewsItem from './Item/NewsItem';\nimport { getHideMenu } from '../../../redux/selectors/interfaceConfig';\nimport OpenApps from '../../MenuBar/lists/OpenApps/OpenApps';\nimport MainList from '../../MenuBar/lists/MainList/MainList';\nimport Clock from '../../MenuBar/sub-components/Clock/Clock';\nimport { getTimestamp } from '../../../TextTools';\nimport { getDayModification, getYearModification } from '../../../redux/selectors/config';\nimport { getCurrentIdentityId } from '../../../redux/selectors/userId';\n\nimport './Dashboard.scss';\n\nconst Dashboard = () => {\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const identityId = useSelector(getCurrentIdentityId);\n  const isAnonymous = useSelector(getIsAnonymous);\n  const { name } = useSelector((state) => getIdentityOrTeamName(state, { id: identityId }));\n  const wallet = useSelector((state) => getWalletById(state, { id: identityId }));\n  const news = useSelector(getNewsIdsPoints);\n  const hideMenu = useSelector(getHideMenu);\n  const dayModification = useSelector(getDayModification);\n  const yearModification = useSelector(getYearModification);\n  const timestamp = getTimestamp({ date: new Date(), dayModification, yearModification });\n\n  const newsMapper = () => {\n    if (!news || news.length === 0) {\n      return [<ListItem key=\"noNews\">There are no news.</ListItem>];\n    }\n\n    return news\n      .sort((a, b) => {\n        const valueA = a.points;\n        const valueB = b.points;\n\n        if (valueA > valueB) {\n          return -1;\n        }\n\n        if (valueA < valueB) {\n          return 1;\n        }\n\n        return 0;\n      })\n      .slice(0, 5)\n      .map((message) => (\n        <NewsItem key={message.objectId} messageId={message.objectId} />\n      ));\n  };\n\n  return (\n    <div className=\"Dashboard\">\n      {hideMenu && (\n        <div className=\"nav\">\n          <MainList />\n          <OpenApps />\n          {window.ReactNativeWebView && (\n            <Button\n              type=\"button\"\n              onClick={() => postMessage({ type: MessageTypes.QR, data: {} })}\n            >\n              <QR />\n            </Button>\n          )}\n          {accessLevel >= AccessLevels.STANDARD && (\n            <IdentityPicker hideOnSingle={false} />\n          )}\n          <Clock />\n        </div>\n      )}\n      {isAnonymous && (\n        <>\n          <p>Welcome!</p>\n          <p>{timestamp.fullDate}</p>\n          <List\n            alwaysExpanded\n            title=\"Top News\"\n            className=\"news\"\n          >\n            {newsMapper()}\n          </List>\n        </>\n      )}\n      {!isAnonymous && (\n        <>\n          <p>{`Welcome, ${name}!`}</p>\n          <p>{`Today's date is ${timestamp.fullDate}`}</p>\n          {wallet && (\n            <p>{`You have ${wallet.amount} in your wallet.`}</p>\n          )}\n          <List\n            alwaysExpanded\n            title=\"News\"\n            className=\"news\"\n          >\n            {newsMapper()}\n          </List>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default React.memo(Dashboard);\n","var _polyline;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgChevronUp = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-chevron-up\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _polyline || (_polyline = /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"18 15 12 9 6 15\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgChevronUp, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/chevron-up.a17a631c.svg\";\nexport { ForwardRef as ReactComponent };","import React, {\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  bool,\n  string,\n} from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport { getMessageById } from '../../../../../redux/selectors/messages';\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getIdentityOrTeamName } from '../../../../../redux/selectors/users';\nimport Image from '../../../../common/sub-components/Image/Image';\nimport { ReactComponent as ChevronDown } from '../../../../../icons/chevron-down.svg';\nimport { ReactComponent as ChevronUp } from '../../../../../icons/chevron-up.svg';\nimport { getDayModification, getYearModification } from '../../../../../redux/selectors/config';\nimport { getTimestamp } from '../../../../../TextTools';\n\nimport './NewsItem.scss';\n\nconst NewsItem = ({\n  messageId,\n  expand = false,\n  className = '',\n}) => {\n  const itemRef = useRef();\n  const [showText, setShowText] = useState(false);\n  const message = useSelector((state) => getMessageById(state, { id: messageId }));\n  const { name } = useSelector((state) => getIdentityOrTeamName(state, { id: message.ownerAliasId || message.ownerId }));\n  const dayModification = useSelector(getDayModification);\n  const yearModification = useSelector(getYearModification);\n  const timestamp = getTimestamp({ date: message.customTimeCreated || message.timeCreated, dayModification, yearModification });\n\n  useEffect(() => {\n    setShowText(expand);\n  }, [expand]);\n\n  return (\n    <ListItem\n      scrollTo={showText}\n      ref={itemRef}\n      elementId={`news-${messageId}`}\n      onClick={() => setShowText(!showText)}\n      className={`NewsItem ${showText ? 'expanded' : ''} ${className}`}\n    >\n      <div className=\"title\">\n        <p>{message.text[0]}</p>\n        <p className=\"info\">\n          <span>\n            {`${timestamp.halfDate} `}\n            {timestamp.halfTime}\n          </span>\n          <span>{` By: ${name}`}</span>\n          {!showText && <ChevronDown />}\n          {showText && <ChevronUp />}\n        </p>\n      </div>\n      {showText && (\n        <div className=\"newsContent\">\n          {message.image && message.image.thumbFileName && (\n            <Image\n              image={`/upload/images/${message.image.thumbFileName}`}\n              fullImage={`/upload/images/${message.image.fileName}`}\n              altText=\"pic\"\n              width={message.image.thumbWidth}\n              height={message.image.thumbHeight}\n              fullWidth={message.image.width}\n              fullHeight={message.image.height}\n            />\n          )}\n          <div className=\"text\">\n            {message.text.slice(1).map((line, index) => <p key={index}>{line}</p>)}\n          </div>\n        </div>\n      )}\n    </ListItem>\n  );\n};\n\nexport default React.memo(NewsItem);\n\nNewsItem.propTypes = {\n  className: string,\n  messageId: string.isRequired,\n  expand: bool,\n};\n\nNewsItem.defaultProps = {\n  className: '',\n  expand: false,\n};\n","import React, { useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport List from '../../../common/lists/List/List';\nimport { getNewsIdsPoints } from '../../../../redux/selectors/messages';\nimport NewsItem from './item/NewsItem';\n\nimport './NewsList.scss';\nimport ListItem from '../../../common/lists/List/Item/ListItem';\n\nconst NewsList = ({ messageId }) => {\n  const listRef = useRef(null);\n  const news = useSelector(getNewsIdsPoints);\n\n  const itemMapper = () => [...news]\n    .map((newsMessage) => (\n      <NewsItem\n        expand={newsMessage.objectId === messageId}\n        key={newsMessage.objectId}\n        messageId={newsMessage.objectId}\n      />\n    ));\n  const topMapper = () => [...news]\n    .filter((message) => message.points && message.points > 0)\n    .sort((a, b) => {\n      const valueA = a.points;\n      const valueB = b.points;\n\n      if (valueA > valueB) {\n        return -1;\n      }\n\n      if (valueA < valueB) {\n        return 1;\n      }\n\n      return 0;\n    })\n    .slice(0, 3)\n    .map((newsMessage) => (\n      <NewsItem\n        key={`top-${newsMessage.objectId}`}\n        messageId={newsMessage.objectId}\n        className=\"topNews\"\n      />\n    ));\n\n  return (\n    <List\n      observe=\"upper\"\n      ref={listRef}\n      className=\"NewsList\"\n    >\n      {news.length === 0 && (\n        [<ListItem key=\"noNews\"><p>There are no news</p></ListItem>]\n      )}\n      {topMapper().concat(itemMapper())}\n    </List>\n  );\n};\n\nexport default React.memo(NewsList);\n\nNewsList.propTypes = {\n  messageId: string,\n};\n\nNewsList.defaultProps = {\n  messageId: undefined,\n};\n","import React, { useCallback } from 'react';\nimport { number, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport Window from '../common/Window/Window';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\nimport NewsList from './lists/News/NewsList';\nimport FileMenu from '../common/lists/FileMenu/FileMenu';\nimport { getRoomById } from '../../redux/selectors/rooms';\nimport { getNewsRoomId } from '../../redux/selectors/config';\nimport ListItem from '../common/lists/List/Item/ListItem';\nimport { ReactComponent as Plus } from '../../icons/plus.svg';\nimport { ReactComponent as NewsIcon } from '../../icons/news.svg';\n\nimport './News.scss';\n\nconst News = ({ id, messageId, index }) => {\n  const newsRoom = useSelector((state) => getRoomById(state, { id: getNewsRoomId(state) }));\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.NEWS, messageId } }] }));\n  }, [messageId]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onCreateNews = useCallback(() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCREATENEWS, value: { type: WindowTypes.DIALOGCREATENEWS } }] })), []);\n\n  const onSettings = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id: `${WindowTypes.DIALOGAPPSETTINGS}-${id}`, value: { type: `${WindowTypes.DIALOGAPPSETTINGS}-${id}` } }] }));\n  }, [id]);\n\n  return (\n    <Window\n      id={id}\n      index={index}\n      done={onDone}\n      className=\"News\"\n      title={<span>News</span>}\n      onClick={onClick}\n      menu={(\n        <>\n          <FileMenu\n            menuIcon={<NewsIcon />}\n            key=\"fileMenu\"\n            id={id}\n            // onSettings={onSettings}\n          >\n            {newsRoom && (\n              <ListItem\n                stopPropagation\n                key=\"createNews\"\n                onClick={onCreateNews}\n              >\n                <Plus />\n                <span>New article</span>\n              </ListItem>\n            )}\n          </FileMenu>\n        </>\n      )}\n    >\n      <NewsList messageId={messageId} />\n    </Window>\n  );\n};\n\nexport default React.memo(News);\n\nNews.propTypes = {\n  id: string.isRequired,\n  messageId: string,\n  index: number.isRequired,\n};\n\nNews.defaultProps = {\n  messageId: undefined,\n};\n","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch, useSelector } from 'react-redux';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport Input from '../../common/sub-components/Input/Input';\nimport Button from '../../common/sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport Textarea from '../../common/sub-components/Textarea/Textarea';\nimport { sendNewsMessage } from '../../../socket/actions/messages';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport IdentityPicker from '../../common/lists/IdentityPicker/IdentityPicker';\nimport ImageUpload from '../../common/sub-components/ImageUpload/ImageUpload';\nimport { getWalletById } from '../../../redux/selectors/wallets';\nimport { getCurrentIdentityId } from '../../../redux/selectors/userId';\nimport { getNewsCost } from '../../../redux/selectors/config';\n\nconst CreateNewsDialog = ({ id, index }) => {\n  const newsCost = useSelector(getNewsCost);\n  const identityId = useSelector(getCurrentIdentityId);\n  const wallet = useSelector((state) => getWalletById(state, { id: identityId }));\n  const formMethods = useForm();\n  const [error, setError] = useState();\n\n  const onSubmit = ({\n    title,\n    text,\n    image,\n  }) => {\n    sendNewsMessage({ title, text, image })\n      .then(({ message }) => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.NEWS, value: { type: WindowTypes.NEWS, messageId: message.objectId } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((createError) => console.log(createError));\n  };\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      className=\"CreateNewsDialog\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATENEWS } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      error={error}\n      title=\"New article\"\n      buttons={[\n        <Button\n          key=\"submit\"\n          type=\"submit\"\n          onClick={() => formMethods.handleSubmit(onSubmit)()}\n        >\n          Create\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <IdentityPicker label={<span>You are:</span>} />\n          <div>\n            <p>{`The article fee is: ${newsCost}`}</p>\n            <p>{`You have ${wallet.amount} in your wallet`}</p>\n          </div>\n          <Input\n            required\n            label=\"title\"\n            maxLength={200}\n            name=\"title\"\n            placeholder=\"Title\"\n          />\n          <ImageUpload />\n          <Textarea\n            required\n            label=\"Text\"\n            maxLength={800}\n            name=\"text\"\n            placeholder=\"Text\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateNewsDialog);\n\nCreateNewsDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","var _rect, _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgUnlock = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-unlock\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 3,\n    y: 11,\n    width: 18,\n    height: 11,\n    rx: 2,\n    ry: 2\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 11V7a5 5 0 0 1 9.9-1\"\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgUnlock, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/unlock.35f7faf1.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch, useSelector } from 'react-redux';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport Input from '../../common/sub-components/Input/Input';\nimport Button from '../../common/sub-components/Button/Button';\nimport { followRoom } from '../../../socket/actions/rooms';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport { getRoomById } from '../../../redux/selectors/rooms';\nimport { getCurrentUser } from '../../../redux/selectors/users';\nimport { hasAccessTo } from '../../../AccessCentral';\n\nimport { ReactComponent as Unlock } from '../../../icons/unlock.svg';\n\nconst JoinRoomDialog = ({\n  roomId,\n  id,\n  index,\n  password,\n  messageId,\n}) => {\n  const [error, setError] = useState();\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n  const user = useSelector(getCurrentUser);\n  const methods = useForm();\n\n  const { hasAccess } = hasAccessTo({\n    objectToAccess: room,\n    toAuth: user,\n  });\n\n  const onSubmit = ({\n    password: submittedPassword,\n  } = {}) => {\n    followRoom({ roomId, password: submittedPassword })\n      .then(() => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT, roomId, messageId } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((followError) => {\n        const newError = {\n          ...followError,\n        };\n\n        console.log(followError);\n\n        if (followError.type === 'not allowed') {\n          newError.message = 'Incorrect password';\n        }\n\n        setError(newError);\n      });\n  };\n\n  return (\n    <Dialog\n      id={id}\n      error={error}\n      index={index}\n      className=\"JoinRoomDialog\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({\n          windows: [{\n            id,\n            value: {\n              roomId,\n              password,\n              messageId,\n              type: WindowTypes.DIALOGJOINROOM,\n            },\n          }],\n        }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      title={hasAccess || !room.password ? `Join room ${room.roomName}` : `Unlock room ${room.roomName}`}\n      buttons={[\n        <Button\n          stopPropagation\n          type=\"submit\"\n          onClick={() => methods.handleSubmit(onSubmit)()}\n        >\n          {!hasAccess && room.password && (\n            <Unlock />\n          )}\n          <span>{hasAccess || !room.password ? 'Join' : 'Unlock'}</span>\n        </Button>,\n      ]}\n    >\n      <FormProvider {...methods}>\n        <form onSubmit={methods.handleSubmit(onSubmit)}>\n          <div>\n            {(hasAccess || !room.password) && (\n              <>\n                <p>{`Do you want to join the room ${room.roomName}?`}</p>\n                {room.topic && (\n                  <p>{`Topic: ${room.topic}`}</p>\n                )}\n              </>\n            )}\n            {!hasAccess && room.password && (\n              <>\n                <p>The room is locked.</p>\n                <p>Enter the password to continue:</p>\n              </>\n            )}\n          </div>\n          {!hasAccess && room.password && (\n            <Input\n              label=\"Password\"\n              defaultValue={password}\n              required={!hasAccess}\n              minLength={4}\n              maxLength={100}\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n          )}\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(JoinRoomDialog);\n\nJoinRoomDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n  roomId: string.isRequired,\n  password: string,\n  messageId: string,\n};\n\nJoinRoomDialog.defaultProps = {\n  password: undefined,\n  messageId: undefined,\n};\n","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { number, string } from 'prop-types';\nimport { FormProvider, useForm, useWatch } from 'react-hook-form';\n\nimport Dialog from '../Dialog/Dialog';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport { getCurrentUser } from '../../../../redux/selectors/users';\nimport Input from '../../sub-components/Input/Input';\nimport { updateUser } from '../../../../socket/actions/users';\nimport Button from '../../sub-components/Button/Button';\nimport Select from '../../sub-components/selects/Select/Select';\nimport { getDeviceId } from '../../../../StorageManager';\n\nimport './ConfigSystemDialog.scss';\n\nconst ConfigSystemDialog = ({ id, index }) => {\n  const formMethods = useForm();\n  const currentUser = useSelector(getCurrentUser);\n  const onDevice = useWatch({ control: formMethods.control, name: 'onDevice', defaultValue: '' });\n  const systemConfig = onDevice === 'this' && currentUser.systemConfig ? (currentUser.systemConfig[getDeviceId()] || {}) : currentUser.systemConfig || {};\n\n  const onSubmit = ({\n    hideHelp,\n    hideTopBar,\n    alwaysMaximized,\n    hideMenuBar,\n    openApps,\n    removeDeviceConfig,\n    alwaysCompactMenu,\n  }) => {\n    let config;\n\n    if (!removeDeviceConfig) {\n      const deviceConfig = systemConfig[getDeviceId()] || {};\n      config = onDevice === 'this'\n        ? {\n          ...systemConfig,\n          [getDeviceId()]: {\n            ...deviceConfig,\n            hideHelp,\n            hideTopBar,\n            alwaysMaximized,\n            hideMenuBar,\n            alwaysCompactMenu,\n            openApps: openApps.map((type) => ({ id: type, value: { type } })),\n          },\n        }\n        : {\n          ...systemConfig,\n          hideHelp,\n          hideTopBar,\n          alwaysMaximized,\n          hideMenuBar,\n          alwaysCompactMenu,\n          openApps: openApps.map((type) => ({ id: type, value: { type } })),\n        };\n    } else {\n      const { [getDeviceId()]: deviceConfig, ...newConfig } = currentUser.systemConfig;\n\n      config = newConfig;\n\n      formMethods.setValue('onDevice', '');\n    }\n\n    updateUser({\n      userId: currentUser.objectId,\n      user: {\n        systemConfig: config,\n      },\n    })\n      .then(() => store.dispatch(removeWindow({ id })))\n      .catch((error) => console.log(error));\n  };\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCONFIGSYSTEM } }] }));\n  }, [id]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  return (\n    <Dialog\n      className=\"ConfigSystemDialog\"\n      id={id}\n      index={index}\n      title={`System config: ${currentUser.username}`}\n      onClick={onClick}\n      done={onDone}\n      buttons={[\n        <>\n          {onDevice === 'this' && currentUser.systemConfig[getDeviceId()] && (\n            <Button\n              stopPropagation\n              key=\"removeConfig\"\n              type=\"button\"\n              onClick={() => onSubmit({ removeDeviceConfig: true })}\n            >\n              Remove\n            </Button>\n          )}\n        </>,\n        <Button\n          stopPropagation\n          key=\"submit\"\n          onClick={() => formMethods.handleSubmit(onSubmit)()}\n          type=\"submit\"\n        >\n          Update\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <div>\n            <p>Changes made here will affect your user and only when you are logged in.</p>\n          </div>\n          <Select\n            label=\"Do you want to change settings for when you login on any device or a specific device? The device specific settings will override any global settings.\"\n            key=\"onDevice\"\n            name=\"onDevice\"\n            defaultValue=\"\"\n          >\n            <option value=\"\">Any device (default)</option>\n            <option value=\"this\">This device</option>\n          </Select>\n          <Select\n            multiple\n            label=\"Select apps to auto-open when you log in (you can choose how they are expanded and placed in the settings for each app).\"\n            key={`openApps-${onDevice}`}\n            defaultValue={(systemConfig.openApps || ['']).map((app) => (app.value ? app.value.type : ''))}\n            name=\"openApps\"\n          >\n            <option value=\"\">No app</option>\n            <option value={WindowTypes.CHAT}>Chat</option>\n            <option value={WindowTypes.WALLET}>Wallet</option>\n            <option value={WindowTypes.WORLDMAP}>Map</option>\n            <option value={WindowTypes.DOCFILEDIR}>Files</option>\n            <option value={WindowTypes.NEWS}>News</option>\n          </Select>\n          <Input\n            label=\"Automatically maximize windows?\"\n            key={`alwaysMaximized-${onDevice}`}\n            type=\"checkbox\"\n            name=\"alwaysMaximized\"\n            checked={systemConfig.alwaysMaximized}\n          />\n          <Input\n            label=\"Minimize main menu?\"\n            key={`hideMenuBar-${onDevice}`}\n            type=\"checkbox\"\n            name=\"hideMenuBar\"\n            checked={systemConfig.hideMenuBar}\n          />\n          <Input\n            label=\"Hide top row in windows? (Windows will be auto-maximized)\"\n            key={`hideTopBar-${onDevice}`}\n            type=\"checkbox\"\n            name=\"hideTopBar\"\n            checked={systemConfig.hideTopBar}\n          />\n          <Input\n            label=\"Hide help buttons?\"\n            key={`hideHelp-${onDevice}`}\n            type=\"checkbox\"\n            name=\"hideHelp\"\n            checked={systemConfig.hideHelp}\n          />\n          <Input\n            label=\"Keep the app menu compact? (The menu will stay at the top in wider windows)\"\n            key={`alwaysCompactMenu-${onDevice}`}\n            type=\"checkbox\"\n            name=\"alwaysCompactMenu\"\n            checked={systemConfig.alwaysCompactMenu}\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(ConfigSystemDialog);\n\nConfigSystemDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch, useSelector } from 'react-redux';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport Input from '../../common/sub-components/Input/Input';\nimport Button from '../../common/sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport IdentityPicker from '../../common/lists/IdentityPicker/IdentityPicker';\n\nimport { ReactComponent as Unlock } from '../../../icons/unlock.svg';\nimport { getDocFileById } from '../../../redux/selectors/docFiles';\nimport { unlockDocFile } from '../../../socket/actions/docFiles';\n\nconst UnlockDocFileDialog = ({\n  docFileId,\n  id,\n  index,\n  code,\n}) => {\n  const [error, setError] = useState();\n  const docFile = useSelector((state) => getDocFileById(state, { id: docFileId }));\n  const formMethods = useForm();\n\n  const onSubmit = ({\n    code: submittedCode,\n  } = {}) => {\n    unlockDocFile({ docFileId, code: submittedCode })\n      .then(() => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DOCFILEVIEW, value: { type: WindowTypes.DOCFILEVIEW, docFileId } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((unlockError) => {\n        const newError = {\n          ...unlockError,\n        };\n\n        console.log(unlockError);\n\n        if (unlockError.type === 'not allowed') {\n          newError.message = 'Incorrect code';\n        }\n\n        setError(newError);\n      });\n  };\n\n  return (\n    <Dialog\n      id={id}\n      error={error}\n      index={index}\n      className=\"UnlockDocFileDialog\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGUNLOCKFILE, docFileId } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      title={`Unlock file ${docFile.title}`}\n      buttons={[\n        <Button\n          stopPropagation\n          key=\"submit\"\n          type=\"submit\"\n          onClick={() => formMethods.handleSubmit(onSubmit)()}\n        >\n          <Unlock />\n          <span>Unlock</span>\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <IdentityPicker label={<span>You are: </span>} />\n          <div>\n            <p>The file is locked.</p>\n            <p>Enter the code to continue:</p>\n          </div>\n          <Input\n            required\n            label=\"Code\"\n            defaultValue={code}\n            name=\"code\"\n            type=\"text\"\n            placeholder=\"Code\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(UnlockDocFileDialog);\n\nUnlockDocFileDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n  docFileId: string.isRequired,\n  code: string,\n};\n\nUnlockDocFileDialog.defaultProps = {\n  code: undefined,\n};\n","import React, { useState } from 'react';\nimport {\n  node,\n  number,\n  shape,\n  string,\n} from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport { getCurrentUser } from '../../../../redux/selectors/users';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../../redux/actions/windowOrder';\nimport { updateUser } from '../../../../socket/actions/users';\nimport Dialog from '../Dialog/Dialog';\nimport Button from '../../sub-components/Button/Button';\nimport Input from '../../sub-components/Input/Input';\nimport Select from '../../sub-components/selects/Select/Select';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport { ReactComponent as Settings } from '../../../../icons/settings.svg';\n\nconst SettingsAppDialog = ({\n  id,\n  index,\n  windowType,\n  inputs = [],\n}) => {\n  const currentUser = useSelector(getCurrentUser);\n  const formMethods = useForm();\n  const [error, setError] = useState();\n  const { systemConfig = { [windowType]: {} } } = currentUser;\n\n  const onSubmit = ({\n    expand,\n    hideTopBar,\n  }) => {\n    updateUser({\n      userId: currentUser.objectId,\n      user: {\n        systemConfig: {\n          ...systemConfig,\n          [windowType]: {\n            ...systemConfig[windowType],\n            expand,\n            hideTopBar,\n          },\n        },\n      },\n    })\n      .then(() => store.dispatch(removeWindow({ id })))\n      .catch((updateError) => console.log(updateError));\n  };\n\n  const isWider = window.innerWidth > window.innerHeight;\n  const smallHeight = window.innerHeight < 450;\n  const smallWidth = window.innerWidth < 450;\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      className=\"SettingsAppDialog configDialog\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: `${WindowTypes.DIALOGAPPSETTINGS}-${windowType}` } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      error={error}\n      title={(\n        <>\n          <Settings />\n          <span>{windowType}</span>\n        </>\n      )}\n      buttons={[\n        <Button\n          key=\"submit\"\n          type=\"submit\"\n          onClick={() => formMethods.handleSubmit(onSubmit)()}\n        >\n          Update\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <Input\n            label=\"Hide top row? (Window will be auto-maximized. You can close and change settings for the window in its menu)?\"\n            type=\"checkbox\"\n            name=\"hideTopBar\"\n            checked={systemConfig.hideTopBar}\n          />\n          <Select\n            label=\"Automatically expand and place window?\"\n            defaultValue={systemConfig[windowType].expand}\n            name=\"expand\"\n          >\n            <option value=\"\">No</option>\n            <option value=\"maximize\">Maximize</option>\n            {isWider && (\n              <>\n                <option value=\"left\">Left half</option>\n                <option value=\"right\">Right half</option>\n              </>\n            )}\n            {!isWider && (\n              <>\n                <option value=\"upper\">Upper half</option>\n                <option value=\"lower\">Lower half</option>\n              </>\n            )}\n            {!smallHeight && !smallWidth && (\n              <>\n                <option value=\"upperLeft\">Upper left corner</option>\n                <option value=\"upperRight\">Upper right corner</option>\n                <option value=\"lowerLeft\">Lower left corner</option>\n                <option value=\"lowerRight\">Lower right corner</option>\n              </>\n            )}\n          </Select>\n          {inputs.map(({ element }) => ({ element }))}\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(SettingsAppDialog);\n\nSettingsAppDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n  windowType: string.isRequired,\n  inputs: shape({ name: string, element: node }),\n};\n\nSettingsAppDialog.defaultProps = {\n  inputs: [],\n};\n","import React from 'react';\nimport { number, string } from 'prop-types';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport SettingsAppDialog from '../../common/dialogs/SettingsApp/SettingsAppDialog';\n\nconst SettingsNewsDialog = ({ id, index }) => {\n  return (\n    <SettingsAppDialog\n      windowType={WindowTypes.NEWS}\n      id={id}\n      index={index}\n    />\n  );\n};\n\nexport default React.memo(SettingsNewsDialog);\n\nSettingsNewsDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","var _path, _circle;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from \"react\";\nconst SvgPin = _ref => {\n  let {\n    svgRef,\n    title,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-map-pin\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 12,\n    cy: 10,\n    r: 3\n  })));\n};\nconst ForwardRef = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgPin, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/pin.03aed5b7.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback, useState } from 'react';\nimport { batch, useSelector } from 'react-redux';\nimport { bool, number, string } from 'prop-types';\nimport { FormProvider, useForm } from 'react-hook-form';\n\nimport Dialog from '../Dialog/Dialog';\nimport {\n  getCurrentAccessLevel,\n  getCurrentUserIdentitiesNames,\n  getIdentityById,\n} from '../../../../redux/selectors/users';\nimport Button from '../../sub-components/Button/Button';\nimport store from '../../../../redux/store';\nimport { getCurrentIdentityId } from '../../../../redux/selectors/userId';\nimport { changeWindowOrder, removeWindow } from '../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport { getTeamsByIds } from '../../../../redux/selectors/teams';\nimport Image from '../../sub-components/Image/Image';\nimport IdentityPicker from '../../lists/IdentityPicker/IdentityPicker';\nimport { getDisallowProfileEdit, getGpsTracking, getPermissions } from '../../../../redux/selectors/config';\nimport { getPositionById } from '../../../../redux/selectors/positions';\nimport { ReactComponent as Pin } from '../../../../icons/pin.svg';\nimport { ReactComponent as Admin } from '../../../../icons/admin.svg';\nimport { ReactComponent as Tool } from '../../../../icons/tool.svg';\nimport ImageUpload from '../../sub-components/ImageUpload/ImageUpload';\nimport Input from '../../sub-components/Input/Input';\nimport PronounsSelect, { Pronouns } from '../../sub-components/selects/PronounsSelect';\nimport Textarea from '../../sub-components/Textarea/Textarea';\nimport { updateUser } from '../../../../socket/actions/users';\nimport { updateAlias } from '../../../../socket/actions/aliases';\nimport { AccessLevels } from '../../../../AccessCentral';\nimport Select from '../../sub-components/selects/Select/Select';\nimport { ReactComponent as Wallet } from '../../../../icons/wallet.svg';\nimport { ReactComponent as Chat } from '../../../../icons/chat.svg';\nimport { getWhisperRoom } from '../../../../redux/selectors/rooms';\n\nimport './ProfileDialog.scss';\n\nconst ProfileDialog = ({\n  id,\n  index,\n  identityId,\n  edit = false,\n}) => {\n  const formMethods = useForm();\n  const disallowProfileEdit = useSelector(getDisallowProfileEdit);\n  const [editing, setEditing] = useState(edit);\n  const currentIdentityId = useSelector(getCurrentIdentityId);\n  const currentUserIdentities = useSelector(getCurrentUserIdentitiesNames);\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const identity = useSelector((state) => getIdentityById(state, { id: identityId || currentIdentityId }));\n  const teams = useSelector((state) => getTeamsByIds(state, { ids: identity.partOfTeams }));\n  const position = useSelector((state) => getPositionById(state, { id: identityId || currentIdentityId }));\n  const gpsTracking = useSelector(getGpsTracking);\n  const permissions = useSelector(getPermissions);\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGPROFILE, identityId } }] }));\n  }, [id]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onSubmit = ({\n    name,\n    pronouns,\n    image,\n    description,\n    status,\n    occupation,\n    accessLevel: newAccessLevel,\n  }) => {\n    const newImage = image && (!identity.image || image.source !== `/upload/images/${identity.image.fileName}`)\n      ? image\n      : undefined;\n\n    if (identity.aliasName) {\n      const alias = {\n        pronouns,\n        status,\n        occupation,\n        description: description ? description.split('\\n') : undefined,\n        aliasName: name !== identity.aliasName ? name : undefined,\n      };\n\n      updateAlias({\n        alias,\n        resetImage: !image && identity.image,\n        image: newImage,\n        aliasId: identityId || currentIdentityId,\n      })\n        .then(() => setEditing(false))\n        .catch((error) => console.log(error));\n\n      return;\n    }\n\n    const user = {\n      pronouns,\n      status,\n      occupation,\n      accessLevel: newAccessLevel && Number(newAccessLevel) !== identity.accessLevel ? Number(newAccessLevel) : undefined,\n      description: description ? description.split('\\n') : undefined,\n      username: name !== identity.username ? name : undefined,\n    };\n\n    updateUser({\n      user,\n      resetImage: !image && identity.image,\n      image: newImage,\n      userId: identityId || currentIdentityId,\n    })\n      .then(() => setEditing(false))\n      .catch((error) => console.log(error));\n  };\n\n  const onTrackPosition = useCallback(() => {\n    batch(() => {\n      store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.WORLDMAP, value: { type: WindowTypes.WORLDMAP, positionId: currentIdentityId } }] }));\n      store.dispatch(removeWindow({ id }));\n    });\n  }, [id]);\n\n  const transferCall = useCallback(() => batch(() => {\n    store.dispatch(changeWindowOrder({\n      windows: [{\n        id: `${WindowTypes.DIALOGCREATETRANSACTION}-${identityId}`,\n        value: { type: WindowTypes.DIALOGCREATETRANSACTION, toWalletId: identityId },\n      }],\n    }));\n    store.dispatch(removeWindow({ id }));\n  }), [identityId, id]);\n\n  const whisperCall = useCallback(() => {\n    const room = getWhisperRoom(store.getState(), { identityId, currentIdentityId });\n\n    batch(() => {\n      store.dispatch(changeWindowOrder({\n        windows: [{ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT, roomId: room.objectId } }],\n      }));\n      store.dispatch(removeWindow({ id }));\n    });\n  }, [identityId, currentIdentityId, id]);\n\n  const buttons = [];\n\n  if (\n    !editing\n    && (!disallowProfileEdit || accessLevel >= AccessLevels.ADMIN)\n    && (!identityId || accessLevel >= AccessLevels.ADMIN || currentUserIdentities.find((userIdentity) => userIdentity.objectId === identityId))\n  ) {\n    buttons.push((\n      <Button\n        stopPropagation\n        key=\"edit\"\n        type=\"button\"\n        onClick={() => setEditing(true)}\n      >\n        {identityId && (<Admin />)}\n        {!identityId && (<Tool />)}\n        Edit\n      </Button>\n    ));\n  }\n\n  if (currentIdentityId !== '-1' && identityId && identityId !== currentIdentityId && !editing) {\n    buttons.push(\n      <Button\n        stopPropagation\n        key=\"transfer\"\n        type=\"button\"\n        onClick={transferCall}\n      >\n        <Wallet />\n      </Button>,\n      <Button\n        stopPropagation\n        key=\"whisper\"\n        type=\"button\"\n        onClick={whisperCall}\n      >\n        <Chat />\n      </Button>,\n    );\n  }\n\n  if (editing) {\n    if (accessLevel >= AccessLevels.MODERATOR) {\n      if (!identity.isBanned) {\n        buttons.push((\n          <Button\n            stopPropagation\n            key=\"ban\"\n            type=\"button\"\n            onClick={() => {}}\n          >\n            Ban\n          </Button>\n        ));\n      } else {\n        buttons.push((\n          <Button\n            stopPropagation\n            key=\"unban\"\n            type=\"button\"\n            onClick={() => {}}\n          >\n            Unban\n          </Button>\n        ));\n      }\n    }\n\n    buttons.push((\n      <Button\n        stopPropagation\n        key=\"update\"\n        type=\"submit\"\n        onClick={() => formMethods.handleSubmit(onSubmit)()}\n      >\n        Update\n      </Button>\n    ));\n  }\n\n  return (\n    <Dialog\n      className=\"ProfileDialog\"\n      id={id}\n      index={index}\n      title={`Profile: ${identity.aliasName || identity.username}`}\n      onClick={onClick}\n      done={onDone}\n      buttons={buttons}\n    >\n      {!editing && (\n        <>\n          {!identityId && (\n            <IdentityPicker label={<span>You are:</span>} />\n          )}\n          {identity.image && (\n            <Image\n              scrollTo\n              image={`/upload/images/${identity.image.thumbFileName}`}\n              altText=\"pic\"\n              width={identity.image.thumbWidth}\n              height={identity.image.thumbHeight}\n              fullImage={`/upload/images/${identity.image.fileName}`}\n              fullWidth={identity.image.width}\n              fullHeight={identity.image.height}\n            />\n          )}\n          <div>\n            <p>Name</p>\n            <p>{identity.aliasName || identity.username}</p>\n          </div>\n          {accessLevel >= AccessLevels.MODERATOR && (\n            <div>\n              <p>Access level</p>\n              <p>{Object.keys(AccessLevels).find((key) => AccessLevels[key] === identity.accessLevel)}</p>\n            </div>\n          )}\n          {identity.status && (\n            <div>\n              <p>Status</p>\n              <p>{identity.status}</p>\n            </div>\n          )}\n          <div>\n            <p>Pronouns</p>\n            <p>{identity.pronouns.map((pronoun) => Pronouns[pronoun]).join(', ')}</p>\n          </div>\n          {teams.size > 0 && (\n            <div>\n              <p>Affiliations</p>\n              <p>{[...teams.values()].map((team) => team.teamName).join(', ')}</p>\n            </div>\n          )}\n          {identity.occupation && (\n            <div>\n              <p>Occupation</p>\n              <p>{identity.occupation}</p>\n            </div>\n          )}\n          {gpsTracking && position && position.coordinatesHistory[0] && (\n            <div>\n              <p>Last known position</p>\n              <Button onClick={onTrackPosition}>\n                <Pin />\n                Track\n              </Button>\n            </div>\n          )}\n          {identity.description && identity.description.length > 0 && (\n            <div>\n              <p>Description</p>\n              <div className=\"description\">\n                {identity.description.map((line, lineIndex) => <p key={lineIndex}>{line}</p>)}\n              </div>\n            </div>\n          )}\n        </>\n      )}\n      {editing && (\n        <FormProvider {...formMethods}>\n          <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n            {!identityId && (\n              <IdentityPicker label={<span>You are:</span>} />\n            )}\n            <ImageUpload\n              croppable\n              label=\"Upload profile image\"\n              image={identity.image ? { source: `/upload/images/${identity.image.fileName}` } : undefined}\n            />\n            <Input\n              required\n              label=\"Name\"\n              name=\"name\"\n              maxLength={30}\n              placeholder=\"Name\"\n              type=\"text\"\n              defaultValue={identity.aliasName || identity.username}\n            />\n            {accessLevel >= AccessLevels.ADMIN && !identity.aliasName && (\n              <Select\n                label=\"Access level\"\n                key=\"accessLevel\"\n                name=\"accessLevel\"\n                defaultValue={identity.accessLevel}\n              >\n                {Object.keys(AccessLevels)\n                  .filter((key) => AccessLevels[key] >= AccessLevels.STANDARD && AccessLevels[key] <= accessLevel)\n                  .map((key) => <option key={key} value={AccessLevels[key]}>{key}</option>)}\n              </Select>\n            )}\n            <PronounsSelect preselected={identity.pronouns} />\n            {accessLevel >= permissions.UpdateUserStatus.accessLevel && (\n              <Input\n                label=\"Status\"\n                name=\"status\"\n                placeholder=\"Status\"\n                type=\"text\"\n                defaultValue={identity.status}\n              />\n            )}\n            {accessLevel >= permissions.UpdateUserOccupation.accessLevel && (\n              <Input\n                label=\"Occupation\"\n                name=\"occupation\"\n                placeholder=\"Occupation\"\n                type=\"text\"\n                defaultValue={identity.occupation}\n              />\n            )}\n            <Textarea\n              label=\"Description\"\n              name=\"description\"\n              placeholder=\"Description\"\n              maxLength={300}\n            />\n          </form>\n        </FormProvider>\n      )}\n    </Dialog>\n  );\n};\n\nexport default React.memo(ProfileDialog);\n\nProfileDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n  identityId: string,\n  edit: bool,\n};\n\nProfileDialog.defaultProps = {\n  identityId: undefined,\n  edit: false,\n};\n","import React from 'react';\nimport { batch, useSelector } from 'react-redux';\nimport { string } from 'prop-types';\nimport { getDocFileById } from '../../../redux/selectors/docFiles';\nimport { getIdentityOrTeamById } from '../../../redux/selectors/users';\n\nimport './DocFileViewer.scss';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport Button from '../../common/sub-components/Button/Button';\nimport Image from '../../common/sub-components/Image/Image';\n\nconst DocFileViewer = ({ docFileId }) => {\n  const docFile = useSelector((state) => getDocFileById(state, { id: docFileId }));\n  const identity = useSelector((state) => getIdentityOrTeamById(state, { id: docFile.ownerAliasId || docFile.ownerId }));\n\n  if (docFile.isLocked) {\n    return (\n      <div className=\"DocFileViewer\">\n        <div>\n          This file is locked.\n          <Button\n            onClick={() => {\n              batch(() => {\n                store.dispatch(changeWindowOrder({\n                  windows: [{\n                    id: `${WindowTypes.DIALOGUNLOCKFILE}-${docFileId}`,\n                    value: {\n                      docFileId,\n                      type: WindowTypes.DIALOGUNLOCKFILE,\n                    },\n                  }],\n                }));\n                store.dispatch(removeWindow({ id: `${WindowTypes.DOCFILEVIEW}-${docFileId}` }));\n              });\n            }}\n          >\n            Unlock?\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"DocFileViewer\">\n      <h1 className=\"title\">{docFile.title}</h1>\n      <div className=\"info\">\n        <p className=\"author\">{`Author: ${identity.teamName || identity.aliasName || identity.username}`}</p>\n        <p className=\"code\">{`Code: ${docFile.code}`}</p>\n        <p className=\"public\">{`Public: ${docFile.isPublic ? 'Yes' : 'No'}`}</p>\n        {docFile.tags && docFile.tags.length > 0 && (<p>{docFile.tags.join(', ')}</p>)}\n      </div>\n      {docFile.images && docFile.images.length > 0 && (\n        <div className=\"images\">\n          {docFile.images.map((image) => (\n            <Image\n              scrollTo\n              key={image.thumbFileName}\n              image={`/upload/images/${image.thumbFileName}`}\n              altText=\"pic\"\n              width={image.thumbWidth}\n              height={image.thumbHeight}\n              fullImage={`/upload/images/${image.fileName}`}\n              fullWidth={image.width}\n              fullHeight={image.height}\n            />\n          ))}\n        </div>\n      )}\n      <div className=\"text\">{docFile.text.join('\\n')}</div>\n    </div>\n  );\n};\n\nexport default React.memo(DocFileViewer);\n\nDocFileViewer.propTypes = {\n  docFileId: string.isRequired,\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport Window from '../common/Window/Window';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\n\nimport './DocFileDir.scss';\nimport FileMenu from '../common/lists/FileMenu/FileMenu';\nimport ListItem from '../common/lists/List/Item/ListItem';\nimport DocFileViewer from './Viewer/DocFileViewer';\nimport { getDocFileById } from '../../redux/selectors/docFiles';\n\nconst DocFileView = ({\n  id,\n  docFileId,\n  index,\n}) => {\n  const docFile = useSelector((state) => getDocFileById(state, { id: docFileId }));\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DOCFILEVIEW, docFileId } }] }));\n  }, []);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onCreate = useCallback(() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCREATEDOCFILE, value: { type: WindowTypes.DIALOGCREATEDOCFILE } }] })));\n\n  return (\n    <Window\n      id={id}\n      index={index}\n      done={onDone}\n      className=\"DocFileView\"\n      title={`${docFile ? `File: ${docFile.title}` : 'Files'}`}\n      onClick={onClick}\n      menu={(\n        <>\n          <FileMenu id={id}>\n            <ListItem\n              stopPropagation\n              onClick={onCreate}\n              key=\"createDocFile\"\n            >\n              New document\n            </ListItem>\n          </FileMenu>\n        </>\n      )}\n    >\n      <DocFileViewer key=\"viewer\" docFileId={docFileId} />\n    </Window>\n  );\n};\n\nexport default React.memo(DocFileView);\n\nDocFileView.propTypes = {\n  id: string.isRequired,\n  docFileId: string,\n  index: number.isRequired,\n};\n\nDocFileView.defaultProps = {\n  docFileId: undefined,\n}\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport Identities from '../Identities/Identities';\n\nimport Wallet from '../Wallet/Wallet';\nimport WorldMap from '../WorldMap/WorldMap';\nimport Chat from '../Chat/Chat';\nimport { getOrder } from '../../redux/selectors/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\nimport CreateRoomDialog from '../Chat/dialogs/CreateRoomDialog';\nimport RemoveRoomDialog from '../Chat/dialogs/RemoveRoomDialog';\nimport LoginDialog from '../common/dialogs/LoginDialog';\nimport RegisterDialog from '../common/dialogs/RegisterDialog';\nimport CreateAliasDialog from '../common/dialogs/CreateAliasDialog';\nimport CreateTransactionDialog from '../common/dialogs/CreateTransactionDialog';\nimport DocFileDir from '../DocFiles/DocFileDir';\nimport CreateDocFileDialog from '../DocFiles/dialogs/CreateDocFile/CreateDocFileDialog';\nimport Dashboard from './Dashboard/Dashboard';\nimport News from '../News/News';\nimport CreateNewsDialog from '../News/dialogs/CreateNewsDialog';\nimport JoinRoomDialog from '../Chat/dialogs/JoinRoomDialog';\nimport ConfigSystemDialog from '../common/dialogs/ConfigSystem/ConfigSystemDialog';\nimport { getSystemConfig } from '../../redux/selectors/users';\nimport store from '../../redux/store';\nimport { changeWindowOrder } from '../../redux/actions/windowOrder';\nimport UnlockDocFileDialog from '../DocFiles/dialogs/UnlockDocFileDialog';\nimport SettingsNewsDialog from '../News/dialogs/SettingsNewsDialog';\nimport ProfileDialog from '../common/dialogs/Profile/ProfileDialog';\nimport DocFileView from '../DocFiles/DocFileView';\n\nimport './MainWindow.scss';\n\nconst MainWindow = () => {\n  const systemConfig = useSelector(getSystemConfig);\n  const order = useSelector(getOrder);\n  const windows = [];\n\n  useEffect(() => {\n    if (systemConfig.openApps && systemConfig.openApps.length > 0) {\n      store.dispatch(changeWindowOrder({ windows: systemConfig.openApps.map(({ id, value }) => ({ id, value })) }));\n    }\n  }, [systemConfig.openApps]);\n\n  order.forEach((value, key) => {\n    const { type } = value;\n\n    switch (type) {\n      case WindowTypes.CHAT: {\n        windows.push(<Chat key={key} id={key} roomId={value.roomId} messageId={value.messageId} password={value.password} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.WALLET: {\n        windows.push(<Wallet key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.WORLDMAP: {\n        // windows.push(<WorldMap key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DOCFILEDIR: {\n        windows.push(<DocFileDir key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DOCFILEVIEW: {\n        windows.push(<DocFileView key={key} id={key} index={value.index} docFileId={value.docFileId} code={value.code} />);\n\n        break;\n      }\n      case WindowTypes.NEWS: {\n        windows.push(<News key={key} id={key} messageId={value.messageId} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.IDENTITIES: {\n        windows.push(<Identities key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGCREATEROOM: {\n        windows.push(<CreateRoomDialog key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGLOGIN: {\n        windows.push(<LoginDialog key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGREGISTER: {\n        windows.push(<RegisterDialog key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGREMOVEROOM: {\n        windows.push(<RemoveRoomDialog key={key} id={key} roomId={value.roomId} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGCREATEALIAS: {\n        windows.push(<CreateAliasDialog key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGCREATETRANSACTION: {\n        windows.push(<CreateTransactionDialog key={key} id={key} toWalletId={value.toWalletId} index={value.index} amount={value.amount} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGCREATEDOCFILE: {\n        windows.push(<CreateDocFileDialog key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGCREATENEWS: {\n        windows.push(<CreateNewsDialog key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGJOINROOM: {\n        windows.push(<JoinRoomDialog key={key} id={key} roomId={value.roomId} index={value.index} messageId={value.messsageId} password={value.password} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGCONFIGSYSTEM: {\n        windows.push(<ConfigSystemDialog key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case `${WindowTypes.DIALOGAPPSETTINGS}-${WindowTypes.NEWS}`: {\n        windows.push(<SettingsNewsDialog key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGPROFILE: {\n        windows.push(<ProfileDialog key={key} id={key} index={value.index} identityId={value.identityId} edit={value.edit} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGUNLOCKFILE: {\n        windows.push(<UnlockDocFileDialog key={key} id={key} index={value.index} docFileId={value.docFileId} code={value.code} auto={value.auto} />);\n\n        break;\n      }\n      default: {\n        console.error('Unknown window type', type);\n\n        break;\n      }\n    }\n  });\n\n  return (\n    <div\n      key=\"mainWindow\"\n      id=\"MainWindow\"\n    >\n      <Dashboard />\n      {windows}\n    </div>\n  );\n};\n\nexport default React.memo(MainWindow);\n","import React from 'react';\n\nimport MenuBar from './library/components/MenuBar/MenuBar';\nimport MainWindow from './library/components/MainWindow/MainWindow';\n\nfunction App() {\n  return (\n    <>\n      <React.StrictMode>\n        <MenuBar />\n        <MainWindow />\n      </React.StrictMode>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { polyfill } from 'seamless-scroll-polyfill';\n\nimport App from './App';\nimport store from './library/redux/store';\n\nimport './index.scss';\n\nconst ElementQueries = require('css-element-queries');\n\npolyfill();\nElementQueries.ElementQueries.listen();\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}