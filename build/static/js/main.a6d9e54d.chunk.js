(this.webpackJsonproleterminal=this.webpackJsonproleterminal||[]).push([[0],Array(26).concat([function(e,t,n){},,,,,,,,,,,,,function(e,t,n){e.exports=n(105)},,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var a,r,o=n(0),c=n.n(o),l=n(12),i=n(1),u=n(35),s=n(4);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var f=function(e){var t=e.svgRef,n=e.title,o=m(e,["svgRef","title"]);return c.a.createElement("svg",d({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-clock",ref:t},o),n?c.a.createElement("title",null,n):null,a||(a=c.a.createElement("circle",{cx:12,cy:12,r:10})),r||(r=c.a.createElement("polyline",{points:"12 6 12 12 16 14"})))},p=c.a.forwardRef((function(e,t){return c.a.createElement(f,d({svgRef:t},e))})),h=(n.p,n(11)),v=(n(48),c.a.forwardRef((function(e,t){var n=e.onClick,a=e.children,r=e.disabled,o=e.stopPropagation,l=e.className,i=void 0===l?"":l,u=e.type,s=void 0===u?"button":u;return c.a.createElement("button",{ref:t,className:"Button ".concat(i),disabled:r,type:s,onClick:function(e){n(e),o&&e.stopPropagation()}},a)}))),g=c.a.memo(v);v.propTypes={onClick:h.func.isRequired,children:h.node.isRequired,type:Object(h.oneOf)(["button","submit"]),disabled:h.bool,className:h.string,stopPropagation:h.bool},v.defaultProps={type:"button",disabled:void 0,className:"",stopPropagation:void 0};var y,b,E,O=function(e){return e>9?"".concat(e):"0".concat(e)},w=function(e){var t=e.date,n=e.offset,a=e.lockDate,r=e.yearModification,o=e.dayModification,c=new Date(t),l={};return n&&c.setHours(c.getHours()+n),a||!r&&!o||(r&&!Number.isNaN(r)&&c.setFullYear(c.getFullYear()+parseInt(r,10)),o&&!Number.isNaN(o)&&c.setDate(c.getDate()+parseInt(o,10))),l.mins=O(c.getMinutes()),l.hours=O(c.getHours()),l.seconds=O(c.getSeconds()),l.month=O(c.getMonth()+1),l.day=O(c.getDate()),l.year=c.getFullYear(),l.halfTime="".concat(l.hours,":").concat(l.mins),l.fullTime="".concat(l.halfTime,":").concat(l.seconds),l.halfDate="".concat(l.day,"/").concat(l.month),l.fullDate="".concat(l.halfDate,"/").concat(l.year),l.fullStamp="".concat(l.halfTime," ").concat(l.fullDate),l},j=(n(49),function(e){var t=e.alwaysShow,n=Object(o.useRef)(),a=Object(o.useState)(new Date),r=Object(s.a)(a,2),l=r[0],i=r[1],u=Object(o.useState)(!1),d=Object(s.a)(u,2),m=d[0],f=d[1],h=w({date:l});Object(o.useEffect)((function(){return function e(){n.current=setTimeout((function(){i(new Date),e()}),1e3)}(),function(){return clearTimeout(n.current)}}),[]);var v=Object(o.useCallback)((function(){return f(!m)}),[m]);return c.a.createElement("div",{key:"clock",className:"Clock"},!t&&c.a.createElement(g,{className:"icon ".concat(m?"active":""),onClick:v},c.a.createElement(p,null)),c.a.createElement(g,{onClick:v,className:"time ".concat(m||t?"":"hide")},h.fullTime))}),I=c.a.memo(j);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}j.defaultProps={alwaysShow:void 0};var C,N,L,S=function(e){var t=e.svgRef,n=e.title,a=x(e,["svgRef","title"]);return c.a.createElement("svg",k({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-up-circle",ref:t},a),n?c.a.createElement("title",null,n):null,y||(y=c.a.createElement("circle",{cx:12,cy:12,r:10})),b||(b=c.a.createElement("polyline",{points:"16 12 12 8 8 12"})),E||(E=c.a.createElement("line",{x1:12,y1:16,x2:12,y2:8})))},R=c.a.forwardRef((function(e,t){return c.a.createElement(S,k({svgRef:t},e))}));n.p;function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var P=function(e){var t=e.svgRef,n=e.title,a=T(e,["svgRef","title"]);return c.a.createElement("svg",A({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-down-circle",ref:t},a),n?c.a.createElement("title",null,n):null,C||(C=c.a.createElement("circle",{cx:12,cy:12,r:10})),N||(N=c.a.createElement("polyline",{points:"8 12 12 16 16 12"})),L||(L=c.a.createElement("line",{x1:12,y1:8,x2:12,y2:16})))},M=c.a.forwardRef((function(e,t){return c.a.createElement(P,A({svgRef:t},e))})),D=(n.p,n(50),c.a.forwardRef((function(e,t){var n=e.children,a=e.title,r=e.wideTitle,l=e.observe,i=e.startRevealed,u=void 0!==i&&i,d=e.alwaysExpanded,m=void 0!==d&&d,f=e.checkWidth,p=void 0!==f&&f,h=e.dropdown,v=void 0!==h&&h,y=e.className,b=void 0===y?"":y,E=Object(o.useRef)(),O=Object(o.useRef)(),w=Object(o.useRef)(null),j=Object(o.useRef)(null),I=Object(o.useState)(!u&&!m&&"undefined"!==typeof a),k=Object(s.a)(I,2),x=k[0],C=k[1],N=[],L=["List"].concat([b]),S=Object(o.useCallback)((function(e){v&&!x&&w.current&&(!p||!j.current||j.current.offsetWidth<600)&&("INPUT"===e.target.tagName||w.current.parentElement.contains(e.target)&&(e.target===w.current||e.currentTarget!==w.current)||C(!0))}),[x]),A=function(e){var t=e.direction;"bottom"===t&&w.current.lastElementChild?w.current.lastElementChild.scrollIntoView({behavior:"smooth",block:"end"}):"top"===t&&w.current.firstElementChild&&w.current.firstElementChild.scrollIntoView({behavior:"smooth",block:"start"})};return Object(o.useEffect)((function(){if(!x&&v&&w.current){var e=w.current.getBoundingClientRect();e.right>window.innerWidth?w.current.classList.add("right"):w.current.classList.remove("right"),e.bottom>window.innerHeight?w.current.classList.add("bottom"):w.current.classList.remove("bottom")}}),[x]),Object(o.useEffect)((function(){return w.current&&l&&(E.current=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?O.current.classList.add("hide"):O.current.classList.remove("hide")}))}),{root:w.current,rootMargin:"50px",threshold:1}),"upper"===l&&w.current.firstElementChild&&E.current.observe(w.current.firstElementChild),"lower"===l&&w.current.lastElementChild&&E.current.observe(w.current.lastElementChild)),function(){E.current&&E.current.disconnect()}}),[]),Object(o.useEffect)((function(){E.current&&(E.current.disconnect(),"upper"===l&&w.current.firstElementChild&&E.current.observe(w.current.firstElementChild),"lower"===l&&w.current.lastElementChild&&E.current.observe(w.current.lastElementChild))}),[n]),Object(o.useEffect)((function(){return v&&(x?document.removeEventListener("mousedown",S):document.addEventListener("mousedown",S)),function(){return document.removeEventListener("mousedown",S)}}),[x]),x?N.push("hide"):L.push("expanded"),v&&N.push("dropdown"),c.a.createElement("div",{key:"List",className:L.join(" ")},a&&c.a.createElement("header",{role:"button",tabIndex:0,key:"listHeader",className:"toggle ".concat(m?"":"clickable"),onClick:function(){m||C(!x)}},a,r&&c.a.createElement("div",{className:"wideTitle"},r)),l&&"upper"===l&&c.a.createElement(g,{key:"upper",className:"upper hide",ref:O,onClick:function(){return A({direction:"top"})}},c.a.createElement(R,null)),c.a.createElement("ul",{ref:function(e){w.current=e,t&&(t.current=e),e&&(j.current=e.closest(".Window"))},key:"listElem",className:"".concat(N.join(" ")),onClick:function(e){v&&(S(e),e.stopPropagation())}},n),l&&"lower"===l&&c.a.createElement(g,{key:"lower",className:"lower hide",ref:O,onClick:function(){return A({direction:"bottom"})}},c.a.createElement(M,null)))}))),F=c.a.memo(D);D.defaultProps={className:"",children:void 0,title:void 0,dropdown:!1,checkWidth:!1,alwaysExpanded:!1,observe:void 0,startRevealed:void 0,wideTitle:void 0};var W={ANONYMOUS:0,STANDARD:1,PRIVILEGED:2,MODERATOR:3,ADMIN:4,SUPERUSER:5,GOD:6},G=function(e){var t=e.objectToAccess,n=e.toAuth,a=e.adminLevel,r=void 0===a?W.ADMIN:a;if(!t||!n)return{canSee:!1,hasFullAccess:!1,hasAccess:!1};var o=t.ownerId,c=t.ownerAliasId,l=t.teamId,i=t.isPublic,u=t.visibility,s=t.teamIds,d=void 0===s?[]:s,m=t.userIds,f=void 0===m?[]:m,p=t.userAdminIds,h=void 0===p?[]:p,v=t.teamAdminIds,g=void 0===v?[]:v,y=n.hasFullAccess,b=n.partOfTeams,E=void 0===b?[]:b,O=n.accessLevel,w=void 0===O?W.ANONYMOUS:O,j=n.objectId,I=n.teamIds,k=void 0===I?[]:I,x=n.aliases,C=void 0===x?[]:x,N=c&&C.includes(c),L=l&&E.includes(l),S=f.concat([o]).includes(j),R=L||d.find((function(e){return k.includes(e)})),A=N||C.find((function(e){return f.includes(e)})),T=h.includes(j),P=N||C.find((function(e){return h.includes(e)})),M=L||g.find((function(e){return k.includes(e)})),D=o===j||y||w>=r;return{canSee:D||i||S||R||A||w>=u,hasAccess:D||i||S||R||A,hasFullAccess:D||T||M||P,adminAccess:!i&&!S&&!R&&!A&&D}},B=n(2),H=n.n(B),U=n(7),V=n(14),z=n(29),Y="aliases",q="devices",J="docFiles",K="forums",X="forumPosts",Z="forumThreads",Q="gameCodes",$="invitations",_="messages",ee="rooms",te="simpleMsgs",ne="teams",ae="transactions",re="users",oe="wallets",ce=n(3),le=n(6),ie="update",ue="create",se="remove",de=function(e,t){var n=new Map(Object(le.a)(e)),a=t.type,r=t.payload,o=r.changeType,c=r[a];switch(o){case ue:return n.set(c.objectId,c),n;case ie:var l=n.get(c.objectId)||{},i=Object(ce.a)(Object(ce.a)({},l),c);return l===i?e:(n.set(c.objectId,i),n);case se:return n.has(c.objectId)?(n.delete(c.objectId),n):e;default:return e}},me=function(e,t){var n=t.type,a=t.payload,r=a.reset,o=a.changeType,c=r?new Map:new Map(Object(le.a)(e)),l=a[n];switch(o){case ue:return l.forEach((function(e){return c.set(e.objectId,e)})),c;case ie:return l.forEach((function(e){var t=c.get(e.objectId)||{},n=Object(ce.a)(Object(ce.a)({},t),e);t!==n&&c.set(e.objectId,n)})),c;case se:return l.forEach((function(e){return c.delete(e.objectId)})),c;default:return e}};var fe="chat",pe="whisper",he="news";var ve="online",ge="offline",ye="reconnecting";var be=new Map;be.set("broadcastId","111111111111111111111116"),be.set("publicRoomId","111111111111111111111110"),be.set("newsRoomId","111111111111111111111114"),be.set("defaultForum","111111111111111111111120"),be.set("defaultLanguage","en"),be.set("centerCoordinates",{longitude:0,latitude:0}),be.set("cornerOneCoordinates",{longitude:0,latitude:0}),be.set("cornerTwoCoordinates",{longitude:0,latitude:0}),be.set("defaultZoomLevel",15),be.set("yearModification",0),be.set("dayModification",0),be.set("requireOffName",!1),be.set("activateTermination",!1),be.set("allowedImages",{CHAT:!1,PROFILE:!1,DOCFILE:!1}),be.set("newsCost",0),be.set("onlySeen",!1),be.set("allowPartialSearch",!0),be.set("disallowProfileEdit",!1),be.set("gpsTracking",!1),be.set("permissions",{CreateAlias:{name:"CreateAlias",accessLevel:W.STANDARD},CreateUser:{name:"CreateUser",accessLevel:W.ANONYMOUS}}),be.set("anonymousUser",{accessLevel:W.ANONYMOUS,followingRooms:["111111111111111111111110"],objectId:"-1",isAnonymous:!0,systemConfig:{},aliases:[],hasSeen:[],partOfTeams:[]}),be.set("systemUser",{objectId:"222222222222222222222220",username:"SYSTEM"});var Ee={WALLET:"Wallet",CHAT:"Chat",WORLDMAP:"Map",DOCFILEDIR:"Files directory",DOCFILEVIEW:"File",NEWS:"News",TEAMS:"Teams",IDENTITIES:"Users",DIALOGIDENTITY:"User",DIALOGCREATEROOM:"New room",DIALOGREMOVEROOM:"Remove room",DIALOGREGISTER:"Register",DIALOGLOGIN:"Login",DIALOGCREATEALIAS:"New alias",DIALOGCREATETRANSACTION:"Transfer",DIALOGCREATEDOCFILE:"New file",DIALOGCREATENEWS:"New article",DIALOGJOINROOM:"Join room",DIALOGCONFIGSYSTEM:"Config system",DIALOGPROFILE:"Profile",DIALOGUNLOCKFILE:"Unlock file",DIALOGAPPSETTINGS:"App settings"},Oe=new Map;var we="help",je={mode:"default",target:""};var Ie={hideMenu:!1};var ke=Object(V.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"user"===t.type?de(e,t):t.type===re?me(e,t):e},aliases:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"alias"===t.type?de(e,t):t.type===Y?me(e,t):e},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"message"===t.type?de(e,t):t.type===_?me(e,t):e},online:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;if("online"===t.type){var n=t.payload,a=n.online;return a}return e},rooms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"room"===t.type?de(e,t):t.type===ee?me(e,t):e},userId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-1",t=arguments.length>1?arguments[1]:void 0;if("userId"===t.type){var n=t.payload,a=n.reset,r=n.userId;return a?"-1":r}return e},positions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"position"===t.type?de(e,t):"positions"===t.type?me(e,t):e},transactions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"transaction"===t.type?de(e,t):t.type===ae?me(e,t):e},wallets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"wallet"===t.type?de(e,t):t.type===oe?me(e,t):e},config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;if("config"===t.type){var n=t.payload,a=n.entries,r=new Map(Object(le.a)(e));return a.forEach((function(e){return r.set(e[0],e[1])})),r}return e},aliasId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if("aliasId"===t.type){var n=t.payload,a=n.reset,r=n.aliasId;return a?null:r}return e},windowOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;if("windowOrder"===t.type){var n=t.payload,a=n.id,r=n.value,o=n.changeType,c=new Map(Object(le.a)(e));if(o===ie){if(c.size>0&&c.get(a)&&c.get(a).index===c.size){var l=c.get(a);if(Object.keys(r).length===Object.keys(l).length-1&&Object.keys(r).every((function(e){return l[e]===r[e]})))return e}var i=Object(ce.a)({},r);if(c.get(a)){var u=Object(le.a)(c.entries()).sort((function(e,t){var n=e[1].index,a=t[1].index;return n>a?1:n<a?-1:0})),d=u.splice(u.findIndex((function(e){return Object(s.a)(e,1)[0]===a})),1),m=Object(s.a)(d,1),f=m[0];f[1]=Object(ce.a)({},i),u.push(f),u.forEach((function(e,t){var n=Object(s.a)(e,2),a=n[0],r=n[1],o=Object(ce.a)(Object(ce.a)({},r),{},{index:t+1});c.set(a,o)}))}else i.index=c.size+1,c.set(a,i);return c}return o===se?(c.delete(a),c):e}if("windowOrders"===t.type){var p=t.payload,h=p.windows,v=p.reset,g=new Map(Object(le.a)(e));return v?Oe:(h.forEach((function(e){var t=e.id,n=e.value,a=Object(ce.a)(Object(ce.a)({},n),{},{index:g.size+1});g.set(t,a)})),g)}return e},teams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"team"===t.type?de(e,t):t.type===ne?me(e,t):e},docFiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"docFile"===t.type?de(e,t):t.type===J?me(e,t):e},mode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;if("mode"===t.type){var n=t.payload,a=n.mode,r=n.target,o=Object(ce.a)({},e);return!a&&r&&e.target===r?e:(r&&a!==e.mode?o.target=r:o.target=je.target,a===e.mode?o.mode=je.mode:a&&(o.mode=a),o)}return e},interfaceConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;if("interfaceConfiog"===t.type){var n=t.payload,a=n.hideMenu,r=n.toggleHideMenu,o=Object(ce.a)({},e);return Object.keys(n).every((function(t){return n[t]===e[t]}))?e:(r?o.hideMenu=!e.hideMenu:"boolean"===typeof a&&(o.hideMenu=a),o)}return e},devices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1?arguments[1]:void 0;return"device"===t.type?de(e,t):t.type===q?me(e,t):e}}),xe=Object(V.d)(ke,Object(V.a)(z.a)),Ce="deviceId",Ne="token",Le="userId",Se="aliasId",Re=function(e,t){"string"===typeof t?localStorage.setItem(e,t):localStorage.setItem(e,function(e){return JSON.stringify(e)}(t))},Ae=function(e){return localStorage.getItem(e)},Te=function(e){return localStorage.removeItem(e)},Pe=function(){return Te(Se)},Me=function(){Te(Ne),Te(Le),Pe()},De=function(){return Ae(Ce)},Fe=function(){return Ae(Ne)},We=function(e){return e.mode},Ge=function(e){return{type:"mode",payload:{mode:e.mode,target:e.target}}},Be=function(e){return{type:"mode",payload:{target:e.target}}},He=function(e){var t=e.windows;if(1===t.length){var n=Object(s.a)(t,1)[0],a=n.value,r=n.id;return function(e){Object(i.b)((function(){We(xe.getState()).mode===we&&e(Be({target:r})),e({type:"windowOrder",payload:{id:r,value:a,changeType:ie}})}))}}return{type:"windowOrders",payload:{windows:t,changeType:ie}}},Ue=function(e){return{type:"windowOrder",payload:{id:e.id,changeType:se}}},Ve=n(9),ze=function(e){return e.online===ve},Ye=function(){return{type:"online",payload:{online:ve}}},qe=function(e){return e.aliasId},Je=function(e){return e.userId},Ke=function(e){return qe(e)||Je(e)},Xe=function(e){var t=e.wallets;return 1===t.length?{type:"wallet",payload:{wallet:t[0],changeType:ie}}:{type:oe,payload:{wallets:t,changeType:ie}}},Ze=function(e){var t=e.wallets;return 1===t.length?{type:"wallet",payload:{wallet:t[0],changeType:ue}}:{type:oe,payload:{wallets:t,changeType:ue}}},Qe=function(e){var t=e.transactions;return 1===t.length?{type:"transaction",payload:{transaction:t[0],changeType:ue}}:{type:ae,payload:{transactions:t,changeType:ue}}},$e=function(e){var t=e.transaction,n=e.wallet;return function(e){Object(i.b)((function(){e(Qe({transactions:[t]})),e(Xe({wallets:[n]}))}))}},_e=function(e){var t=e.messages;return 1===t.length?{type:"message",payload:{changeType:ue,message:t[0]}}:{type:_,payload:{messages:t,changeType:ue}}},et=function(e){var t=e.message,n=e.transaction,a=e.wallet;return function(){var e=Object(U.a)(H.a.mark((function e(r){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(i.b)((function(){r(_e({messages:[t]})),r(Qe({transactions:[n]})),r(Xe({wallets:[a]}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},tt=n(10),nt=n(8),at=n.n(nt),rt=function(e){return e.aliases},ot=function(e,t){var n=t.id;return e.aliases.get(n)},ct=function(e){return e.config.get("requireOffName")},lt=function(e){return e.config.get("publicRoomId")},it=function(e){return e.config.get("allowedImages")},ut=function(e){return e.config.get("gpsTracking")},st=function(e){return e.config.get("permissions")},dt=function(e){return e.config.get("newsRoomId")},mt=function(e){return e.config.get("newsCost")},ft=function(e){return e.config.get("onlySeen")},pt=function(e){return e.config.get("allowPartialSearch")},ht=function(e){return e.config.get("yearModification")},vt=function(e){return e.config.get("dayModification")},gt=function(e){return e.config.get("disallowProfileEdit")},yt=function(e){return e.teams},bt=function(e,t){var n=t.id;return e.teams.get(n)},Et=(at()([yt],(function(e){return Object(le.a)(e.values()).map((function(e){return{objectId:e.objectId,teamName:e.teamName,shortName:e.shortName}}))}))((function(){return"team-ids"})),at()([yt,function(e,t){return t.ids}],(function(e,t){var n=new Map;return t.forEach((function(t){return n.set(t,e.get(t))})),n}))((function(e,t){var n=t.ids;return"teams-".concat(n.join(n))}))),Ot=function(e){return e.users},wt=function(e,t){var n=t.id;return e.users.get(n)},jt=at()([function(e){return wt(e,{id:Je(e)})},function(e){return e.config.get("anonymousUser")}],(function(e,t){return e||t}))((function(){return"current-user"})),It=at()([jt],(function(e){return e.isAnonymous}))((function(){return"is-anonymous"})),kt=at()([jt],(function(e){return e.followingRooms}))({keySelector:function(){return"current-user-rooms"},selectorCreator:Object(tt.createSelectorCreator)(tt.defaultMemoize,(function(e,t){return e.followingRooms.length===t.followingRooms.length&&e.followingRooms.every((function(e){return t.followingRooms.includes(e)}))}))}),xt=Object(tt.createSelector)([jt],(function(e){return e.accessLevel})),Ct=at()([jt],(function(e){return e.hasSeen||[]}))({keySelector:function(){return"current-user-hasSeen"},selectorCreator:Object(tt.createSelectorCreator)(tt.defaultMemoize,(function(e,t){return e.hasSeen&&t.hasSeen&&e.hasSeen.length===t.hasSeen.length&&e.hasSeen.every((function(e){return t.hasSeen.includes(e)}))}))}),Nt=at()([jt],(function(e){return e.partOfTeams}))({keySelector:function(){return"current-user-partOfTeams"},selectorCreator:Object(tt.createSelectorCreator)(tt.defaultMemoize,(function(e,t){return e.partOfTeams.length===t.partOfTeams.length&&t.partOfTeams.every((function(t){return e.partOfTeams.includes(t)}))}))}),Lt=at()([jt,function(){return De()}],(function(e,t){return e.systemConfig?e.systemConfig[t]||e.systemConfig:{}}))((function(){return"current-system-config"})),St=at()([Lt],(function(e){return e.hideTopBar}))((function(){return"current-hideTopBar"})),Rt=at()([Lt],(function(e){return e.alwaysMaximized}))((function(){return"current-alwaysMaximized"})),At=at()([Lt],(function(e){return e.alwaysCompactMenu}))((function(){return"current-alwaysCompactMenu"})),Tt=at()([Ot,rt],(function(e,t){return new Map([].concat(Object(le.a)(e.entries()),Object(le.a)(t.entries())))}))((function(){return"identities"})),Pt=at()([Ot,rt,function(e,t){return t.ids}],(function(e,t,n){var a=new Map;return n.forEach((function(n){return a.set(n,e.get(n)||t.get(n))})),a}))((function(e,t){var n=t.ids;return"identities-".concat(n.join(" "))})),Mt=at()([Ot,rt,yt,function(e,t){return t.ids}],(function(e,t,n,a){var r=new Map;return a.forEach((function(a){return r.set(a,n.get(a)||e.get(a)||t.get(a))})),r}))((function(e,t){var n=t.ids;return"identities-teams-".concat(n.join(" "))})),Dt=at()([wt,ot],(function(e,t){return t||e}))((function(e,t){var n=t.id;return"identity-".concat(n)})),Ft=at()([Dt],(function(e){return e.image}))((function(e,t){var n=t.id;return"identity-".concat(n,"-image")})),Wt=at()([Dt,bt,function(e,t){var n=t.id,a=function(e){return e.config.get("systemUser")}(e);return a.objectId===n?a.username:void 0}],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.aliasName,n=e.username,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.teamName,o=arguments.length>2?arguments[2]:void 0;return{type:t||n?"identity":r?"team":o?"system":"fallback",name:t||n||r||o||""}}))((function(e,t){var n=t.id;return"identity-".concat(n,"-name")})),Gt=at()([wt,ot,bt],(function(e,t,n){return n||t||e}))((function(e,t){var n=t.id;return"identity-team-".concat(n)})),Bt=at()([Tt,Je],(function(e,t){return Object(le.a)(e.values()).filter((function(e){return e.objectId!==t&&e.ownerId!==t&&!e.userIds.includes(t)})).map((function(e){return{objectId:e.objectId,partOfTeams:e.partOfTeams,name:e.aliasName||e.username}}))}))({keySelector:function(){return"other-identity-ids"},selectorCreator:Object(tt.createSelectorCreator)(tt.defaultMemoize,(function(e,t){return"string"===typeof e&&"string"===typeof t?e===t:e.size===t.size&&Object(le.a)(t.values()).every((function(t){var n=e.get(t.objectId);return!!n&&((t.aliasName||t.username)===(n.aliasName||n.username)&&(t.partOfTeams.length===n.partOfTeams.length&&t.partOfTeams.every((function(e){return n.partOfTeams.includes(e)}))))}))}))}),Ht=at()([Tt,Je],(function(e,t){return Object(le.a)(e.values()).filter((function(e){return e.objectId===t||e.ownerId===t||e.userIds.includes(t)}))}))((function(){return"current-identities"})),Ut=at()([Ht],(function(e){return e.map((function(e){return{objectId:e.objectId,name:e.aliasName||e.username}}))}))({keySelector:function(){return"current-identities-names"},selectorCreator:Object(tt.createSelectorCreator)(tt.defaultMemoize,(function(e,t){return e.length===t.length&&t.every((function(t){var n=e.find((function(e){return t.objectId===e.objectId}));return n&&(n.aliasName||n.username)===(t.aliasName||t.username)}))}))}),Vt="chatMsg",zt="whisper",Yt=function(e){var t=e.forums;return 1===t.length?{type:"forum",payload:{forum:t[0],changeType:ue}}:{type:K,payload:{forums:t,changeType:ue}}},qt=function(e){var t=e.gameCodes;return 1===t.length?{type:"gameCode",payload:{gameCode:t[0],changeType:ue}}:{type:Q,payload:{gameCodes:t,changeType:ue}}},Jt=function(e){var t=e.users;return 1===t.length?{type:"user",payload:{user:t[0],changeType:ie}}:{type:re,payload:{users:t,changeType:ie}}},Kt=function(e){var t=e.users;return 1===t.length?{type:"user",payload:{user:t[0],changeType:ue}}:{type:re,payload:{users:t,changeType:ue}}},Xt=function(e){var t=e.user,n=e.wallet,a=e.room,r=e.forum,o=e.gameCode;return function(){var e=Object(U.a)(H.a.mark((function e(c){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(i.b)((function(){c(Kt({users:[t]})),c(Zt({rooms:[a]})),c(Ze({wallets:[n]})),c(Yt({forums:[r]})),c(qt({gameCodes:[o]}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Zt=function(e){var t=e.rooms;return 1===t.length?{type:"room",payload:{changeType:ue,room:t[0]}}:{type:ee,payload:{rooms:t,changeType:ue}}},Qt=function(e){var t=e.rooms;return 1===t.length?{type:"room",payload:{changeType:ie,room:t[0]}}:{type:ee,payload:{rooms:t,changeType:ue}}},$t=function(e){var t=e.rooms;return 1===t.length?{type:"room",payload:{changeType:se,room:t[0]}}:{type:ee,payload:{rooms:t,changeType:se}}},_t=function(e){var t=e.room,n=e.user;return function(e){Object(i.b)((function(){e(Qt({rooms:[t]})),e(Jt({users:[n]}))}))}},en="room",tn="followRoom",nn="user",an=function(e){var t=e.aliasId;return t?(Re(Se,t),{type:"aliasId",payload:{aliasId:t}}):(Pe(),{type:"aliasId",payload:{reset:!0}})},rn=function(e){var t=e.aliases;return 1===t.length?{type:"alias",payload:{alias:t[0],changeType:ie}}:{type:Y,payload:{aliases:t,changeType:ie}}},on=function(e){var t=e.aliases;return 1===t.length?{type:"alias",payload:{alias:t[0],changeType:ue}}:{type:Y,payload:{aliases:t,changeType:ue}}},cn=function(e){var t=e.alias,n=e.wallet,a=e.room;return function(){var e=Object(U.a)(H.a.mark((function e(r){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(i.b)((function(){r(on({aliases:[t]})),r(Zt({rooms:[a]})),r(Ze({wallets:[n]}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ln="alias",un="wallet",sn="transaction",dn=function(e){var t=e.docFiles;return 1===t.length?{type:"docFile",payload:{docFile:t[0],changeType:ie}}:{type:J,payload:{docFiles:t,changeType:ie}}},mn=function(e){var t=e.docFiles;return 1===t.length?{type:"docFile",payload:{docFile:t[0],changeType:ue}}:{type:J,payload:{docFiles:t,changeType:ue}}},fn="docFile",pn=function(){var e="undefined"!==typeof ioUri?ioUri:"/";return window.io(e,{forceNew:!0})}(),hn="createAlias",vn="createUser",gn="sendMessage",yn="createRoom",bn="createDocFile",En="createTransaction",On="followRoom",wn="getMessagesByRoom",jn="removeRoom",In="unlockDocFile",kn="updateUser",xn="updateAlias",Cn={ALIASES:"getAliases",USERS:"getUsers",MESSAGES:"getMessages",ROOMS:"getRooms",INVITATIONS:"getInvitations",DOCFILES:"getDocFiles",FORUMS:"getForums",FORUMPOSTS:"getForumPosts",FORUMTHREADS:"getForumThreads",GAMECODES:"getGameCodes",SIMPLEMSGS:"getSimpleMsgs",TEAMS:"getTeams",TRANSACTIONS:"getTransactions",WALLETS:"getWallets",DEVICES:"getDevices"},Nn="login",Ln="reconnect",Sn="startup",Rn="disconnect",An=function(){var e=Object(U.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.event,a=t.callback,pn.on(n,(function(e){console.log(n,e),a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tn=function(){xe.getState().online!==ye&&(pn.disconnect(),pn.connect())},Pn=function(){var e=Object(U.a)(H.a.mark((function e(t){var n,a=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.abrupt("return",new Promise((function(e,a){var r=n;r.token=Fe(),ze(xe.getState())||Tn(),pn.emit(t,r,(function(t){var n=t.error,r=t.data;n?a(n):e(r)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Mn=function(){var e=Object(U.a)(H.a.mark((function e(){var t,n,a=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.length>0&&void 0!==a[0]?a[0]:{},n=t.reset,[{type:re,event:Cn.USERS},{type:Y,event:Cn.ALIASES},{type:ne,event:Cn.TEAMS},{type:ee,event:Cn.ROOMS},{type:_,event:Cn.MESSAGES},{type:$,event:Cn.INVITATIONS},{type:J,event:Cn.DOCFILES},{type:K,event:Cn.FORUMS},{type:Z,event:Cn.FORUMTHREADS},{type:X,event:Cn.FORUMPOSTS},{type:Q,event:Cn.GAMECODES},{type:te,event:Cn.SIMPLEMSGS},{type:oe,event:Cn.WALLETS},{type:ae,event:Cn.TRANSACTIONS},{type:q,event:Cn.DEVICES}].forEach((function(e){var t=e.event,a=e.type;Pn(t,{}).then((function(e){console.log(t,e),xe.dispatch({type:a,payload:Object(Ve.a)({reset:n,changeType:ue},a,e[a])})})).catch((function(e){console.log(e)}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();An({event:Ln,callback:function(){Je(xe.getState())?Pn("updateId",{}).then((function(){xe.dispatch(Ye()),Mn()})).catch((function(e){console.log(e),xe.dispatch(_n(Mn))})):Mn()}}),An({event:Sn,callback:function(e){var t,n=e.data,a=Ae(Le),r=Fe(),o=Ae(Se);De()&&"1234567890123456"!==De()||(console.log(De()),Pn("createDevice",{device:{},firstStartup:!0}).then((function(e){var t,n=e.device;t=n.objectId,Re(Ce,t),xe.dispatch(function(e){var t=e.devices;return 1===t.length?{type:"device",payload:{device:t[0],changeType:ue}}:{type:q,payload:{devices:t,changeType:ue}}}({devices:[n]}))})).catch((function(e){return console.log("device create",e)}))),xe.dispatch((t=n,function(e){Object(i.b)((function(){e({type:"config",payload:{entries:Object.entries(t)}}),e(Ye())}))})),a||r?Pn("updateId",{}).then((function(){Object(i.b)((function(){o&&xe.dispatch(an({aliasId:o})),xe.dispatch($n({userId:a,token:r,retrieveAll:Mn}))}))})).catch((function(e){console.log(e),xe.dispatch(_n(Mn))})):Mn({reset:!0})}}),An({event:Rn,callback:function(){xe.dispatch({type:"online",payload:{online:ge}}),Tn()}}),An({event:Vt,callback:function(e){var t=e.data,n=e.error;if(t&&t.message){var a=t.message;t.changeType===ue&&xe.dispatch(_e({messages:[a]}))}else console.log(Vt,n,t)}}),An({event:zt,callback:function(e){var t=e.data,n=e.error;if(t&&t.message){var a=t.message,r=t.changeType,o=jt(xe.getState()),c=o.objectId,l=o.hasSeen,i=void 0===l?[]:l,u=o.partOfTeams,s=Dt(xe.getState(),{id:a.ownerAliasId||a.ownerId});return i.includes(a.ownerAliasId||a.ownerId)||u.some((function(e){return s.partOfTeams.includes(e)}))||Fn({userId:c,user:{hasSeen:i.concat([a.ownerAliasId||a.ownerId])}}).catch((function(e){return console.log(e)})),void(r===ue&&xe.dispatch(_e({messages:[a]})))}console.log(zt,n,t)}}),An({event:en,callback:function(e){var t=e.error,n=e.data;if(n&&n.room){var a=n.room,r=n.changeType;if(a.isWhisper&&a.spyMode){var o=jt(xe.getState());if(!G({objectToAccess:a,toAuth:o}).adminAccess)return}r===ue?xe.dispatch(Zt({rooms:[a]})):r===ie?xe.dispatch(Qt({rooms:[a]})):r===se&&xe.dispatch($t({rooms:[a]}))}else console.log(en,t,n)}}),An({event:tn,callback:function(e){var t=e.error,n=e.data;n&&n.room&&n.user?xe.dispatch(function(){var e=Object(U.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(i.b)((function(){t(Qt({rooms:[n.room]})),t(Jt({users:[n.user]}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):console.log(tn,t,n)}}),An({event:nn,callback:function(e){var t=e.error,n=e.data;if(n&&n.user){var a=n.user,r=n.changeType;r===ue?xe.dispatch(Kt({users:[a]})):r===ie&&xe.dispatch(Jt({users:[a]}))}else console.log(nn,t,n)}}),An({event:ln,callback:function(e){var t=e.error,n=e.data;if(n&&n.alias){var a=n.alias,r=n.changeType;r===ue?xe.dispatch(on({aliases:[a]})):r===ie&&xe.dispatch(rn({aliases:[a]}))}else console.log(ln,t,n)}}),An({event:un,callback:function(e){var t=e.error,n=e.data;if(n&&n.wallet){var a=n.wallet,r=n.changeType;r===ue?xe.dispatch(Ze({wallets:[a]})):r===ie&&xe.dispatch(Xe({wallets:[a]}))}else console.log(un,t,n)}}),An({event:sn,callback:function(e){var t=e.error,n=e.data;if(n&&n.transaction&&(n.changeType===ie||n.wallet)){var a=n.transaction,r=n.changeType;r===ue?xe.dispatch($e(n)):r===ie&&xe.dispatch(function(e){var t=e.transactions;return 1===t.length?{type:"transaction",payload:{transaction:t[0],changeType:ie}}:{type:ae,payload:{transactions:t,changeType:ie}}}({transactions:[a]}))}else console.log(sn,t,n)}}),An({event:fn,callback:function(e){var t=e.error,n=e.data;if(n&&n.docFile){var a=n.docFile,r=n.changeType;r===ue?xe.dispatch(mn({docFiles:[a]})):r===ie&&xe.dispatch(dn({docFiles:[a]}))}else console.log(fn,t,n)}});var Dn=function(){var e=Object(U.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t).user.registerDevice=De(),e.next=4,Pn(vn,n);case 4:return a=e.sent,e.next=7,xe.dispatch(Xt(a));case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fn=function(){var e=Object(U.a)(H.a.mark((function e(t){var n,a,r,o,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,a=t.user,r=t.image,o=t.resetImage,e.next=3,Pn(kn,{userId:n,user:a,image:r,options:{resetImage:o}});case 3:return c=e.sent,console.log(c),e.next=7,xe.dispatch(Jt({users:[c.user]}));case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wn=function(e,t){var n=t.id;return e.docFiles.get(n)},Gn=at()([function(e){return e.docFiles}],(function(e){return Object(le.a)(e.values()).map((function(e){return{objectId:e.objectId,title:e.title,ownerAliasId:e.ownerAliasId,ownerId:e.ownerId,isLocked:e.isLocked}}))}))((function(){return"docFile-ids-names"})),Bn="notification",Hn="window",Un="pushToken",Vn="message",zn="login",Yn="qr",qn="quit",Jn=function(e){var t=e.type,n=e.data;window.ReactNativeWebView&&window.ReactNativeWebView.postMessage&&window.ReactNativeWebView.postMessage(JSON.stringify({type:t,data:n}))},Kn=function(e){if(e.data){var t=JSON.parse(e.data),n=t.type,a=t.data;switch(n){case Bn:!function(e){alert(JSON.stringify(e))}(a);break;case Hn:!function(e){var t=e.windowType,n=e.value;xe.dispatch(He({windows:[{id:t,value:Object(ce.a)(Object(ce.a)({},n),{},{type:t})}]}))}(a);break;case Un:!function(e){var t=e.token,n=jt(xe.getState());n.isAnonymous||t===n.pushToken||Fn({userId:n.objectId,user:{pushToken:t}}).catch((function(e){return console.log(e)}))}(a);break;case Vn:!function(e){var t=e.message;alert(JSON.stringify(t))}(a);break;case Yn:!function(e){try{var t=e.ri,n=e.rp,a=e.mi,r=e.wi,o=e.a,c=e.m,l=e.di,i=e.c,u=e.ti,s=e.ii,d=dt(xe.getState());if(t&&a&&t===d)xe.dispatch(He({windows:[{id:Ee.NEWS,value:{type:Ee.NEWS,messageId:a}}]}));else if(t){kt(xe.getState()).includes(t)?xe.dispatch(He({windows:[{id:Ee.CHAT,value:{type:Ee.CHAT,roomId:t,messageId:a}}]})):xe.dispatch(He({windows:[{id:"".concat(Ee.DIALOGJOINROOM,"-").concat(t),value:{roomId:t,messageId:a,password:n,type:Ee.DIALOGJOINROOM}}]}))}else if(r)xe.dispatch(He({windows:[{id:"".concat(Ee.DIALOGCREATETRANSACTION,"-").concat(r),value:{type:Ee.DIALOGCREATETRANSACTION,toWalletId:r,amount:o}}]}));else if(l){Wn(xe.getState(),{id:l}).isLocked?xe.dispatch(He({windows:[{id:Ee.DIALOGUNLOCKFILE,value:{type:Ee.DIALOGUNLOCKFILE,docFileId:l,code:i}}]})):xe.dispatch(He({windows:[{id:Ee.DOCFILEVIEW,value:{type:Ee.DOCFILEVIEW,docFileId:l}}]}))}else u?xe.dispatch(He({windows:[{id:Ee.TEAMS,value:{type:Ee.TEAMS,teamId:u}}]})):s?xe.dispatch(He({windows:[{id:"".concat(Ee.DIALOGPROFILE,"-").concat(s),value:{type:Ee.DIALOGPROFILE,identityId:s}}]})):c&&alert(c)}catch(m){alert("Invalid data ".concat(e))}}(a);break;default:console.log("Unknown message",e.nativeEvent.data)}}};window.ReactNativeWebView&&(window.addEventListener("message",Kn),document.addEventListener("message",Kn));var Xn,Zn,Qn,$n=function(e){var t=e.userId,n=e.token,a=e.retrieveAll;return Re(Ne,n),function(e){Re(Le,e)}(t),a({reset:!0}),Jn({type:zn,data:{userId:t}}),{type:"userId",payload:{userId:t}}},_n=function(e){return xe.dispatch({type:"windowOrders",payload:{reset:!0}}),Me(),e({reset:!0}),function(e){Object(i.b)((function(){e({type:"userId",payload:{reset:!0}}),e({type:"aliasId",payload:{reset:!0}})}))}},ea=function(){var e=Object(U.a)(H.a.mark((function e(t,n){var a,r,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pn(Nn,{user:{username:t,password:n}});case 2:return a=e.sent,r=a.user,o=a.token,xe.dispatch($n({userId:r.objectId,token:o,retrieveAll:Mn})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ta=function(){var e=Object(U.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xe.dispatch(_n(Mn));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),na=(n(52),c.a.forwardRef((function(e,t){var n=e.children,a=e.onClick,r=e.elementId,l=e.scrollTo,i=e.stopPropagation,u=void 0!==i&&i,s=e.className,d=void 0===s?"":s,m=Object(o.useRef)(null);return Object(o.useLayoutEffect)((function(){l&&m.current&&(m.current.scrollIntoView({behavior:"smooth",block:"nearest"}),setTimeout((function(){return m.current.scrollIntoView({behavior:"smooth",block:"nearest"})}),300))}),[l]),c.a.createElement("li",{ref:function(e){t&&(t.current=e),m.current=e},id:r,className:"ListItem ".concat(a?"clickable":""," ").concat(d),onClick:function(e){a&&a(e),"UL"===e.target.parentElement.tagName&&e.target.parentElement.click(),u&&e.stopPropagation()}},n)}))),aa=c.a.memo(na);function ra(){return(ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function oa(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}na.defaultProps={onClick:void 0,className:"",stopPropagation:!1,elementId:void 0,children:void 0,scrollTo:!1};var ca,la,ia,ua=function(e){var t=e.svgRef,n=e.title,a=oa(e,["svgRef","title"]);return c.a.createElement("svg",ra({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-menu",ref:t},a),n?c.a.createElement("title",null,n):null,Xn||(Xn=c.a.createElement("line",{x1:3,y1:12,x2:21,y2:12})),Zn||(Zn=c.a.createElement("line",{x1:3,y1:6,x2:21,y2:6})),Qn||(Qn=c.a.createElement("line",{x1:3,y1:18,x2:21,y2:18})))},sa=c.a.forwardRef((function(e,t){return c.a.createElement(ua,ra({svgRef:t},e))}));n.p;function da(){return(da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ma(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var fa,pa,ha=function(e){var t=e.svgRef,n=e.title,a=ma(e,["svgRef","title"]);return c.a.createElement("svg",da({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-log-out",ref:t},a),n?c.a.createElement("title",null,n):null,ca||(ca=c.a.createElement("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"})),la||(la=c.a.createElement("polyline",{points:"16 17 21 12 16 7"})),ia||(ia=c.a.createElement("line",{x1:21,y1:12,x2:9,y2:12})))},va=c.a.forwardRef((function(e,t){return c.a.createElement(ha,da({svgRef:t},e))}));n.p;function ga(){return(ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ya(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ba,Ea,Oa=function(e){var t=e.svgRef,n=e.title,a=ya(e,["svgRef","title"]);return c.a.createElement("svg",ga({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-settings",ref:t},a),n?c.a.createElement("title",null,n):null,fa||(fa=c.a.createElement("circle",{cx:12,cy:12,r:3})),pa||(pa=c.a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})))},wa=c.a.forwardRef((function(e,t){return c.a.createElement(Oa,ga({svgRef:t},e))}));n.p;function ja(){return(ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ia(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ka,xa,Ca,Na=function(e){var t=e.svgRef,n=e.title,a=Ia(e,["svgRef","title"]);return c.a.createElement("svg",ja({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-user",ref:t},a),n?c.a.createElement("title",null,n):null,ba||(ba=c.a.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"})),Ea||(Ea=c.a.createElement("circle",{cx:12,cy:7,r:4})))},La=c.a.forwardRef((function(e,t){return c.a.createElement(Na,ja({svgRef:t},e))}));n.p;function Sa(){return(Sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ra(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Aa,Ta,Pa=function(e){var t=e.svgRef,n=e.title,a=Ra(e,["svgRef","title"]);return c.a.createElement("svg",Sa({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-log-in",ref:t},a),n?c.a.createElement("title",null,n):null,ka||(ka=c.a.createElement("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"})),xa||(xa=c.a.createElement("polyline",{points:"10 17 15 12 10 7"})),Ca||(Ca=c.a.createElement("line",{x1:15,y1:12,x2:3,y2:12})))},Ma=c.a.forwardRef((function(e,t){return c.a.createElement(Pa,Sa({svgRef:t},e))}));n.p;function Da(){return(Da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Fa(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Wa,Ga=function(e){var t=e.svgRef,n=e.title,a=Fa(e,["svgRef","title"]);return c.a.createElement("svg",Da({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",ref:t},a),n?c.a.createElement("title",null,n):null,Aa||(Aa=c.a.createElement("line",{x1:12,y1:5,x2:12,y2:19})),Ta||(Ta=c.a.createElement("line",{x1:5,y1:12,x2:19,y2:12})))},Ba=c.a.forwardRef((function(e,t){return c.a.createElement(Ga,Da({svgRef:t},e))})),Ha=(n.p,n(53),c.a.memo((function(){var e=Object(i.c)(xt),t=Object(i.c)(st),n=[];return e===t.CreateUser.accessLevel&&n.push(c.a.createElement(aa,{key:"register",onClick:function(){return xe.dispatch(He({windows:[{id:Ee.DIALOGREGISTER,value:{type:Ee.DIALOGREGISTER}}]}))}},c.a.createElement(Ba,null),c.a.createElement("span",null,"Create user"))),e===W.ANONYMOUS&&n.push(c.a.createElement(aa,{key:"login",onClick:function(){return xe.dispatch(He({windows:[{id:Ee.DIALOGLOGIN,value:{type:Ee.DIALOGLOGIN}}]}))}},c.a.createElement(Ma,null),c.a.createElement("span",null,"Login"))),e>=t.CreateAlias.accessLevel&&n.push(c.a.createElement(aa,{key:"alias",onClick:function(){return xe.dispatch(He({windows:[{id:Ee.DIALOGCREATEALIAS,value:{type:Ee.DIALOGCREATEALIAS}}]}))}},c.a.createElement(Ba,null),c.a.createElement("span",null,"Create alias"))),e>=W.STANDARD&&n.push(c.a.createElement(aa,{key:"profile",onClick:function(){return xe.dispatch(He({windows:[{id:Ee.DIALOGPROFILE,value:{type:Ee.DIALOGPROFILE}}]}))}},c.a.createElement(La,null),c.a.createElement("span",null,"Your profile"))),e>=W.STANDARD&&(n.push(c.a.createElement(aa,{key:"settings",onClick:function(){return xe.dispatch(He({windows:[{id:Ee.DIALOGCONFIGSYSTEM,value:{type:Ee.DIALOGCONFIGSYSTEM}}]}))}},c.a.createElement(wa,null),c.a.createElement("span",null,"Settings"))),n.push(c.a.createElement(aa,{key:"logout",onClick:function(){ta()}},c.a.createElement(va,null),c.a.createElement("span",null,"Logout")))),window.ReactNativeWebView&&n.push(c.a.createElement(aa,{key:"quit",onClick:function(){Jn({type:qn,data:{}})}},c.a.createElement("span",null,"Shutdown"))),c.a.createElement(F,{dropdown:!0,className:"MainList",title:c.a.createElement(sa,null)},n)})));function Ua(){return(Ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Va(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var za,Ya,qa,Ja=function(e){var t=e.svgRef,n=e.title,a=Va(e,["svgRef","title"]);return c.a.createElement("svg",Ua({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-message-square",ref:t},a),n?c.a.createElement("title",null,n):null,Wa||(Wa=c.a.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})))},Ka=c.a.forwardRef((function(e,t){return c.a.createElement(Ja,Ua({svgRef:t},e))}));n.p;function Xa(){return(Xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Za(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Qa,$a,_a,er=function(e){var t=e.svgRef,n=e.title,a=Za(e,["svgRef","title"]);return c.a.createElement("svg",Xa({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-map",ref:t},a),n?c.a.createElement("title",null,n):null,za||(za=c.a.createElement("polygon",{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"})),Ya||(Ya=c.a.createElement("line",{x1:8,y1:2,x2:8,y2:18})),qa||(qa=c.a.createElement("line",{x1:16,y1:6,x2:16,y2:22})))},tr=c.a.forwardRef((function(e,t){return c.a.createElement(er,Xa({svgRef:t},e))}));n.p;function nr(){return(nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ar(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var rr,or,cr,lr,ir,ur=function(e){var t=e.svgRef,n=e.title,a=ar(e,["svgRef","title"]);return c.a.createElement("svg",nr({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},a),n?c.a.createElement("title",null,n):null,Qa||(Qa=c.a.createElement("path",{d:"M20 12V8H6a2 2 0 01-2-2c0-1.1.9-2 2-2h12v4"})),$a||($a=c.a.createElement("path",{d:"M4 6v12c0 1.1.9 2 2 2h14v-4"})),_a||(_a=c.a.createElement("path",{d:"M18 12a2 2 0 00-2 2c0 1.1.9 2 2 2h4v-4h-4z"})))},sr=c.a.forwardRef((function(e,t){return c.a.createElement(ur,nr({svgRef:t},e))}));n.p;function dr(){return(dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function mr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var fr,pr,hr,vr=function(e){var t=e.svgRef,n=e.title,a=mr(e,["svgRef","title"]);return c.a.createElement("svg",dr({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file-text",ref:t},a),n?c.a.createElement("title",null,n):null,rr||(rr=c.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"})),or||(or=c.a.createElement("polyline",{points:"14 2 14 8 20 8"})),cr||(cr=c.a.createElement("line",{x1:16,y1:13,x2:8,y2:13})),lr||(lr=c.a.createElement("line",{x1:16,y1:17,x2:8,y2:17})),ir||(ir=c.a.createElement("polyline",{points:"10 9 9 9 8 9"})))},gr=c.a.forwardRef((function(e,t){return c.a.createElement(vr,dr({svgRef:t},e))}));n.p;function yr(){return(yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function br(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Er,Or,wr,jr=function(e){var t=e.svgRef,n=e.title,a=br(e,["svgRef","title"]);return c.a.createElement("svg",yr({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},a),n?c.a.createElement("title",null,n):null,fr||(fr=c.a.createElement("path",{d:"M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8c.4 0 .8-.2 1.1-.5.3-.3.5-.7.5-1.1V6.5L15.5 2z"})),pr||(pr=c.a.createElement("path",{d:"M3 7.6v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8"})),hr||(hr=c.a.createElement("path",{d:"M15 2v5h5"})))},Ir=c.a.forwardRef((function(e,t){return c.a.createElement(jr,yr({svgRef:t},e))}));n.p;function kr(){return(kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function xr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Cr,Nr,Lr,Sr=function(e){var t=e.svgRef,n=e.title,a=xr(e,["svgRef","title"]);return c.a.createElement("svg",kr({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-rss",ref:t},a),n?c.a.createElement("title",null,n):null,Er||(Er=c.a.createElement("path",{d:"M4 11a9 9 0 0 1 9 9"})),Or||(Or=c.a.createElement("path",{d:"M4 4a16 16 0 0 1 16 16"})),wr||(wr=c.a.createElement("circle",{cx:5,cy:19,r:1})))},Rr=c.a.forwardRef((function(e,t){return c.a.createElement(Sr,kr({svgRef:t},e))}));n.p;function Ar(){return(Ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Tr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Pr,Mr,Dr,Fr,Wr=function(e){var t=e.svgRef,n=e.title,a=Tr(e,["svgRef","title"]);return c.a.createElement("svg",Ar({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-layers",ref:t},a),n?c.a.createElement("title",null,n):null,Cr||(Cr=c.a.createElement("polygon",{points:"12 2 2 7 12 12 22 7 12 2"})),Nr||(Nr=c.a.createElement("polyline",{points:"2 17 12 22 22 17"})),Lr||(Lr=c.a.createElement("polyline",{points:"2 12 12 17 22 12"})))},Gr=c.a.forwardRef((function(e,t){return c.a.createElement(Wr,Ar({svgRef:t},e))}));n.p;function Br(){return(Br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Hr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ur,Vr,zr,Yr,qr=function(e){var t=e.svgRef,n=e.title,a=Hr(e,["svgRef","title"]);return c.a.createElement("svg",Br({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},a),n?c.a.createElement("title",null,n):null,Pr||(Pr=c.a.createElement("rect",{x:3,y:3,width:7,height:9})),Mr||(Mr=c.a.createElement("rect",{x:14,y:3,width:7,height:5})),Dr||(Dr=c.a.createElement("rect",{x:14,y:12,width:7,height:9})),Fr||(Fr=c.a.createElement("rect",{x:3,y:16,width:7,height:5})))},Jr=c.a.forwardRef((function(e,t){return c.a.createElement(qr,Br({svgRef:t},e))}));n.p;function Kr(){return(Kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Xr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Zr,Qr,$r,_r=function(e){var t=e.svgRef,n=e.title,a=Xr(e,["svgRef","title"]);return c.a.createElement("svg",Kr({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-users",ref:t},a),n?c.a.createElement("title",null,n):null,Ur||(Ur=c.a.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"})),Vr||(Vr=c.a.createElement("circle",{cx:9,cy:7,r:4})),zr||(zr=c.a.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"})),Yr||(Yr=c.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})))},eo=c.a.forwardRef((function(e,t){return c.a.createElement(_r,Kr({svgRef:t},e))}));n.p;function to(){return(to=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function no(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ao,ro,oo=function(e){var t=e.svgRef,n=e.title,a=no(e,["svgRef","title"]);return c.a.createElement("svg",to({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-globe",ref:t},a),n?c.a.createElement("title",null,n):null,Zr||(Zr=c.a.createElement("circle",{cx:12,cy:12,r:10})),Qr||(Qr=c.a.createElement("line",{x1:2,y1:12,x2:22,y2:12})),$r||($r=c.a.createElement("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})))},co=c.a.forwardRef((function(e,t){return c.a.createElement(oo,to({svgRef:t},e))}));n.p;function lo(){return(lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function io(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var uo,so=function(e){var t=e.svgRef,n=e.title,a=io(e,["svgRef","title"]);return c.a.createElement("svg",lo({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-terminal",ref:t},a),n?c.a.createElement("title",null,n):null,ao||(ao=c.a.createElement("polyline",{points:"4 17 10 11 4 5"})),ro||(ro=c.a.createElement("line",{x1:12,y1:19,x2:20,y2:19})))},mo=c.a.forwardRef((function(e,t){return c.a.createElement(so,lo({svgRef:t},e))}));n.p;function fo(){return(fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function po(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ho,vo,go,yo,bo=function(e){var t=e.svgRef,n=e.title,a=po(e,["svgRef","title"]);return c.a.createElement("svg",fo({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-heart",ref:t},a),n?c.a.createElement("title",null,n):null,uo||(uo=c.a.createElement("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})))},Eo=c.a.forwardRef((function(e,t){return c.a.createElement(bo,fo({svgRef:t},e))}));n.p;function Oo(){return(Oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function wo(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var jo,Io,ko,xo=function(e){var t=e.svgRef,n=e.title,a=wo(e,["svgRef","title"]);return c.a.createElement("svg",Oo({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-upload-cloud",ref:t},a),n?c.a.createElement("title",null,n):null,ho||(ho=c.a.createElement("polyline",{points:"16 16 12 12 8 16"})),vo||(vo=c.a.createElement("line",{x1:12,y1:12,x2:12,y2:21})),go||(go=c.a.createElement("path",{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"})),yo||(yo=c.a.createElement("polyline",{points:"16 16 12 12 8 16"})))},Co=c.a.forwardRef((function(e,t){return c.a.createElement(xo,Oo({svgRef:t},e))})),No=(n.p,function(e){return e.windowOrder}),Lo=(n(54),c.a.memo((function(){var e=Object(i.c)(No),t=Object(i.c)(xt),n=[],a=Object(o.useCallback)((function(e){var t=e.id,n=e.value;return xe.dispatch(He({windows:[{id:t,value:n}]}))}),[]);return e.forEach((function(e,t){if(![Ee.CHAT,Ee.NEWS,Ee.DOCFILEDIR,Ee.WORLDMAP,Ee.WALLET].includes(t)){var r,o;switch(e.type){case Ee.DIALOGPROFILE:o=c.a.createElement(La,null),r=e.identityId?Wt(xe.getState(),{id:e.identityId}).name:"Your profile";break;case Ee.DOCFILEVIEW:o=c.a.createElement(gr,null),r=Wn(xe.getState(),{id:e.docFileId}).title;break;default:o=c.a.createElement(Gr,null),r=t}n.push(c.a.createElement(aa,{className:"other",key:t},c.a.createElement(g,{onClick:function(){return a({id:t,value:e})}},o),c.a.createElement("span",null,r)))}})),c.a.createElement("div",{className:"OpenApps"},c.a.createElement(F,{dropdown:!0,className:"apps",title:c.a.createElement(Jr,null)},c.a.createElement(aa,{key:"chat"},c.a.createElement(g,{key:"chat",className:"".concat(e.get(Ee.CHAT)&&e.get(Ee.CHAT).index===e.size?"active":""),onClick:function(){return a({id:Ee.CHAT,value:{type:Ee.CHAT}})}},c.a.createElement(Ka,null)),c.a.createElement("span",null,"Chat")),c.a.createElement(aa,{key:"news"},c.a.createElement(g,{key:"news",className:"".concat(e.get(Ee.NEWS)&&e.get(Ee.NEWS).index===e.size?"active":""),onClick:function(){return a({id:Ee.NEWS,value:{type:Ee.NEWS}})}},c.a.createElement(Rr,null)),c.a.createElement("span",null,"News")),c.a.createElement(aa,{key:"docFile"},c.a.createElement(g,{key:"docFile",className:"".concat(e.get(Ee.DOCFILEDIR)&&e.get(Ee.DOCFILEDIR).index===e.size?"active":""),onClick:function(){return a({id:Ee.DOCFILEDIR,value:{type:Ee.DOCFILEDIR}})}},c.a.createElement(Ir,null)),c.a.createElement("span",null,"Files")),c.a.createElement(aa,{key:"worldMap"},c.a.createElement(g,{key:"worldMap",className:"".concat(e.get(Ee.WORLDMAP)&&e.get(Ee.WORLDMAP).index===e.size?"active":""),onClick:function(){return a({id:Ee.WORLDMAP,value:{type:Ee.WORLDMAP}})}},c.a.createElement(tr,null)),c.a.createElement("span",null,"Map")),t>=W.STANDARD&&c.a.createElement(aa,{key:"wallet"},c.a.createElement(g,{key:"wallet",className:"".concat(e.get(Ee.WALLET)&&e.get(Ee.WALLET).index===e.size?"active":""),onClick:function(){return a({id:Ee.WALLET,value:{type:Ee.WALLET}})}},c.a.createElement(sr,null)),c.a.createElement("span",null,"Wallet")),c.a.createElement(aa,{key:"identities"},c.a.createElement(g,{key:"identities",className:"".concat(e.get(Ee.IDENTITIES)&&e.get(Ee.IDENTITIES).index===e.size?"active":""),onClick:function(){return a({id:Ee.IDENTITIES,value:{type:Ee.IDENTITIES}})}},c.a.createElement(eo,null)),c.a.createElement("span",null,"Users")),c.a.createElement(aa,{className:"faded",key:"teams"},c.a.createElement(g,{key:"Teams",onClick:function(){}},c.a.createElement(co,null)),c.a.createElement("span",null,"Teams")),c.a.createElement(aa,{className:"faded",key:"terminal"},c.a.createElement(g,{key:"terminal",onClick:function(){}},c.a.createElement(mo,null)),c.a.createElement("span",null,"Terminal")),c.a.createElement(aa,{key:"wrecking",className:"faded"},c.a.createElement(g,{key:"wrecking",onClick:function(){}},c.a.createElement(Co,null)),c.a.createElement("span",null,"Wrecker Central")),c.a.createElement(aa,{className:"faded",key:"love"},c.a.createElement(g,{key:"love",onClick:function(){}},c.a.createElement(Eo,null)),c.a.createElement("span",null,"Love Bureau")),n))})));function So(){return(So=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ro(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ao,To=function(e){var t=e.svgRef,n=e.title,a=Ro(e,["svgRef","title"]);return c.a.createElement("svg",So({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-help-circle",ref:t},a),n?c.a.createElement("title",null,n):null,jo||(jo=c.a.createElement("circle",{cx:12,cy:12,r:10})),Io||(Io=c.a.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"})),ko||(ko=c.a.createElement("line",{x1:12,y1:17,x2:12.01,y2:17})))},Po=c.a.forwardRef((function(e,t){return c.a.createElement(To,So({svgRef:t},e))}));n.p;function Mo(){return(Mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Do(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Fo,Wo=function(e){var t=e.svgRef,n=e.title,a=Do(e,["svgRef","title"]);return c.a.createElement("svg",Mo({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-left",ref:t},a),n?c.a.createElement("title",null,n):null,Ao||(Ao=c.a.createElement("polyline",{points:"15 18 9 12 15 6"})))},Go=c.a.forwardRef((function(e,t){return c.a.createElement(Wo,Mo({svgRef:t},e))}));n.p;function Bo(){return(Bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ho(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Uo,Vo,zo,Yo,qo=function(e){var t=e.svgRef,n=e.title,a=Ho(e,["svgRef","title"]);return c.a.createElement("svg",Bo({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-right",ref:t},a),n?c.a.createElement("title",null,n):null,Fo||(Fo=c.a.createElement("polyline",{points:"9 18 15 12 9 6"})))},Jo=c.a.forwardRef((function(e,t){return c.a.createElement(qo,Bo({svgRef:t},e))}));n.p;function Ko(){return(Ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Xo(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Zo,Qo,$o,_o,ec,tc,nc,ac,rc,oc,cc,lc=function(e){var t=e.svgRef,n=e.title,a=Xo(e,["svgRef","title"]);return c.a.createElement("svg",Ko({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-grid",ref:t},a),n?c.a.createElement("title",null,n):null,Uo||(Uo=c.a.createElement("rect",{x:3,y:3,width:7,height:7})),Vo||(Vo=c.a.createElement("rect",{x:14,y:3,width:7,height:7})),zo||(zo=c.a.createElement("rect",{x:14,y:14,width:7,height:7})),Yo||(Yo=c.a.createElement("rect",{x:3,y:14,width:7,height:7})))},ic=c.a.forwardRef((function(e,t){return c.a.createElement(lc,Ko({svgRef:t},e))}));n.p;function uc(){return(uc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function sc(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var dc=function(e){var t=e.svgRef,n=e.title,a=sc(e,["svgRef","title"]);return c.a.createElement("svg",uc({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},a),n?c.a.createElement("title",null,n):null,Zo||(Zo=c.a.createElement("rect",{x:2,y:2,width:8,height:8})),Qo||(Qo=c.a.createElement("path",{d:"M6 6h.01"})),$o||($o=c.a.createElement("rect",{x:14,y:2,width:8,height:8})),_o||(_o=c.a.createElement("path",{d:"M18 6h.01"})),ec||(ec=c.a.createElement("rect",{x:2,y:14,width:8,height:8})),tc||(tc=c.a.createElement("path",{d:"M6 18h.01"})),nc||(nc=c.a.createElement("path",{d:"M14 14h.01"})),ac||(ac=c.a.createElement("path",{d:"M18 18h.01"})),rc||(rc=c.a.createElement("path",{d:"M18 22h4v-4"})),oc||(oc=c.a.createElement("path",{d:"M14 18v4"})),cc||(cc=c.a.createElement("path",{d:"M22 14h-4"})))},mc=c.a.forwardRef((function(e,t){return c.a.createElement(dc,uc({svgRef:t},e))})),fc=(n.p,function(e){return e.interfaceConfig.hideMenu}),pc=(n(55),function(e){return{type:"interfaceConfiog",payload:{hideMenu:e.hideMenu,toggleHideMenu:e.toggleHideMenu}}}),hc=(n(56),function(e){var t=e.useIcon,n=void 0!==t&&t,a=e.hideOnSingle,r=void 0===a||a,o=e.label,l=Object(i.c)(Ut),u=Object(i.c)(Ke),s=l.find((function(e){return e.objectId===u})),d=(n?l:l.filter((function(e){return e.objectId!==u}))).map((function(e){return c.a.createElement(aa,{className:e.objectId===u?"selected":"",key:e.objectId,onClick:function(){return xe.dispatch(an({aliasId:ot(xe.getState(),{id:e.objectId})?e.objectId:void 0}))}},e.name)})),m=s?s.name:"---";return c.a.createElement("div",{className:"IdentityPicker ".concat(r&&1===l.length?"hide":"")},o,c.a.createElement(F,{dropdown:l.length>1,title:n?c.a.createElement(La,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(La,null),c.a.createElement("span",null,m))},d))}),vc=c.a.memo(hc);hc.defaultProps={useIcon:void 0,hideOnSingle:!0,label:void 0};var gc,yc,bc,Ec,Oc=c.a.memo((function(){var e=Object(i.c)(xt),t=Object(i.c)(Lt),n=Object(i.c)(fc),a=Object(i.c)(We),r=Object(i.c)(ze),l=[];r||l.push("warning"),Object(o.useEffect)((function(){t.hideMenuBar?xe.dispatch(pc({hideMenu:!0})):xe.dispatch(pc({hideMenu:!1}))}),[t.hideMenuBar]);var u=Object(o.useCallback)((function(){return xe.dispatch(Ge({mode:we,target:"MenuBar"}))}),[]);return c.a.createElement(c.a.Fragment,null,n?c.a.createElement("div",{className:"miniMenu"},c.a.createElement(g,{type:"button",onClick:function(){return xe.dispatch(pc({toggleHideMenu:!0}))}},c.a.createElement(Go,null))):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{key:"MenuBar",onClick:function(){r||Tn(),a.mode===we&&xe.dispatch(Be({target:"MenuBar"}))},className:"".concat("MenuBar"," ").concat(l.join(" ")),id:"MenuBar"},c.a.createElement(Ha,{key:"mainList"}),c.a.createElement(Lo,{key:"openApps"}),window.ReactNativeWebView&&c.a.createElement(g,{type:"button",onClick:function(){return Jn({type:Yn,data:{}})}},c.a.createElement(mc,null)),e>=W.STANDARD&&c.a.createElement(vc,{hideOnSingle:!1}),c.a.createElement("div",{className:"rightAligned"},!t.hideHelp&&c.a.createElement(g,{type:"button",className:"helpButton ".concat(a.mode===we&&"MenuBar"===a.target?"active":""),onClick:u},c.a.createElement(Po,null)),c.a.createElement(I,null)),a.mode===we&&"MenuBar"===a.target&&c.a.createElement("div",{className:"helpOverlay"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("p",null,"Overview of the app, that has everything from chat and news feed to digital currency and map."),c.a.createElement("p",null,"Don't be afraid to experiment! You won't break the system."),c.a.createElement("p",null,"There is a ",c.a.createElement(Po,null)," button in each app. The scroll is usually hidden, but you can still scroll (like in this pop-up!). Apps and menu:")),c.a.createElement("li",null,c.a.createElement(ic,null),c.a.createElement("span",null,"APPS Shows all apps.")),c.a.createElement("li",null,c.a.createElement(Ka,null),c.a.createElement("span",null,"CHAT Read and send messages. You have access to read Public without logging in.")),c.a.createElement("li",null,c.a.createElement(Rr,null),c.a.createElement("span",null,"NEWS Read the latest news. You need access to be able to create news.")),c.a.createElement("li",null,c.a.createElement(gr,null),c.a.createElement("span",null,"FILES Read and create documents. You have access to read documents without logging in.")),c.a.createElement("li",null,c.a.createElement(tr,null),c.a.createElement("span",null,"MAP See the local, world map, track users and add new locations.")),c.a.createElement("li",null,c.a.createElement(sr,null),c.a.createElement("span",null,"WALLET Send and receive currency. You need to login to access your wallet.")),c.a.createElement("li",null,c.a.createElement(sa,null),c.a.createElement("span",null,"MENU You can create a user, login, check your info, change settings and more here.")),c.a.createElement("li",null,c.a.createElement(Gr,null),c.a.createElement("span",null,"WINDOWS Other windows you have open (like dialog windows) will be listed here.")),c.a.createElement("li",null,c.a.createElement(p,null),c.a.createElement("span",null,"TIME Click it to reveal the current time."))))),t.hideMenuBar&&e>=W.STANDARD&&c.a.createElement("div",{className:"miniMenu minimize ".concat(t.hideMenuBar?"hideOn":"")},c.a.createElement(g,{type:"button",onClick:function(){return xe.dispatch(pc({toggleHideMenu:!0}))}},c.a.createElement(Jo,null)))))})),wc=n(5);function jc(){return(jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ic(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var kc,xc,Cc,Nc,Lc=function(e){var t=e.svgRef,n=e.title,a=Ic(e,["svgRef","title"]);return c.a.createElement("svg",jc({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-maximize-2",ref:t},a),n?c.a.createElement("title",null,n):null,gc||(gc=c.a.createElement("polyline",{points:"15 3 21 3 21 9"})),yc||(yc=c.a.createElement("polyline",{points:"9 21 3 21 3 15"})),bc||(bc=c.a.createElement("line",{x1:21,y1:3,x2:14,y2:10})),Ec||(Ec=c.a.createElement("line",{x1:3,y1:21,x2:10,y2:14})))},Sc=c.a.forwardRef((function(e,t){return c.a.createElement(Lc,jc({svgRef:t},e))}));n.p;function Rc(){return(Rc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ac(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Tc,Pc=function(e){var t=e.svgRef,n=e.title,a=Ac(e,["svgRef","title"]);return c.a.createElement("svg",Rc({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-minimize-2",ref:t},a),n?c.a.createElement("title",null,n):null,kc||(kc=c.a.createElement("polyline",{points:"4 14 10 14 10 20"})),xc||(xc=c.a.createElement("polyline",{points:"20 10 14 10 14 4"})),Cc||(Cc=c.a.createElement("line",{x1:14,y1:10,x2:21,y2:3})),Nc||(Nc=c.a.createElement("line",{x1:3,y1:21,x2:10,y2:14})))},Mc=c.a.forwardRef((function(e,t){return c.a.createElement(Pc,Rc({svgRef:t},e))})),Dc=(n.p,n(57),c.a.forwardRef((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.image,n=e.onRemove,a=e.width,r=e.height,l=e.scrollTo,i=void 0!==l&&l,u=e.className,d=void 0===u?"":u,m=e.altText,f=void 0===m?"":m,p=e.fullImage,h=e.fullWidth,v=e.fullHeight,g=arguments.length>1?arguments[1]:void 0,y=Object(o.useRef)(null),b=Object(o.useState)(!1),E=Object(s.a)(b,2),O=E[0],w=E[1];Object(o.useEffect)((function(){i&&!O&&y.current&&y.current.scrollIntoView({block:"nearest"})}),[O]);var j=function(e){p&&(w(!O),e.stopPropagation())};return c.a.createElement("div",{role:"complementary",ref:y,className:"Image ".concat(O?"full":""," ").concat(d),onClick:j},n&&c.a.createElement("div",{className:"remove clickable",role:"complementary",onClick:function(e){n(),e.stopPropagation()}},"X"),p&&c.a.createElement("div",{onClick:j,className:"zoom clickable",role:"complementary"},O?c.a.createElement(Mc,null):c.a.createElement(Sc,null)),c.a.createElement("img",{className:p?"clickable":"",onClick:j,width:O?h:a,height:O?v:r,ref:g,src:O?p:t,alt:f}))}))),Fc=Dc;function Wc(){return(Wc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Gc(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}Dc.defaultProps={altText:"",className:"",onRemove:void 0,width:void 0,height:void 0,fullImage:void 0,fullWidth:void 0,fullHeight:void 0,scrollTo:!1};var Bc=function(e){var t=e.svgRef,n=e.title,a=Gc(e,["svgRef","title"]);return c.a.createElement("svg",Wc({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-square",ref:t},a),n?c.a.createElement("title",null,n):null,Tc||(Tc=c.a.createElement("rect",{x:3,y:3,width:18,height:18,rx:2,ry:2})))},Hc=c.a.forwardRef((function(e,t){return c.a.createElement(Bc,Wc({svgRef:t},e))})),Uc=(n.p,n(58),function(e){var t=e.identityId,n=e.onClick,a=Object(i.c)((function(e){return Wt(e,{id:t})})).name,r=Object(i.c)((function(e){return Ft(e,{id:t})})),l=Object(o.useCallback)((function(){n&&n(),xe.dispatch(He({windows:[{id:"".concat(Ee.DIALOGPROFILE,"-").concat(t),value:{identityId:t,type:Ee.DIALOGPROFILE}}]}))}),[t]);return c.a.createElement(aa,{stopPropagation:!0,className:"IdentityItem",key:t,onClick:l},c.a.createElement("div",{className:"icon"},r?c.a.createElement(Fc,{image:"/upload/images/".concat(r.thumbFileName)}):c.a.createElement(Hc,null)),c.a.createElement("span",null,a||"-"))}),Vc=c.a.memo(Uc);Uc.defaultProps={onClick:void 0};n(59);var zc,Yc,qc,Jc=function(e){var t=e.onChange,n=e.name,a=e.shouldEqual,r=e.maxLength,l=e.minLength,i=e.checked,u=e.defaultValue,d=e.label,m=e.type,f=void 0===m?"text":m,p=e.required,h=void 0!==p&&p,v=e.placeholder,g=void 0===v?"":v,y=Object(wc.c)(),b=y.register,E=y.getValues,O=y.unregister,w=Object(o.useState)(!1),j=Object(s.a)(w,2),I=j[0],k=j[1],x=Object(o.useState)(!1),C=Object(s.a)(x,2),N=C[0],L=C[1];return Object(o.useEffect)((function(){return function(){return O(n)}}),[]),c.a.createElement("div",null,d&&c.a.createElement("span",null,d),c.a.createElement("input",{defaultChecked:i,minLength:l,maxLength:r,required:h,name:n,ref:b({maxLength:r,minLength:l,validate:function(e){return!a||e===E(a)||"Must match ".concat(a)}}),type:f,defaultValue:u||"",className:"Input ".concat(N?"empty":""),onFocus:function(){I?N&&L(!1):k(!0)},onBlur:function(e){I&&h&&L(!e.target.value||""===e.target.value)},onChange:function(e){t&&t(e.target.value)},placeholder:g}))},Kc=c.a.memo(Jc);function Xc(){return(Xc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Zc(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}Jc.defaultProps={placeholder:"",required:!1,type:"text",onChange:void 0,shouldEqual:void 0,maxLength:void 0,minLength:void 0,checked:void 0,defaultValue:void 0,label:void 0};var Qc=function(e){var t=e.svgRef,n=e.title,a=Zc(e,["svgRef","title"]);return c.a.createElement("svg",Xc({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-delete",ref:t},a),n?c.a.createElement("title",null,n):null,zc||(zc=c.a.createElement("path",{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"})),Yc||(Yc=c.a.createElement("line",{x1:18,y1:9,x2:12,y2:15})),qc||(qc=c.a.createElement("line",{x1:12,y1:9,x2:18,y2:15})))},$c=c.a.forwardRef((function(e,t){return c.a.createElement(Qc,Xc({svgRef:t},e))})),_c=(n.p,n(60),function(e){var t=e.onSubmit,n=e.formMethods,a=e.placeholder,r=void 0===a?"Search":a;return c.a.createElement(aa,{className:"SearchItem"},c.a.createElement(wc.a,n,c.a.createElement("form",{onSubmit:n.handleSubmit(t)},c.a.createElement(Kc,{name:"search",placeholder:r}),c.a.createElement(g,{stopPropagation:!0,onClick:function(){return n.reset()}},c.a.createElement($c,null)))))}),el=c.a.memo(_c);_c.defaultProps={placeholder:"Search"};n(61);var tl=function(e){var t=e.alwaysExpanded,n=e.hideTitle,a=void 0!==n&&n,r=e.dropdown,l=void 0===r||r,u=Object(wc.b)(),s=Object(wc.d)({control:u.control,name:"search"}),d=Object(i.c)(ft),m=Object(i.c)(xt),f=Object(i.c)(Ct),p=Object(i.c)(Nt),h=Object(i.c)(Bt),v=Object(i.c)(pt),g=Object(o.useCallback)((function(){u.reset()}),[]),y=function(){var e=h;return s&&s.length>0?e=e.filter((function(e){return v||m>=W.ADMIN||f.includes(e.objectId)||p.some((function(t){return e.partOfTeams.includes(t)}))?e.name.toLowerCase().includes(s.toLowerCase()):e.name.toLowerCase()===s.toLowerCase()})):d&&m<W.ADMIN&&(e=e.filter((function(e){return f.includes(e.objectId)||p.some((function(t){return e.partOfTeams.includes(t)}))}))),e.map((function(e){var t=e.objectId;return c.a.createElement(Vc,{key:t,identityId:t,onClick:g})}))}();return c.a.createElement(F,{alwaysExpanded:t,dropdown:l,checkWidth:l,className:"IdentityList",title:a?void 0:c.a.createElement(eo,null),wideTitle:"Users"},c.a.createElement(el,{onSubmit:function(){0===y.length?u.reset():1===y.length&&(xe.dispatch(He({windows:[{id:"".concat(Ee.DIALOGPROFILE,"-").concat(y[0].key),value:{identityId:y[0].key,type:Ee.DIALOGPROFILE}}]})),u.reset())},formMethods:u,placeholder:"Search by name"}),s&&0===y.length?[c.a.createElement(aa,{key:"noMatch"},"No match found")]:y)},nl=c.a.memo(tl);tl.defaultProps={dropdown:!0,alwaysExpanded:void 0,hideTitle:!1};var al=n(37),rl=n(31);var ol,cl;n.p;function ll(){return(ll=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function il(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ul=function(e){var t=e.svgRef,n=e.title,a=il(e,["svgRef","title"]);return c.a.createElement("svg",ll({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x",ref:t},a),n?c.a.createElement("title",null,n):null,ol||(ol=c.a.createElement("line",{x1:18,y1:6,x2:6,y2:18})),cl||(cl=c.a.createElement("line",{x1:6,y1:6,x2:18,y2:18})))},sl=c.a.forwardRef((function(e,t){return c.a.createElement(ul,ll({svgRef:t},e))})),dl=(n.p,n(66),function(e){var t=e.onDoubleClick,n=e.title,a=e.id,r=e.menu,l=e.type,u=e.maximized,s=e.isWide,d=Object(i.c)(Lt),m=Object(i.c)(We),f=Object(o.useCallback)((function(){m.mode===we&&m.target!==a?xe.dispatch(Be({target:a})):xe.dispatch(Ge({mode:we,target:a}))}),[m,a]),p=Object(o.useCallback)((function(){xe.dispatch(Ue({id:a}))}),[]);return c.a.createElement("div",{className:"TopBar"},c.a.createElement("div",{className:"menu"},!s&&r),c.a.createElement("div",{onDoubleClick:t,className:"dragHandle"},c.a.createElement("div",{className:"title"},n)),c.a.createElement("div",{className:"buttons"},!d.alwaysMaximized&&c.a.createElement(g,{type:"button",onClick:t},u?c.a.createElement(Mc,null):c.a.createElement(Sc,null)),!d.hideHelp&&c.a.createElement(g,{stopPropagation:!0,key:"help",className:"help ".concat(m.mode===we&&m.target===a?"active":""),type:"button",onClick:f},c.a.createElement(Po,null)),"dialog"===l&&c.a.createElement(g,{stopPropagation:!0,className:"close",onClick:p},c.a.createElement(sl,null))))}),ml=c.a.memo(dl);dl.defaultProps={menu:void 0};var fl=c.a.memo((function(e){var t=e.id,n=e.children,a=Object(i.c)(We);return c.a.createElement(c.a.Fragment,null,a.mode===we&&a.target===t&&c.a.createElement("div",{className:"helpOverlay"},n))})),pl=(n(67),function(e){var t=e.onClick,n=e.children,a=e.menu,r=e.done,l=e.index,u=e.id,d=e.help,m=e.type,f=void 0===m?"window":m,p=e.title,h=void 0===p?"app":p,v=e.className,g=void 0===v?"":v,y=Object(rl.a)(),b=y.width,E=y.ref,O=Object(o.useRef)(),w=Object(i.c)(St),j=Object(i.c)(Rt),I=Object(i.c)(At),k={width:380,height:340},x=Object(o.useState)(k),C=Object(s.a)(x,2),N=C[0],L=C[1],S=Object(o.useState)({x:0,y:0}),R=Object(s.a)(S,2),A=R[0],T=R[1],P={zIndex:l},M=Object(o.useCallback)((function(){T({x:0,y:0}),L({width:"100%",height:"100%"})}),[]),D=Object(o.useCallback)((function(){"100%"===N.width&&"100%"===N.height?L(k):M()}),[N,A]);return Object(o.useEffect)((function(){(w||j)&&M()}),[w,j]),Object(o.useEffect)((function(){var e=function(e){var t=O.current.resizableElement.current.style,n=O.current.resizableElement.current.getBoundingClientRect(),a=O.current.resizableElement.current.parentElement.getBoundingClientRect(),r=e.target.screen.orientation?e.target.screen.orientation.angle:e.target.orientation;"100%"===t.width&&"100%"===t.height||(0===r?(n.left+10>a.width/2?a.height>a.width?T({x:0,y:a.height/2}):T({x:0,y:(a.width-36)/2}):T({y:0,x:0}),L({width:"100%",height:"50%"})):(n.top+10>a.height/2?a.width>a.height?T({y:0,x:a.width/2}):T({y:0,x:(a.height+36)/2}):T({y:0,x:0}),L({width:"50%",height:"100%"})))};return window.addEventListener("orientationchange",e),function(){return window.removeEventListener("orientationchange",e)}}),[]),c.a.createElement(al.a,{ref:O,style:P,onClick:t,position:A,className:"rnd",size:N,minWidth:260,minHeight:220,maxWidth:"100%",maxHeight:"calc(100%)",bounds:"#MainWindow",dragHandleClassName:"dragHandle",enableResizing:{right:!0,bottom:!0,left:!1,bottomRight:!0,bottomLeft:!0},resizeHandleStyles:{left:{left:0,width:"10px"},right:{right:0,width:"10px"},bottom:{bottom:0,height:"5px"},bottomLeft:{bottom:0,left:0,width:"20px",height:"15px"},bottomRight:{bottom:0,right:0,width:"20px",height:"15px"}},onDragStart:t,onDragStop:function(e,t){var n=t.node,a=t.x,r=t.y;if(!A||a!==A.x||r!==A.y){var o=a+n.offsetWidth>=window.innerWidth,c=0===a,l=0===r,i=r+n.offsetHeight+36>=window.innerHeight,u=window.innerHeight<450,s=window.innerWidth<450,d=O.current.resizableElement.current.parentElement.getBoundingClientRect(),m=d.width>d.height;u||s||!l||!c||o||i?u||s||!l||!o||c||i?u||s||!i||!c||o||l?u||s||!i||!o||c||l?s||!c||o?s||!o||c?u||!l||m||i?u||!i||m||l?T({x:a,y:r}):(L({height:"50%",width:"100%"}),T({x:0,y:d.height/2})):(L({height:"50%",width:"100%"}),T({y:0,x:0})):(L({width:"50%",height:"100%"}),T({x:d.width/2,y:0})):(L({width:"50%",height:"100%"}),T({x:0,y:0})):(L({width:"50%",height:"50%"}),T({x:d.width/2,y:d.height/2})):(L({width:"50%",height:"50%"}),T({x:0,y:d.height/2})):(L({width:"50%",height:"50%"}),T({x:d.width/2,y:0})):(L({width:"50%",height:"50%"}),T({x:0,y:0}))}},onResizeStart:t,onResizeStop:function(e,t,n,a,r){n.offsetWidth===N.width&&n.offsetHeight===N.height||(L({width:n.offsetWidth,height:n.offsetHeight}),T(r))}},c.a.createElement("div",{ref:E,className:"Window ".concat(g," ").concat(!I&&b>=600?"wide":""," ").concat(a?"hasMenu":"")},a&&!I&&b>=600&&c.a.createElement("div",{className:"menu"},a),w&&"dialog"!==f?c.a.createElement("div",null):c.a.createElement(ml,{type:f,maximized:"100%"===N.width&&"100%"===N.height,id:u,done:r,title:h,onDoubleClick:D,menu:a,isWide:!I&&b>=600}),c.a.createElement("div",{className:"windowBox"},c.a.createElement("div",{className:"content"},n,d&&c.a.createElement(fl,{id:u},d)))))}),hl=c.a.memo(pl);pl.defaultProps={done:void 0,className:void 0,title:"app",menu:void 0,type:"window",help:void 0};n(68);var vl,gl,yl,bl=c.a.memo((function(e){var t=e.id,n=e.index,a=Object(o.useCallback)((function(){xe.dispatch(He({windows:[{id:t,value:{type:Ee.IDENTITIES}}]}))}),[]),r=Object(o.useCallback)((function(){return xe.dispatch(Ue({id:t}))}),[t]);return c.a.createElement(hl,{id:t,index:n,done:r,className:"Identities",title:"Users",onClick:a},c.a.createElement(nl,{alwaysExpanded:!0,hideTitle:!0,dropdown:!1}))}));function El(){return(El=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ol(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var wl,jl=function(e){var t=e.svgRef,n=e.title,a=Ol(e,["svgRef","title"]);return c.a.createElement("svg",El({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",ref:t},a),n?c.a.createElement("title",null,n):null,vl||(vl=c.a.createElement("polyline",{points:"21 8 21 21 3 21 3 8"})),gl||(gl=c.a.createElement("rect",{x:1,y:3,width:22,height:5})),yl||(yl=c.a.createElement("line",{x1:10,y1:12,x2:14,y2:12})))},Il=c.a.forwardRef((function(e,t){return c.a.createElement(jl,El({svgRef:t},e))}));n.p;function kl(){return(kl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function xl(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Cl=function(e){var t=e.svgRef,n=e.title,a=xl(e,["svgRef","title"]);return c.a.createElement("svg",kl({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-minimize",ref:t},a),n?c.a.createElement("title",null,n):null,wl||(wl=c.a.createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})))},Nl=c.a.forwardRef((function(e,t){return c.a.createElement(Cl,kl({svgRef:t},e))})),Ll=(n.p,n(69),function(e){var t=e.id,n=e.children,a=e.onSettings,r=e.menuIcon,o=Object(i.c)(jt).isAnonymous;return c.a.createElement(F,{dropdown:!0,checkWidth:!0,wideTitle:"App menu",className:"FileMenu",title:r||c.a.createElement(sa,null)},n,a&&!o&&c.a.createElement(aa,{stopPropagation:!0,key:"settings",onClick:a},c.a.createElement(wa,null),c.a.createElement("span",null,"Preferences")),c.a.createElement(aa,{stopPropagation:!0,key:"quit",onClick:function(){return xe.dispatch(Ue({id:t}))}},c.a.createElement(Nl,null),c.a.createElement("span",null,"Hide app")))}),Sl=c.a.memo(Ll);Ll.defaultProps={children:void 0,onSettings:void 0,menuIcon:void 0};var Rl,Al,Tl,Pl,Ml,Dl,Fl,Wl,Gl,Bl,Hl=at()([function(e){return e.transactions},function(e,t){return t.ids}],(function(e,t){return Object(le.a)(e.values()).filter((function(e){var n=e.fromWalletId,a=e.toWalletId;return t.includes(n)||t.includes(a)})).map((function(e){var n=e.objectId,a=e.fromWalletId;return{objectId:n,isSender:t.includes(a)}})).reverse()}))((function(e,t){var n=t.ids;return"transaction-ids-".concat(n.join(" "))}));function Ul(){return(Ul=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Vl(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var zl=function(e){var t=e.svgRef,n=e.title,a=Vl(e,["svgRef","title"]);return c.a.createElement("svg",Ul({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-cpu",ref:t},a),n?c.a.createElement("title",null,n):null,Rl||(Rl=c.a.createElement("rect",{x:4,y:4,width:16,height:16,rx:2,ry:2})),Al||(Al=c.a.createElement("rect",{x:9,y:9,width:6,height:6})),Tl||(Tl=c.a.createElement("line",{x1:9,y1:1,x2:9,y2:4})),Pl||(Pl=c.a.createElement("line",{x1:15,y1:1,x2:15,y2:4})),Ml||(Ml=c.a.createElement("line",{x1:9,y1:20,x2:9,y2:23})),Dl||(Dl=c.a.createElement("line",{x1:15,y1:20,x2:15,y2:23})),Fl||(Fl=c.a.createElement("line",{x1:20,y1:9,x2:23,y2:9})),Wl||(Wl=c.a.createElement("line",{x1:20,y1:14,x2:23,y2:14})),Gl||(Gl=c.a.createElement("line",{x1:1,y1:9,x2:4,y2:9})),Bl||(Bl=c.a.createElement("line",{x1:1,y1:14,x2:4,y2:14})))},Yl=c.a.forwardRef((function(e,t){return c.a.createElement(zl,Ul({svgRef:t},e))})),ql=(n.p,n(70),{identity:c.a.createElement(La,null),team:c.a.createElement(co,null),system:c.a.createElement(Yl,null)}),Jl=c.a.memo((function(e){var t=e.transactionId,n=e.isSender,a=e.singleWallet,r=Object(i.c)((function(e){return function(e,t){var n=t.id;return e.transactions.get(n)}(e,{id:t})})),o=Object(i.c)((function(e){return Wt(e,{id:r.fromWalletId})})),l=o.name,u=o.type,s=Object(i.c)((function(e){return Wt(e,{id:r.toWalletId})})),d=s.name,m=s.type,f=Object(i.c)(vt),p=Object(i.c)(ht),h=w({date:r.customTimeCreated||r.timeCreated,dayModification:f,yearModification:p}),v=n?m:u;return c.a.createElement(aa,{className:"TransactionItem ".concat(n?"sender":"")},c.a.createElement("div",{className:"other"},ql[v],c.a.createElement("p",{className:("identity"===v||"team"===v)&&"clickable",onClick:function(e){e.stopPropagation(),"identity"===v&&xe.dispatch(He({windows:[{id:"".concat(Ee.DIALOGPROFILE,"-").concat(r.toWalletId),value:{type:Ee.DIALOGPROFILE,identityId:r.toWalletId}}]}))}},c.a.createElement("span",null,n?d:l)),c.a.createElement("p",{className:"time"},c.a.createElement("span",null,h.halfDate),c.a.createElement("span",null,h.halfTime))),r.note&&c.a.createElement("div",{className:"note"},c.a.createElement("p",null,r.note)),!a&&c.a.createElement("div",{className:"current"},c.a.createElement("p",null,c.a.createElement(sr,null),c.a.createElement("span",null,":")),c.a.createElement("p",null,n?l:d)),c.a.createElement("div",{className:"amount"},c.a.createElement("p",{className:n?"negative":""},"".concat(n?"-":"+").concat(r.amount))))})),Kl=(n(71),c.a.memo((function(e){var t=e.walletIds,n=Object(i.c)((function(e){return Hl(e,{ids:t})})).map((function(e){var n=e.objectId,a=e.isSender;return c.a.createElement(Jl,{key:n,transactionId:n,isSender:a,singleWallet:1===t.length})}));return c.a.createElement(F,{observe:"upper",className:"TransactionList"},n)}))),Xl=function(e){return e.wallets},Zl=function(e,t){var n=t.id;return e.wallets.get(n)},Ql=at()([Xl],(function(e){return Object(le.a)(e.values()).map((function(e){return e.objectId}))}))((function(){return"wallet-ids"})),$l=at()([Xl,jt],(function(e,t){return Object(le.a)(e.values()).filter((function(e){return e.ownerId===t.objectId||t.aliases.includes(e.ownerAliasId)||t.partOfTeams.includes(e.objectId)})).map((function(e){return e.objectId}))}))((function(){return"wallet-ids-current-user"})),_l=function(e){var t=e.walletId,n=e.onChange,a=e.className,r=void 0===a?"":a,o=Object(i.c)((function(e){return Zl(e,{id:t})})),l=Object(i.c)((function(e){return Gt(e,{id:t})}));return c.a.createElement(aa,{className:"WalletItem ".concat(r),onClick:function(){return n(t)}},l?"".concat(l.teamName||l.aliasName||l.username,": ").concat(o?o.amount:"?"):"Show all")},ei=c.a.memo(_l);_l.defaultProps={className:""};var ti,ni=c.a.memo((function(e){var t=e.onChange,n=e.walletId,a=Object(i.c)($l);return c.a.createElement(F,{alwaysExpanded:!0,title:c.a.createElement("span",null,"Wallets"),className:"WalletList"},c.a.createElement(ei,{className:"showAll"===n?"selected":"",key:"showAll",onChange:t,walletId:"showAll"}),a.map((function(e){return c.a.createElement(ei,{key:e,walletId:e,onChange:t,className:n===e?"selected":""})})))}));function ai(){return(ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ri(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var oi=function(e){var t=e.svgRef,n=e.title,a=ri(e,["svgRef","title"]);return c.a.createElement("svg",ai({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-key",ref:t},a),n?c.a.createElement("title",null,n):null,ti||(ti=c.a.createElement("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"})))},ci=c.a.forwardRef((function(e,t){return c.a.createElement(oi,ai({svgRef:t},e))})),li=(n.p,c.a.memo((function(e){var t=e.onChange,n=e.walletId,a=Object(i.c)(Ql);return c.a.createElement(F,{alwaysExpanded:!0,title:c.a.createElement(c.a.Fragment,null,c.a.createElement(ci,null),c.a.createElement("span",null,"Wallets")),className:"WalletList"},a.map((function(e){return c.a.createElement(ei,{key:e,walletId:e,onChange:t,className:n===e?"selected":""})})))}))),ii=(n(72),c.a.memo((function(e){var t=e.walletId,n=Object(i.c)(Je),a=Object(i.c)((function(e){return Zl(e,{id:"showAll"!==t?t:n})})),r=a.amount<0;return c.a.createElement("div",{className:"Amount"},c.a.createElement("span",null,"Balance"),c.a.createElement("span",{className:r?"negative":""},r?"-":"",a.amount))}))),ui=(n(73),c.a.memo((function(e){var t=e.id,n=e.index,a=Object(o.useState)("showAll"),r=Object(s.a)(a,2),l=r[0],u=r[1],d=Object(i.c)($l),m=Object(i.c)((function(e){return Wt(e,{id:l})})).name,f=Object(i.c)(xt),p=Object(o.useCallback)((function(){xe.dispatch(He({windows:[{id:t,value:{type:Ee.WALLET}}]}))}),[]),h=Object(o.useCallback)((function(){return xe.dispatch(Ue({id:t}))}),[t]),v=Object(o.useCallback)((function(e){return u(e)}),[]);return c.a.createElement(hl,{id:t,className:"Wallet",index:n,done:h,title:c.a.createElement("span",null,"".concat(m?"".concat(m):"all")),onClick:p,menu:c.a.createElement(c.a.Fragment,null,c.a.createElement(Sl,{menuIcon:c.a.createElement(sr,null),id:t}),c.a.createElement(F,{dropdown:!0,checkWidth:!0,title:c.a.createElement(Il,null),wideTitle:"Wallets",className:"wallets"},c.a.createElement(aa,null,c.a.createElement(ni,{key:"walletList",onChange:v,walletId:l})),f>=W.MODERATOR&&c.a.createElement(aa,null,c.a.createElement(li,{key:"adminWalletList",onChange:v,walletId:l}))),c.a.createElement(nl,{key:"identityList"}))},c.a.createElement(Kl,{key:"transactionList",walletIds:"showAll"!==l?[l]:d}),c.a.createElement(ii,{walletId:l}))}))),si=(n(74),function(){var e=Object(o.useState)(),t=Object(s.a)(e,2),n=(t[0],t[1]),a=Object(o.useRef)();return Object(o.useEffect)((function(){!function e(){if("undefined"!==typeof window.google&&"undefined"!==typeof window.MarkerClusterer&&"undefined"!==typeof window.MapLabel){var t=new window.google.maps.Map(a.current,{disableDefaultUI:!0,fullscreenControl:!1,keyboardShortcuts:!1,mapTypeControl:!1,noClear:!0,zoomControl:!1,panControl:!1,overviewMapControl:!1,rotateControl:!1,scaleControl:!1,streetViewControl:!1,center:{lat:-34.397,lng:150.644},zoom:8,styles:[{elementType:"geometry",stylers:[{color:"#13002d"}]},{elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"administrative",stylers:[{color:"#370087"}]},{featureType:"landscape.natural.terrain",stylers:[{color:"#44003a"}]},{featureType:"road",stylers:[{color:"#6e6c6d"},{weight:.5}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{color:"#7d006c"}]}]});n(t)}else setTimeout(e,1e3)}()}),[]),c.a.createElement("div",{ref:a,className:"MapView"})}),di=function(e){return e.positions},mi=function(e){return Object(tt.createSelector)([di],(function(t){return Object(le.a)(t.values()).filter((function(t){var n=t.positionType;return e===n})).map((function(e){return{positionName:e.positionName,objectId:e.objectId}}))}))},fi=function(e){var t=e.title,n=e.positionType,a=Object(o.useMemo)(mi,[]),r=Object(i.c)((function(e){return a(e,n)}));return c.a.createElement("div",{key:"positionsList",className:"PositionsList"},c.a.createElement(F,{title:t},r.map((function(e){return c.a.createElement(aa,{key:e.objectId,onClick:function(){console.log(e.objectId)}},e.positionName)}))))},pi=c.a.memo(fi);fi.defaultProps={title:void 0};var hi,vi,gi=function(e){var t=e.positionTypes,n=void 0===t?[]:t;return c.a.createElement("div",{className:"lists Positions"},n.map((function(e){return c.a.createElement(pi,{title:e,positionType:e})})))},yi=(n(75),c.a.memo((function(e){var t=e.id,n=e.index,a=Object(o.useCallback)((function(){xe.dispatch(He({windows:[{id:t,value:{type:Ee.WORLDMAP}}]}))}),[]);return c.a.createElement(hl,{id:t,index:n,done:function(){return xe.dispatch(Ue({id:t}))},className:"WorldMap",title:c.a.createElement("span",null,"Map"),onClick:a,menu:c.a.createElement(c.a.Fragment,null,c.a.createElement(Sl,{menuIcon:c.a.createElement(tr,null),id:t}),c.a.createElement(gi,null))},c.a.createElement(si,null))}))),bi=function(e){return e.rooms},Ei=function(e,t){var n=t.id;return e.rooms.get(n)},Oi=at()([bi],(function(e){return Object(le.a)(e.values()).filter((function(e){return!e.isWhisper&&!e.isUser}))}))((function(){return"normalRooms"})),wi=at()([bi,function(e,t){return t.spyMode}],(function(e,t){return Object(le.a)(e.values()).filter((function(e){return e.isWhisper&&("boolean"!==typeof e.spyMode&&!t||t===e.spyMode)})).map((function(e){return{objectId:e.objectId,participantIds:e.participantIds,spyMode:t}}))}))((function(e,t){var n=t.spyMode;return"whisperRooms-spy-".concat(n)})),ji=at()([Oi,kt],(function(e,t){return e.filter((function(e){return!t.includes(e.objectId)})).map((function(e){return{roomName:e.roomName,objectId:e.objectId}})).sort((function(e,t){var n=e.roomName.toLowerCase(),a=t.roomName.toLowerCase();return n>a||a<n?1:0})).map((function(e){return e.objectId}))}))((function(){return"unfollowedRooms"})),Ii=at()([Oi,kt],(function(e,t){return e.filter((function(e){return t.includes(e.objectId)})).map((function(e){return e.objectId}))}))((function(){return"followedRooms"})),ki=at()([wi,function(e,t){return{identityId:t.identityId,currentIdentityId:t.currentIdentityId}},function(e,t){var n=t.identityId;return Ei(e,{id:n})}],(function(e,t,n){var a=t.currentIdentityId,r=t.identityId;return e.find((function(e){return e.participantIds.includes(a)&&e.participantIds.includes(r)}))||n}))((function(e,t){var n=t.currentIdentityId,a=t.identityId;return"whisper-".concat(n,"-").concat(a)})),xi=at()([Pt,Ht,function(e,t){return t.ids}],(function(e,t,n){var a=e.get(n[0]),r=e.get(n[1]),o=t.find((function(e){var t=e.objectId;return a.objectId===t||a.ownerId===t||a.userIds.includes(t)})),c=[];return a&&r?(o?c.push(a.username||a.aliasName,r.username||r.aliasName):c.push(r.username||r.aliasName,a.username||a.aliasName),c):""}))((function(e,t){var n=t.ids;return"w-name-".concat(n.join(" "))}));function Ci(){return(Ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ni(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Li,Si,Ri=function(e){var t=e.svgRef,n=e.title,a=Ni(e,["svgRef","title"]);return c.a.createElement("svg",Ci({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-lock",ref:t},a),n?c.a.createElement("title",null,n):null,hi||(hi=c.a.createElement("rect",{x:3,y:11,width:18,height:11,rx:2,ry:2})),vi||(vi=c.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})))},Ai=c.a.forwardRef((function(e,t){return c.a.createElement(Ri,Ci({svgRef:t},e))})),Ti=(n.p,n(76),c.a.memo((function(e){var t=e.roomId,n=Object(i.c)((function(e){return Ei(e,{id:t})})),a=Object(o.useCallback)((function(){xe.dispatch(He({windows:[{id:"".concat(Ee.DIALOGJOINROOM,"-").concat(t),value:{type:Ee.DIALOGJOINROOM,roomId:t}}]}))}),[t]);return c.a.createElement(aa,{className:"RoomItem",key:t,onClick:a},n.roomName,n.isLocked&&c.a.createElement("div",{className:"lock"},c.a.createElement(Ai,null)))}))),Pi=function(e){var t=e.onChange,n=e.alwaysExpanded,a=Object(i.c)(ji);return c.a.createElement(F,{alwaysExpanded:n,key:"roomList",className:"RoomList",title:"Rooms"},a.map((function(e){return c.a.createElement(Ti,{key:e,roomId:e,onChange:t})})))},Mi=c.a.memo(Pi);function Di(){return(Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Fi(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}Pi.defaultProps={alwaysExpanded:void 0};var Wi=function(e){var t=e.svgRef,n=e.title,a=Fi(e,["svgRef","title"]);return c.a.createElement("svg",Di({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye",ref:t},a),n?c.a.createElement("title",null,n):null,Li||(Li=c.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"})),Si||(Si=c.a.createElement("circle",{cx:12,cy:12,r:3})))},Gi=c.a.forwardRef((function(e,t){return c.a.createElement(Wi,Di({svgRef:t},e))})),Bi=(n.p,function(){var e=Object(U.a)(H.a.mark((function e(t){var n,a,r,o,c,l,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.text,a=t.roomId,r=t.image,o=Ei(xe.getState(),{id:a}),c=o.isWhisper?o.participantIds:[],l={roomId:a,ownerAliasId:qe(xe.getState())||void 0,text:n.split("\n")},o.isUser?(l.messageType=pe,c.push(Ke(xe.getState())),c.push(a)):o.isWhisper?l.messageType=pe:l.messageType=fe,e.next=7,Pn(gn,{message:l,image:r,participantIds:c});case 7:return i=e.sent,xe.dispatch(_e({messages:[i.message]})),e.abrupt("return",{message:i.message,switchRoom:!0});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Hi=function(){var e=Object(U.a)(H.a.mark((function e(t){var n,a,r,o,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,a=t.text,r=t.image,o={messageType:he,text:[n].concat(a.split("\n")),roomId:dt(xe.getState()),ownerAliasId:qe(xe.getState())||void 0},e.next=4,Pn(gn,{message:o,image:r});case 4:return c=e.sent,xe.dispatch(et(c)),e.abrupt("return",{message:c.message});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ui=function(){var e=Object(U.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.roomId,e.next=3,Pn(wn,{roomId:n});case 3:return a=e.sent,xe.dispatch(_e({messages:a.messages})),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vi=function(){var e=Object(U.a)(H.a.mark((function e(t){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.room,a=Object(ce.a)(Object(ce.a)({},n),{},{ownerAliasId:qe(xe.getState())||void 0}),e.next=4,Pn(yn,{room:a});case 4:return r=e.sent,e.next=7,xe.dispatch(_t({room:r.room,user:r.user}));case 7:return e.abrupt("return",{room:r.room});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zi=function(){var e=Object(U.a)(H.a.mark((function e(t){var n,a,r,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.roomId,a=t.password,r={roomId:n,password:a,aliasId:qe(xe.getState())||void 0},e.next=4,Pn(On,r);case 4:return o=e.sent,e.next=7,Ui({roomId:n});case 7:return e.next=9,xe.dispatch(_t({room:o.room,user:o.user}));case 9:return e.abrupt("return",{room:o.room,user:o.user});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yi=function(){var e=Object(U.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.roomId,e.next=3,Pn(jn,{roomId:n});case 3:return a=e.sent,e.next=6,xe.dispatch($t({rooms:[{objectId:n}]}));case 6:return e.abrupt("return",{room:a.room});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qi=(n(77),function(e){var t=e.room,n=e.onChange,a=e.className,r=e.singleUser,o=Object(i.c)((function(e){return xi(e,{ids:t.participantIds})}));return c.a.createElement(aa,{className:"WhisperItem ".concat(a||""),key:t.objectId,onClick:function(){var e=jt(xe.getState());if(!t.participantIds.some((function(t){return e.objectId===t||e.aliases.includes(t)}))){var a=G({toAuth:e,objectToAccess:t}),r=a.hasAccess,o=a.adminAccess;if(!r&&o)return void zi({roomId:t.objectId}).then((function(){n({roomId:t.objectId,spyMode:t.spyMode})})).catch((function(e){return console.log(e)}))}n({roomId:t.objectId,spyMode:t.spyMode})}},r?o[1]:"".concat(o[0]," > ").concat(o[1]),t.spyMode&&c.a.createElement("div",{className:"spy"},c.a.createElement(Gi,null)))}),Ji=c.a.memo(qi,(function(e,t){var n=e.room,a=t.room;return e.className===t.className&&(!!Object.keys(a).every((function(e){return n[e]&&a[e]}))&&!!a.participantIds.every((function(e){return n.participantIds.includes(e)})))}));qi.defaultProps={className:void 0};var Ki=function(e){var t=e.onChange,n=e.roomId,a=e.alwaysExpand,r=Object(i.c)(Ut),o=Object(i.c)((function(e){return wi(e,{spyMode:!1})})),l=o.map((function(e){return c.a.createElement(Ji,{singleUser:1===r.length,key:e.objectId,room:e,onChange:t,className:"".concat(e.objectId===n?"selected":"")})}));return c.a.createElement(F,{alwaysExpanded:a,key:"whisperList",className:"WhisperList ".concat(0===o.length?"hide":""),title:"Direct messages"},l)},Xi=c.a.memo(Ki);Ki.defaultProps={roomId:void 0,alwaysExpand:void 0};var Zi=function(e){var t=e.roomId,n=e.onChange,a=e.className,r=void 0===a?"":a,l=Object(i.c)((function(e){return Ei(e,{id:t})})),u=Object(o.useCallback)((function(){return n({roomId:t})}),[t]);return c.a.createElement(aa,{className:"FollowingItem ".concat(r),key:t,onClick:u},l.roomName)},Qi=c.a.memo(Zi);Zi.defaultProps={className:""};var $i=function(e){var t=e.onChange,n=e.roomId,a=e.alwaysExpanded,r=Object(i.c)(Ii).map((function(e){return c.a.createElement(Qi,{className:"".concat(e===n?"selected":""),key:e,roomId:e,onChange:t})}));return c.a.createElement(F,{alwaysExpanded:a,key:"followingList",className:"FollowingList",title:"Joined"},r)},_i=c.a.memo($i);$i.defaultProps={alwaysExpanded:void 0};var eu,tu,nu=function(e){var t=e.onChange,n=e.roomId,a=Object(i.c)((function(e){return wi(e,{spyMode:!0})})).map((function(e){return c.a.createElement(Ji,{key:e.objectId,room:e,onChange:t,className:"".concat(e.objectId===n?"selected":"")})}));return c.a.createElement(F,{dropdown:!0,checkWidth:!0,key:"whisperList",className:"WhisperList",title:c.a.createElement(c.a.Fragment,null,c.a.createElement(ci,null),c.a.createElement("span",null,"DM"))},a)},au=c.a.memo(nu);function ru(){return(ru=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ou(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}nu.defaultProps={roomId:void 0};var cu,lu,iu,uu=function(e){var t=e.svgRef,n=e.title,a=ou(e,["svgRef","title"]);return c.a.createElement("svg",ru({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-edit",ref:t},a),n?c.a.createElement("title",null,n):null,eu||(eu=c.a.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"})),tu||(tu=c.a.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})))},su=c.a.forwardRef((function(e,t){return c.a.createElement(uu,ru({svgRef:t},e))})),du=(n.p,n(78),c.a.memo((function(e){var t=e.onChange,n=e.roomId,a=Object(i.c)(xt);return c.a.createElement(c.a.Fragment,null,c.a.createElement(F,{dropdown:!0,checkWidth:!0,title:c.a.createElement(su,null),wideTitle:"Rooms",className:"rooms"},c.a.createElement(aa,null,c.a.createElement(_i,{alwaysExpanded:!0,roomId:n,key:"following",onChange:t})),c.a.createElement(aa,null,a>=W.STANDARD&&c.a.createElement(Xi,{alwaysExpand:!0,roomId:n,key:"whisper",onChange:t})),a>=W.STANDARD&&c.a.createElement(aa,null,c.a.createElement(Mi,{alwaysExpanded:!0,key:"room",onChange:t})),a>=W.MODERATOR&&c.a.createElement(aa,null,c.a.createElement(au,{roomId:n,key:"adminWhisper",onChange:t}))),c.a.createElement(nl,{onDone:t,key:"user"}))}))),mu=n(34),fu=n.n(mu);function pu(){return(pu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function hu(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var vu=function(e){var t=e.svgRef,n=e.title,a=hu(e,["svgRef","title"]);return c.a.createElement("svg",pu({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-image",ref:t},a),n?c.a.createElement("title",null,n):null,cu||(cu=c.a.createElement("rect",{x:3,y:3,width:18,height:18,rx:2,ry:2})),lu||(lu=c.a.createElement("circle",{cx:8.5,cy:8.5,r:1.5})),iu||(iu=c.a.createElement("polyline",{points:"21 15 16 10 5 21"})))},gu=c.a.forwardRef((function(e,t){return c.a.createElement(vu,pu({svgRef:t},e))})),yu=(n.p,n(79),n(80),function(e){var t=e.croppable,n=e.presetImage,a=e.label,r=e.useIcon,l=void 0!==r&&r,i=Object(o.useState)({aspect:1,width:100,unit:"%"}),u=Object(s.a)(i,2),d=u[0],m=u[1],f=Object(wc.c)(),p=f.register,h=f.setValue,v=Object(o.useRef)(null),y=Object(o.useRef)(null),b=Object(o.useState)(n),E=Object(s.a)(b,2),O=E[0],w=E[1],j=Object(wc.d)({name:"image"});Object(o.useEffect)((function(){p("image")}),[]),Object(o.useEffect)((function(){h("image",O||void 0)}),[O]),Object(o.useEffect)((function(){j?v.current&&v.current.scrollIntoView({behavior:"smooth",block:"nearest"}):w(void 0)}),[j]);return c.a.createElement("div",{className:"ImageUpload"},c.a.createElement("input",{key:"uploadInput",className:"hide",ref:y,type:"file",accept:"image/png, image/jpeg, image/pjpeg",onChange:function(e){var t=(e.target.files||[])[0];if(t){var n=new FileReader;n.addEventListener("load",(function(){if(n.result){var e={imageName:t.name,source:n.result};w(e)}})),n.readAsDataURL(t)}}}),t?c.a.createElement(fu.a,{crop:d,onChange:function(e){return m(e)},src:O?O.source:"",onComplete:function(e,t){var n=O;n.crop=t,w(n)}}):c.a.createElement(Fc,{ref:v,onRemove:function(){return w(void 0)},className:"previewImage ".concat(O?"":"hide"),image:O?O.source:"",altText:"Image preview"}),c.a.createElement(g,{type:"button",onClick:function(){y.current.click()}},c.a.createElement(gu,null),!l&&c.a.createElement("span",null,O?"Change image":a||"Upload image")))}),bu=c.a.memo(yu);yu.defaultProps={useIcon:!1,presetImage:void 0,label:void 0,croppable:void 0};n(81);var Eu,Ou,wu=function(e){var t=e.name,n=e.maxLength,a=e.onKeyDown,r=e.onChange,l=e.label,i=e.required,u=void 0!==i&&i,d=e.placeholder,m=void 0===d?"":d,f=Object(wc.c)(),p=f.register,h=f.control,v=Object(wc.d)({control:h,name:t}),g=Object(o.useState)(!1),y=Object(s.a)(g,2),b=y[0],E=y[1],O=Object(o.useState)(!1),w=Object(s.a)(O,2),j=w[0],I=w[1],k=Object(o.useRef)(null);Object(o.useEffect)((function(){!function(){if(k.current){var e=k.current;document.activeElement!==e||e.style.height&&e.scrollHeight.toString()===e.style.height.split("px")[0]||(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"),k.current.scrollIntoView({block:"nearest"}))}}()}),[v]);return c.a.createElement("div",{className:"Textarea"},l&&c.a.createElement("span",null,l),c.a.createElement("textarea",{onChange:r,onKeyDown:a,rows:1,maxLength:n,required:u,name:t,ref:function(e){k.current=e,p(e,{maxLength:n})},defaultValue:"",className:"Textarea ".concat(j?"empty":""),onFocus:function(){return E(!0)},onBlur:function(e){var t=e.target.value.trim();b&&u&&I(""!==t)},placeholder:m}))},ju=wu;function Iu(){return(Iu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ku(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}wu.defaultProps={placeholder:"",required:!1,maxLength:void 0,onKeyDown:void 0,onChange:void 0,label:void 0};var xu,Cu,Nu=function(e){var t=e.svgRef,n=e.title,a=ku(e,["svgRef","title"]);return c.a.createElement("svg",Iu({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-cloud-off",ref:t},a),n?c.a.createElement("title",null,n):null,Eu||(Eu=c.a.createElement("path",{d:"M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"})),Ou||(Ou=c.a.createElement("line",{x1:1,y1:1,x2:23,y2:23})))},Lu=c.a.forwardRef((function(e,t){return c.a.createElement(Nu,Iu({svgRef:t},e))}));n.p;function Su(){return(Su=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ru(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Au=function(e){var t=e.svgRef,n=e.title,a=Ru(e,["svgRef","title"]);return c.a.createElement("svg",Su({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-send",ref:t},a),n?c.a.createElement("title",null,n):null,xu||(xu=c.a.createElement("line",{x1:22,y1:2,x2:11,y2:13})),Cu||(Cu=c.a.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})))},Tu=c.a.forwardRef((function(e,t){return c.a.createElement(Au,Su({svgRef:t},e))})),Pu=(n.p,n(82),function(e){var t=e.roomId,n=e.onSend,a=(e.minAccessLevel,Object(o.useState)(!1)),r=Object(s.a)(a,2),l=r[0],u=r[1],d=Object(wc.b)(),m=Object(o.useRef)(null),f=Object(i.c)(ze),p=(Object(i.c)(xt),Object(i.c)(it));return c.a.createElement("div",{className:"InputArea"},c.a.createElement(wc.a,d,c.a.createElement("form",{onSubmit:d.handleSubmit((function(e){var a=e.text,r=e.image;u(!0),Bi({roomId:t,image:r,text:a}).then((function(e){var t=e.message,a=e.switchRoom;d.setValue("text",""),d.setValue("image",void 0),a&&n({roomId:t.roomId}),u(!1)})).catch((function(e){console.log("error",e),u(!1)}))}))},c.a.createElement("div",{className:"input"},p.CHAT&&c.a.createElement(bu,{useIcon:!0}),c.a.createElement(ju,{onChange:function(e){e.target.value.match(/.*\s@[a-z\S]+$/)&&console.log("match")},key:"input",name:"text",onKeyDown:function(e){var t=e.key;e.altKey&&"Enter"===t&&m.current&&(m.current.click(),e.preventDefault())},placeholder:f?"Alt+Enter to send":"Reconnecting..."}),c.a.createElement(g,{ref:m,disabled:!f||l,key:"send",type:"submit",className:"sendButton",onClick:function(){}},f?c.a.createElement(Tu,null):c.a.createElement(Lu,null))))))}),Mu=c.a.memo(Pu);Pu.defaultProps={minAccessLevel:W.STANDARD};var Du=function(e,t){var n=t.id;return e.messages.get(n)},Fu=function(e){return e.messages},Wu=at()([Fu,function(e,t){return t.roomId}],(function(e,t){return Object(le.a)(e.values()).filter((function(e){return e.roomId===t}))}))((function(e,t){return t.roomId})),Gu=at()([Fu],(function(e){return Object(le.a)(e.values()).filter((function(e){return e.messageType===he})).reverse()}))((function(){return"news"})),Bu=at()([Wu],(function(e){return e.map((function(e){return e.objectId}))}))((function(e,t){var n=t.roomId;return"id-".concat(n)})),Hu=at()([Gu],(function(e){return e.map((function(e){return{objectId:e.objectId,points:e.points}}))}))({keySelector:function(){return"news-ids"},selectorCreator:Object(tt.createSelectorCreator)(tt.defaultMemoize,(function(e,t){return e.length===t.length&&t.every((function(t,n){var a=e[n];return a&&a.objectId===t.objectId}))}))}),Uu=(n(83),c.a.memo((function(e){var t=e.identityId,n=e.timeCreated,a=Object(i.c)((function(e){return Wt(e,{id:t})})).name,r=Object(i.c)(vt),o=Object(i.c)(ht),l=w({date:n,dayModification:r,yearModification:o});return c.a.createElement("p",{className:"MessageInfo"},c.a.createElement("span",{className:"time"},l.halfTime),c.a.createElement("span",{role:"button",tabIndex:0,className:"clickable username",onClick:function(e){a&&xe.dispatch(He({windows:[{id:"".concat(Ee.DIALOGPROFILE,"-").concat(t),value:{identityId:t,type:Ee.DIALOGPROFILE}}]})),e.stopPropagation()}},a||"-"))}))),Vu=(n(84),function(e){var t=e.previousMessageId,n=e.messageId,a=e.isLatest,r=void 0!==a&&a,l=e.selected,u=void 0!==l&&l,s=Object(o.useRef)(),d=Object(i.c)((function(e){return Du(e,{id:t})})),m=Object(i.c)((function(e){return Du(e,{id:n})})),f=jt(xe.getState()),p=G({objectToAccess:m,toAuth:f}).hasFullAccess;return c.a.createElement(aa,{scrollTo:u||r,ref:s,className:"MessageItem ".concat(p?"clickable":""," ").concat(m.ownerId===f.objectId||f.aliases.includes(m.ownerAliasId)?"sender":""),key:n},!(!!d&&!(new Date(m.lastUpdated).getTime()-9e5>new Date(d.lastUpdated).getTime())&&(!(!d.ownerAliasId||!m.ownerAliasId||d.ownerAliasId!==m.ownerAliasId)||!d.ownerAliasId&&!m.ownerAliasId&&d.ownerId===m.ownerId))&&c.a.createElement(Uu,{key:"msgInfo",identityId:m.ownerAliasId||m.ownerId,timeCreated:m.customTimeCreated||m.timeCreated}),c.a.createElement("div",{className:"text"},m.text.map((function(e,t){return c.a.createElement("p",{key:t},e)})),m.image&&m.image.thumbFileName&&c.a.createElement(Fc,{scrollTo:!0,key:m.image.thumbFileName,image:"/upload/images/".concat(m.image.thumbFileName),altText:"pic",width:m.image.thumbWidth,height:m.image.thumbHeight,fullImage:"/upload/images/".concat(m.image.fileName),fullWidth:m.image.width,fullHeight:m.image.height})))}),zu=c.a.memo(Vu);Vu.defaultProps={previousMessageId:void 0,selected:!1,isLatest:!1};n(85);var Yu=function(e){var t=e.roomId,n=e.messageId,a=Object(i.c)((function(e){return Bu(e,{roomId:t})})),r=Object(o.useRef)("");a[a.length-1]!==r&&(r.current=a[a.length-1]);var l=a.map((function(e,t,a){return c.a.createElement(zu,{isLatest:e===r.current,selected:n&&n===e,key:e,previousMessageId:a[t-1],messageId:e})}));return c.a.createElement(F,{observe:"lower",key:"messageList",className:"MessageList"},l)},qu=c.a.memo(Yu);Yu.defaultProps={roomId:void 0,messageId:void 0};n(86);var Ju,Ku=function(e){var t=e.roomId,n=e.onSend,a=e.messageId,r=Object(i.c)(xt);return c.a.createElement("div",{className:"Messages"},c.a.createElement("div",{className:"spacer"}),c.a.createElement(qu,{key:"messagesList",roomId:t,messageId:a}),r>=W.STANDARD&&c.a.createElement(Mu,{onSend:n,roomId:t,key:"inputArea"}))},Xu=c.a.memo(Ku);function Zu(){return(Zu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Qu(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}Ku.defaultProps={roomId:void 0,messageId:void 0};var $u=function(e){var t=e.svgRef,n=e.title,a=Qu(e,["svgRef","title"]);return c.a.createElement("svg",Zu({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-tool",ref:t},a),n?c.a.createElement("title",null,n):null,Ju||(Ju=c.a.createElement("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})))},_u=c.a.forwardRef((function(e,t){return c.a.createElement($u,Zu({svgRef:t},e))})),es=(n.p,function(e){var t=e.id,n=e.roomId,a=Object(i.c)(jt),r=Object(i.c)((function(e){return Ei(e,{id:n})})),l=Object(o.useCallback)((function(){return xe.dispatch(He({windows:[{id:Ee.DIALOGCREATEROOM,value:{type:Ee.DIALOGCREATEROOM}}]}))}),[]),u=G({objectToAccess:r,toAuth:a}).hasFullAccess;return c.a.createElement(Sl,{menuIcon:c.a.createElement(Ka,null),key:"fileMenu",id:t},!a.isAnonymous&&c.a.createElement(c.a.Fragment,null,c.a.createElement(aa,{stopPropagation:!0,key:"createRoom",onClick:l},c.a.createElement(Ba,null),"New room"),c.a.createElement(aa,{stopPropagation:!0,key:"configRoom",onClick:function(){}},c.a.createElement(_u,null),"".concat(r.roomName," settings"))),r&&!r.isWhisper&&!r.isUser&&!r.isSystemRoom&&!r.isTeam&&c.a.createElement(aa,{key:"leaveRoom",onClick:function(){}},c.a.createElement(va,null),"Leave ".concat(r.roomName)),u&&r&&!r.isWhisper&&!r.isUser&&!r.isSystemRoom&&!r.isTeam&&c.a.createElement(aa,{stopPropagation:!0,key:"removeRoom",onClick:function(){return xe.dispatch(He({windows:[{id:Ee.DIALOGREMOVEROOM,value:{type:Ee.DIALOGREMOVEROOM,roomId:n}}]}))}},"Delete ".concat(r.roomName)))}),ts=(n(87),function(e){var t=e.id,n=e.index,a=e.roomId,r=e.messageId,l=Object(o.useState)(a||lt(xe.getState())),u=Object(s.a)(l,2),d=u[0],m=u[1],f=Object(i.c)((function(e){return Ei(e,{id:d})})),p=Object(i.c)(It);Object(o.useEffect)((function(){!p&&f||d===lt(xe.getState())||m(lt(xe.getState()))}),[f,p]),Object(o.useEffect)((function(){a&&d!==a&&m(a)}),[a]);var h=function(){if(!f)return"";if(f.isUser){var e=Dt(xe.getState(),{id:d});return"".concat(e.aliasName||e.username)}if(f.isWhisper){var t=Ut(xe.getState()),n=xi(xe.getState(),{ids:f.participantIds});return 1===t.length?n[1]:"".concat(n[0]>n[1])}return"".concat(f.roomName)}(),v=Object(o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.roomId;m(t)}),[]),g=Object(o.useCallback)((function(){xe.dispatch(He({windows:[{id:t,value:{type:Ee.CHAT}}]}))}),[]),y=Object(o.useCallback)((function(){return xe.dispatch(Ue({id:t}))}),[t]);return c.a.createElement(hl,{id:t,index:n,done:y,className:"Chat",title:c.a.createElement("span",null,h),onClick:g,menu:c.a.createElement(c.a.Fragment,null,c.a.createElement(es,{roomId:d,id:t}),c.a.createElement(du,{roomId:d,key:"rooms",onChange:v})),help:c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("p",null,c.a.createElement(Ka,null),c.a.createElement("span",null,"CHAT APP Read and send messages, to users or rooms.")),c.a.createElement("p",null,"You can only read the Public chat without logging in."),c.a.createElement("p",null,"Menus are on the left (or top in smaller windows). Messages from the current room are to the right (or below)."),c.a.createElement("p",null,"Your current room is shown in the title (CHAT: public) and in JOINED.")),c.a.createElement("li",null,c.a.createElement("p",null,"SEND The message input is shown on the bottom when you are logged in. You can send the message with either alt+Enter or clicking Send."),c.a.createElement("p",null,c.a.createElement(gu,null),c.a.createElement("span",null,"IMAGE Attach an image. You can send a message with just an image.")),c.a.createElement("p",null,c.a.createElement(La,null),c.a.createElement("span",null,"YOU Your name. Click it to switch identities."))),c.a.createElement("li",null,c.a.createElement("p",null,"FILE You can create a room, change settings (like changing password or name) or remove the room you are in."),c.a.createElement("p",null,"JOINED Shows you the rooms you joined. Click one to switch to it."),c.a.createElement("p",null,"PM All private conversations are shown here. It always shows your name on the left."),c.a.createElement("p",null,c.a.createElement("span",null,"ROOMS All available rooms that you haven't joined yet."),c.a.createElement(Ai,null),c.a.createElement("span",null," means that the room is password-protected.")),c.a.createElement("p",null,c.a.createElement("span",null,"USERS All users. Send a private message to a user by clicking them and choosing "),c.a.createElement(Ka,null),c.a.createElement("span",null," in the pop-up."))),c.a.createElement("li",null,c.a.createElement(wa,null),c.a.createElement("span",null,"APP SETTINGS Change settings for this app. You have to be logged in to access it.")),c.a.createElement("li",null,c.a.createElement(Sc,null),c.a.createElement("span",null,"MAXIMIZE Make the window expand and take up all available space. Clicking it again will shrink the window.")),c.a.createElement("li",null,c.a.createElement(sl,null),c.a.createElement("span",null,"CLOSE Close the window")))},c.a.createElement(Xu,{key:"messages",messageId:r,roomId:d,onSend:v}))}),ns=c.a.memo(ts);ts.defaultProps={roomId:void 0,messageId:void 0};n(88);var as=function(e){var t=e.children,n=e.title,a=e.error,r=e.text,o=e.done,l=e.onClick,i=e.index,u=e.id,s=e.buttons,d=e.className,m=void 0===d?"":d;return c.a.createElement(hl,{id:u,index:i,type:"dialog",done:o,title:n,className:"Dialog ".concat(m),onClick:l},a&&c.a.createElement("div",{className:"error"},c.a.createElement("span",null,a.message)),r&&c.a.createElement("div",null,r),c.a.createElement("div",{className:"contentContainer"},t),s.length>0&&c.a.createElement("div",{className:"buttons"},c.a.createElement(g,{stopPropagation:!0,type:"button",onClick:function(){return xe.dispatch(Ue({id:u}))}},"Cancel"),s))},rs=c.a.memo(as);as.defaultProps={children:void 0,error:void 0,title:void 0,text:void 0,className:"",buttons:void 0};var os=c.a.memo((function(e){var t=e.id,n=e.index,a=Object(wc.b)(),r=function(e){var n=e.roomName,a=e.password,r=e.topic;Vi({room:{roomName:n,password:a,topic:r}}).then((function(e){var n=e.room;Object(i.b)((function(){xe.dispatch(He({windows:[{id:Ee.CHAT,value:{type:Ee.CHAT,roomId:n.objectId}}]})),xe.dispatch(Ue({id:t}))}))})).catch((function(e){return console.log(e)}))};return a.errors.repeatPassword&&a.setValue("repeatPassword",""),c.a.createElement(rs,{id:t,index:n,className:"CreateRoomDialog",onClick:function(){xe.dispatch(He({windows:[{id:t,value:{type:Ee.DIALOGCREATEROOM}}]}))},done:function(){return xe.dispatch(Ue({id:t}))},title:"New room",buttons:[c.a.createElement(g,{type:"submit",onClick:function(){return a.handleSubmit(r)()}},"Create")]},c.a.createElement(wc.a,a,c.a.createElement("form",{onSubmit:a.handleSubmit(r)},c.a.createElement("div",{className:"identity"},c.a.createElement("span",null,"You are: "),c.a.createElement(vc,null)),c.a.createElement(Kc,{required:!0,label:"Name of the room",maxLength:20,name:"roomName",placeholder:"Name"}),c.a.createElement(Kc,{label:"Topic (shown when joining the room)",maxLength:300,name:"topic",placeholder:"Topic"}),c.a.createElement(Kc,{label:"Optional password",minLength:4,maxLength:100,name:"password",type:"password",placeholder:"Password"}),c.a.createElement(Kc,{label:"Repeat password",minLength:4,maxLength:100,shouldEqual:"password",name:"repeatPassword",type:"password",placeholder:"".concat(a.errors.repeatPassword?"Error. Passwords must match!":"Repeat password")}))))})),cs=c.a.memo((function(e){var t=e.id,n=e.roomId,a=e.index,r=Object(o.useState)(),l=Object(s.a)(r,2),u=l[0],d=l[1],m=Object(i.c)((function(e){return Ei(e,{id:n})}));return c.a.createElement(rs,{id:t,index:a,className:"RemoveRoomDialog",error:u,onClick:function(){xe.dispatch(He({windows:[{id:t,value:{type:Ee.DIALOGREMOVEROOM,roomId:n}}]}))},done:function(){return xe.dispatch(Ue({id:t}))},title:"Delete room ".concat(m?m.roomName:""),text:"Are you sure you want to delete ".concat(m?m.roomName:"","?"),buttons:[c.a.createElement(g,{type:"submit",onClick:function(){Yi({roomId:n}).then((function(){Object(i.b)((function(){xe.dispatch(He({windows:[{id:Ee.CHAT,value:{type:Ee.CHAT}}]})),xe.dispatch(Ue({id:t}))}))})).catch((function(e){return d(e)}))}},"Yes")]})})),ls=c.a.memo((function(e){var t=e.id,n=e.index,a=Object(wc.b)(),r=Object(o.useState)(),l=Object(s.a)(r,2),i=l[0],u=l[1],d=function(){var e=Object(U.a)(H.a.mark((function e(n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.username,r=n.password,ea(a,r).then((function(){xe.dispatch(Ue({id:t}))})).catch((function(e){u(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=Object(o.useCallback)((function(){xe.dispatch(He({windows:[{id:t,value:{type:Ee.DIALOGLOGIN}}]}))}),[t]),f=Object(o.useCallback)((function(){return a.handleSubmit(d)()}),[]),p=Object(o.useCallback)((function(){return xe.dispatch(Ue({id:t}))}),[t]);return c.a.createElement(rs,{id:t,index:n,className:"LoginDialog",onClick:m,done:p,error:i,title:"Login",buttons:[c.a.createElement(g,{key:"submit",type:"submit",onClick:f},"Login")]},c.a.createElement(wc.a,a,c.a.createElement("form",{onSubmit:a.handleSubmit(d)},c.a.createElement(Kc,{label:"Username",name:"username",placeholder:"Username"}),c.a.createElement(Kc,{label:"Password",name:"password",placeholder:"Password",type:"password"}))))})),is=(n(89),function(e){var t=e.onChange,n=e.children,a=e.name,r=e.defaultValue,l=e.label,i=e.required,u=void 0!==i&&i,d=e.placeholder,m=void 0===d?"":d,f=e.multiple,p=void 0!==f&&f,h=Object(wc.c)(),v=h.register,g=h.unregister,y=Object(o.useState)(!1),b=Object(s.a)(y,2),E=b[0],O=b[1],w=Object(o.useState)(!1),j=Object(s.a)(w,2),I=j[0],k=j[1],x=function(e){var t=Array.from(e.target.selectedOptions).filter((function(e){return""!==e.value}));E&&u&&k(0===t.length)};return Object(o.useEffect)((function(){return function(){return g(a)}}),[]),c.a.createElement("div",null,l&&c.a.createElement("span",null,l),c.a.createElement("select",{defaultValue:r,required:u,name:a,ref:v,className:"Select ".concat(I?"empty":""),onFocus:function(){return O(!0)},onBlur:x,onChange:function(e){x(e),t&&t(Array.from(e.target.selectedOptions).map((function(e){return e.value})).filter((function(e){return""!==e})))},placeholder:m,multiple:p},n))}),us=is;is.defaultProps={multiple:!1,children:void 0,placeholder:"",required:!1,onChange:void 0,defaultValue:void 0,label:void 0};var ss={they:"They/Them",she:"She/Her",he:"He/Him",it:"It"},ds=function(e){var t=e.preselected;return c.a.createElement("div",null,c.a.createElement("span",null,"Pronouns"),c.a.createElement(us,{multiple:!0,required:!0,defaultValue:t,name:"pronouns"},c.a.createElement("option",{value:"they"},"They/Them"),c.a.createElement("option",{value:"she"},"She/Her"),c.a.createElement("option",{value:"he"},"He/Him"),c.a.createElement("option",{value:"it"},"It")))},ms=ds;ds.defaultProps={preselected:void 0};var fs=c.a.memo((function(e){var t=e.id,n=e.index,a=Object(wc.b)(),r=Object(o.useState)(),l=Object(s.a)(r,2),u=l[0],d=l[1],m=Object(i.c)(ct),f=function(){var e=Object(U.a)(H.a.mark((function e(n){var a,r,o,c,l,i,u,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.offName,r=n.username,o=n.password,c=n.repeatPassword,l=n.pronouns,i=n.description,u=n.image,(!m||a)&&r&&o&&c&&l){e.next=3;break}return e.abrupt("return");case 3:if(o===c){e.next=5;break}return e.abrupt("return");case 5:return s={image:u,user:{offName:a,username:r,password:o,pronouns:l,description:i?i.split("\n"):void 0}},e.prev=6,e.next=9,Dn(s);case 9:return e.next=11,ea(r,o);case 11:xe.dispatch(Ue({id:t})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),d(e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),p=Object(o.useCallback)((function(){xe.dispatch(He({windows:[{id:t,value:{type:Ee.DIALOGREGISTER}}]}))}),[t]),h=Object(o.useCallback)((function(){return xe.dispatch(Ue({id:t}))}),[t]),v=Object(o.useCallback)((function(){return a.handleSubmit(f)()}),[]);return c.a.createElement(rs,{id:t,index:n,error:u,onClick:p,done:h,title:"Register user",buttons:[c.a.createElement(g,{key:"submit",type:"submit",onClick:v},"Register")]},c.a.createElement(wc.a,a,c.a.createElement("form",{onSubmit:a.handleSubmit(f)},m&&c.a.createElement(Kc,{required:!0,label:"Out-of-game name (willy only be visible to organisers)",key:"offName",maxLength:100,name:"offName",placeholder:"Out-of-game name"}),c.a.createElement(Kc,{required:!0,label:"Username/Name",key:"username",maxLength:30,name:"username",placeholder:"Username"}),c.a.createElement(ms,{key:"pronouns"}),c.a.createElement(Kc,{required:!0,label:"Password",key:"password",minLength:4,maxLength:100,name:"password",placeholder:"Password",type:"password"}),c.a.createElement(Kc,{required:!0,label:"Repeat password",key:"repeatPassword",minLength:4,maxLength:100,shouldEqual:"password",name:"repeatPassword",placeholder:"Repeat password",type:"password"}),c.a.createElement(ju,{label:"Description. Who are you?",key:"description",maxLength:300,name:"description",placeholder:"Description"}),c.a.createElement(bu,{key:"imageUpload",label:"Upload profile image"}))))})),ps=function(){var e=Object(U.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pn(hn,t);case 2:return n=e.sent,e.next=5,xe.dispatch(cn(n));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hs=function(){var e=Object(U.a)(H.a.mark((function e(t){var n,a,r,o,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.aliasId,a=t.alias,r=t.image,o=t.resetImage,e.next=3,Pn(xn,{aliasId:n,alias:a,image:r,options:{resetImage:o}});case 3:return c=e.sent,console.log(c),e.next=7,xe.dispatch(rn({aliases:[c.alias]}));case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vs=c.a.memo((function(e){var t=e.id,n=e.index,a=Object(wc.b)(),r=Object(o.useState)(),l=Object(s.a)(r,2),i=l[0],u=(l[1],function(){var e=Object(U.a)(H.a.mark((function e(n){var a,r,o,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.aliasName,r=n.pronouns,o=n.description,c={image:i,alias:{aliasName:a,pronouns:r,description:o?o.split("\n"):void 0}},ps(c).then((function(){return xe.dispatch(Ue({id:t}))})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=Object(o.useCallback)((function(){xe.dispatch(He({windows:[{id:t,value:{type:Ee.DIALOGCREATEALIAS}}]}))}),[t]),m=Object(o.useCallback)((function(){return xe.dispatch(Ue({id:t}))}),[t]),f=Object(o.useCallback)((function(){return a.handleSubmit(u)()}),[]);return c.a.createElement(rs,{id:t,index:n,title:"New alias",onClick:d,done:m,buttons:[c.a.createElement(g,{stopPropagation:!0,key:"submit",type:"submit",onClick:f},"Create")]},c.a.createElement(wc.a,a,c.a.createElement("form",{onSubmit:a.handleSubmit(u)},c.a.createElement(Kc,{required:!0,label:"Alias name",maxLength:30,name:"aliasName",placeholder:"Alias name"}),c.a.createElement(ms,null),c.a.createElement(bu,{label:"Upload profile image"}),c.a.createElement(ju,{label:"Description",maxLength:300,name:"description",placeholder:"Description"}))))})),gs=function(){var e=Object(U.a)(H.a.mark((function e(t){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.transaction,a=Object(ce.a)(Object(ce.a)({},n),{},{ownerAliasId:qe(xe.getState())||void 0}),e.next=4,Pn(En,{transaction:a});case 4:return r=e.sent,e.next=7,xe.dispatch($e(r));case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ys=function(e){var t=e.id,n=e.toWalletId,a=e.amount,r=e.index,l=Object(wc.b)(),u=Object(i.c)(Ke),s=Object(i.c)($l),d=Object(i.c)((function(e){return Mt(e,{ids:s})})),m=Object(i.c)((function(e){return Wt(e,{id:n})})),f=[],p=function(){var e=Object(U.a)(H.a.mark((function e(a){var r,o,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.note,o=a.fromWalletId,c=a.amount,gs({transaction:{note:r,fromWalletId:o,toWalletId:n,amount:c}}).then((function(){return xe.dispatch(Ue({id:t}))})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();d.forEach((function(e){f.push(c.a.createElement("option",{key:e.objectId,value:e.objectId},e.teamName||e.aliasName||e.username))}));var h=Object(o.useCallback)((function(){xe.dispatch(He({windows:[{id:t,value:{type:Ee.DIALOGCREATETRANSACTION,toWalletId:n}}]}))}),[t,n]),v=Object(o.useCallback)((function(){return xe.dispatch(Ue({id:t}))}),[t]),y=Object(o.useCallback)((function(){return l.handleSubmit(p)()}),[]);return c.a.createElement(rs,{id:t,index:r,title:"Transfer to ".concat(m),onClick:h,done:v,buttons:[c.a.createElement(g,{stopPropagation:!0,key:"submit",type:"submit",onClick:y},"Transfer")]},c.a.createElement(wc.a,l,c.a.createElement("form",{onSubmit:l.handleSubmit(p)},c.a.createElement("p",null,"You are making a transfer to ".concat(m)),f.length>1&&c.a.createElement(us,{required:!0,label:"From your wallet",defaultValue:u,name:"fromWalletId"},c.a.createElement(c.a.Fragment,null,f)),c.a.createElement(Kc,{required:!0,label:"Amount",defaultValue:a,name:"amount",placeholder:"Amount"}),c.a.createElement(Kc,{label:"Note",maxLength:50,name:"note",placeholder:"Note"}))))},bs=c.a.memo(ys);ys.defaultProps={amount:void 0};var Es,Os=function(){var e=Object(U.a)(H.a.mark((function e(t){var n,a,r,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docFile,a=t.images,r=Object(ce.a)(Object(ce.a)({},n),{},{code:""!==n.code?n.code:void 0,ownerAliasId:qe(xe.getState())||void 0,text:n.text.split("\n")}),e.next=4,Pn(bn,{docFile:r,images:a});case 4:return o=e.sent,e.next=7,xe.dispatch(mn({docFiles:[o.docFile]}));case 7:return e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ws=function(){var e=Object(U.a)(H.a.mark((function e(t){var n,a,r,o,c,l,i,u,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.docFileId,a=t.code,r={docFileId:n,code:a,aliasId:qe(xe.getState())||void 0},o=jt(xe.getState()),c=Wn(xe.getState(),{id:n}),!o.isAnonymous||!c.isPublic){e.next=6;break}return e.abrupt("return",{docFile:c});case 6:if(l=G({toAuth:o,objectToAccess:Object(ce.a)(Object(ce.a)({},c),{},{isPublic:!1})}),i=l.hasAccess,u=l.adminAccess,!i||u){e.next=9;break}return e.abrupt("return",{docFile:c});case 9:return e.next=11,Pn(In,r);case 11:return s=e.sent,e.next=14,xe.dispatch(dn({docFiles:[s.docFile]}));case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),js=(n(90),c.a.memo((function(e){var t,n=e.docFileId,a=Object(i.c)((function(e){return Wn(e,{id:n})})),r=Object(i.c)(xt),o=Object(i.c)((function(e){return Ft(e,{id:a.ownerAliasId||a.ownerId})})),l=Object(i.c)((function(e){return Wt(e,{id:a.ownerAliasId||a.ownerId})})).name;return t=a.isLocked?c.a.createElement(Ai,null):a.images&&a.images[0]?c.a.createElement(Fc,{image:"/upload/images/".concat(a.images[0].thumbFileName)}):c.a.createElement(gr,null),c.a.createElement(aa,{stopPropagation:!0,elementId:"docFile-".concat(n),className:"DocFileItem",key:a.objectId,onClick:function(){a.isLocked&&r<W.ADMIN?xe.dispatch(He({windows:[{id:"".concat(Ee.DIALOGUNLOCKFILE,"-").concat(n),value:{docFileId:n,type:Ee.DIALOGUNLOCKFILE}}]})):ws({docFileId:n}).then((function(){return xe.dispatch(He({windows:[{id:"".concat(Ee.DOCFILEVIEW,"-").concat(n),value:{docFileId:n,type:Ee.DOCFILEVIEW}}]}))})).catch((function(e){return console.log(e)}))}},c.a.createElement("div",{className:"icon"},t),c.a.createElement("span",{className:"title"},a.title),c.a.createElement("span",{className:"by icon"},o?c.a.createElement(Fc,{image:"/upload/images/".concat(o.thumbFileName)}):"".concat(l.slice(0,4))))})));function Is(){return(Is=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ks(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var xs,Cs,Ns=function(e){var t=e.svgRef,n=e.title,a=ks(e,["svgRef","title"]);return c.a.createElement("svg",Is({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-down",ref:t},a),n?c.a.createElement("title",null,n):null,Es||(Es=c.a.createElement("polyline",{points:"6 9 12 15 18 9"})))},Ls=c.a.forwardRef((function(e,t){return c.a.createElement(Ns,Is({svgRef:t},e))})),Ss=(n.p,n(91),"title"),Rs="creator",As="type",Ts=c.a.memo((function(){var e=Object(o.useRef)(),t=Object(wc.b)(),n=Object(wc.d)({control:t.control,name:"search"}),a=Object(i.c)(Gn),r=Object(o.useState)(Ss),l=Object(s.a)(r,2),u=l[0],d=l[1],m=function(){var e=a.sort((function(e,t){var n,a;return u===Ss?(n=e.title.toLowerCase(),a=t.title.toLowerCase()):u===Rs?(n=Wt(xe.getState(),{id:e.ownerAliasId||e.ownerId}).name,a=Wt(xe.getState(),{id:t.ownerAliasId||t.ownerId}).name):u===As&&(n=e.isLocked?1:0,a=t.isLocked?1:0),n>a?1:n<a?-1:0}));return n&&n.length>0&&(e=e.filter((function(e){var t=Wt(xe.getState(),{id:e.ownerAliasId||e.ownerId}).name,a=n.toLowerCase();return e.title.toLowerCase().includes(a)||(e.tags||[]).includes(a)||t.toLowerCase().includes(a)}))),e.map((function(e){var t=e.objectId;return c.a.createElement(js,{key:t,docFileId:t})}))}();return c.a.createElement(F,{alwaysExpanded:!0,className:"DocFileList",ref:e},c.a.createElement(el,{onSubmit:function(){if(0===m.length)t.reset();else if(1===m.length){var n=e.current.querySelector("#docFile-".concat(m[0].key));n&&(n.click(),t.reset())}},formMethods:t,placeholder:"Search by tile/tags/author"}),c.a.createElement(aa,{className:"DocFileItem header"},c.a.createElement("div",{className:"icon clickable",onClick:function(){return d(As)}},"#",u===As&&c.a.createElement(Ls,null)),c.a.createElement("span",{className:"title clickable",onClick:function(){return d(Ss)}},"Title",u===Ss&&c.a.createElement(Ls,null)),c.a.createElement("span",{className:"by icon clickable",onClick:function(){return d(Rs)}},"By",u===Rs&&c.a.createElement(Ls,null))),m)})),Ps=(n(26),function(e){var t=e.id,n=Object(i.c)(jt),a=Object(o.useCallback)((function(){return xe.dispatch(He({windows:[{id:Ee.DIALOGCREATEDOCFILE,value:{type:Ee.DIALOGCREATEDOCFILE}}]}))}));return c.a.createElement(Sl,{menuIcon:c.a.createElement(Ir,null),key:"fileMenu",id:t},!n.isAnonymous&&c.a.createElement(aa,{stopPropagation:!0,onClick:a,key:"createDocFile"},c.a.createElement(Ba,null),c.a.createElement("span",null,"New document")))}),Ms=c.a.memo((function(e){var t=e.id,n=e.index,a=Object(o.useCallback)((function(){xe.dispatch(He({windows:[{id:t,value:{type:Ee.DOCFILEDIR}}]}))}),[]),r=Object(o.useCallback)((function(){return xe.dispatch(Ue({id:t}))}),[t]);return c.a.createElement(hl,{id:t,index:n,done:r,className:"DocFileDir",title:c.a.createElement("span",null,"Directory"),onClick:a,menu:c.a.createElement(Ps,{id:t})},c.a.createElement(Ts,null))})),Ds=(n(92),c.a.memo((function(e){var t=e.id,n=e.index,a=Object(wc.b)(),r=function(){var e=Object(U.a)(H.a.mark((function e(n){var a,r,o,c,l;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.title,r=n.text,o=n.code,c=n.isPublic,l=n.image,Os({images:l?[l]:void 0,docFile:{title:a,text:r,code:o,isPublic:c}}).then((function(){return xe.dispatch(Ue({id:t}))})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(rs,{id:t,index:n,className:"CreateDocFileDialog",title:"New document",onClick:function(){xe.dispatch(He({windows:[{id:t,value:{type:Ee.DIALOGCREATEDOCFILE}}]}))},done:function(){return xe.dispatch(Ue({id:t}))},buttons:[c.a.createElement(g,{stopPropagation:!0,key:"submit",type:"submit",onClick:function(){return a.handleSubmit(r)()}},"Create")]},c.a.createElement(wc.a,a,c.a.createElement("form",{onSubmit:a.handleSubmit(r)},c.a.createElement(vc,{label:c.a.createElement("span",null,"You are:")}),c.a.createElement(Kc,{label:"Do you want it to be available to the public? (A user with the right code can always access the document)",type:"checkbox",name:"isPublic"}),c.a.createElement(Kc,{required:!0,label:"Title",maxLength:40,name:"title",placeholder:"Title"}),c.a.createElement(Kc,{label:"Code",minLength:3,maxLength:10,name:"code",placeholder:"Code"}),c.a.createElement(ju,{required:!0,maxLength:3500,name:"text",placeholder:"Text"}),c.a.createElement(bu,null))))})));function Fs(){return(Fs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ws(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Gs,Bs=function(e){var t=e.svgRef,n=e.title,a=Ws(e,["svgRef","title"]);return c.a.createElement("svg",Fs({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-right",ref:t},a),n?c.a.createElement("title",null,n):null,xs||(xs=c.a.createElement("line",{x1:5,y1:12,x2:19,y2:12})),Cs||(Cs=c.a.createElement("polyline",{points:"12 5 19 12 12 19"})))},Hs=c.a.forwardRef((function(e,t){return c.a.createElement(Bs,Fs({svgRef:t},e))})),Us=(n.p,n(93),c.a.memo((function(e){var t=e.messageId,n=Object(i.c)((function(e){return Du(e,{id:t})}));return c.a.createElement(aa,{className:"DashNewsItem",key:n.objectId,onClick:function(){return xe.dispatch(He({windows:[{id:Ee.NEWS,value:{type:Ee.NEWS,messageId:n.objectId}}]}))}},c.a.createElement("p",null,n.text[0],c.a.createElement(Hs,null)))}))),Vs=(n(94),c.a.memo((function(){var e=Object(i.c)(xt),t=Object(i.c)(Ke),n=Object(i.c)(It),a=Object(i.c)((function(e){return Wt(e,{id:t})})).name,r=Object(i.c)((function(e){return Zl(e,{id:t})})),o=Object(i.c)(Hu),l=Object(i.c)(fc),u=Object(i.c)(vt),s=Object(i.c)(ht),d=w({date:new Date,dayModification:u,yearModification:s}),m=function(){return o&&0!==o.length?o.sort((function(e,t){var n=e.points,a=t.points;return n>a?-1:n<a?1:0})).slice(0,5).map((function(e){return c.a.createElement(Us,{key:e.objectId,messageId:e.objectId})})):[c.a.createElement(aa,{key:"noNews"},"There are no news.")]};return c.a.createElement("div",{className:"Dashboard"},l&&c.a.createElement("div",{className:"nav"},c.a.createElement(Ha,null),c.a.createElement(Lo,null),window.ReactNativeWebView&&c.a.createElement(g,{type:"button",onClick:function(){return Jn({type:Yn,data:{}})}},c.a.createElement(mc,null)),e>=W.STANDARD&&c.a.createElement(vc,{hideOnSingle:!1}),c.a.createElement(I,null)),n&&c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Welcome!"),c.a.createElement("p",null,d.fullDate),c.a.createElement(F,{alwaysExpanded:!0,title:"Top News",className:"news"},m())),!n&&c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Welcome, ".concat(a,"!")),c.a.createElement("p",null,"Today's date is ".concat(d.fullDate)),r&&c.a.createElement("p",null,"You have ".concat(r.amount," in your wallet.")),c.a.createElement(F,{alwaysExpanded:!0,title:"News",className:"news"},m())))})));function zs(){return(zs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ys(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var qs=function(e){var t=e.svgRef,n=e.title,a=Ys(e,["svgRef","title"]);return c.a.createElement("svg",zs({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-up",ref:t},a),n?c.a.createElement("title",null,n):null,Gs||(Gs=c.a.createElement("polyline",{points:"18 15 12 9 6 15"})))},Js=c.a.forwardRef((function(e,t){return c.a.createElement(qs,zs({svgRef:t},e))})),Ks=(n.p,n(95),function(e){var t=e.messageId,n=e.expand,a=void 0!==n&&n,r=e.className,l=void 0===r?"":r,u=Object(o.useRef)(),d=Object(o.useState)(!1),m=Object(s.a)(d,2),f=m[0],p=m[1],h=Object(i.c)((function(e){return Du(e,{id:t})})),v=Object(i.c)((function(e){return Wt(e,{id:h.ownerAliasId||h.ownerId})})).name,g=Object(i.c)(vt),y=Object(i.c)(ht),b=w({date:h.customTimeCreated||h.timeCreated,dayModification:g,yearModification:y});return Object(o.useEffect)((function(){p(a)}),[a]),c.a.createElement(aa,{scrollTo:f,ref:u,elementId:"news-".concat(t),onClick:function(){return p(!f)},className:"NewsItem ".concat(f?"expanded":""," ").concat(l)},c.a.createElement("div",{className:"title"},c.a.createElement("p",null,h.text[0]),c.a.createElement("p",{className:"info"},c.a.createElement("span",null,"".concat(b.halfDate," "),b.halfTime),c.a.createElement("span",null," By: ".concat(v)),!f&&c.a.createElement(Ls,null),f&&c.a.createElement(Js,null))),f&&c.a.createElement("div",{className:"newsContent"},h.image&&h.image.thumbFileName&&c.a.createElement(Fc,{image:"/upload/images/".concat(h.image.thumbFileName),fullImage:"/upload/images/".concat(h.image.fileName),altText:"pic",width:h.image.thumbWidth,height:h.image.thumbHeight,fullWidth:h.image.width,fullHeight:h.image.height}),c.a.createElement("div",{className:"text"},h.text.slice(1).map((function(e,t){return c.a.createElement("p",{key:t},e)})))))}),Xs=c.a.memo(Ks);Ks.defaultProps={className:"",expand:!1};n(96);var Zs=function(e){var t=e.messageId,n=Object(o.useRef)(null),a=Object(i.c)(Hu);return c.a.createElement(F,{observe:"upper",ref:n,className:"NewsList"},0===a.length&&[c.a.createElement(aa,{key:"noNews"},c.a.createElement("p",null,"There are no news"))],Object(le.a)(a).filter((function(e){return e.points&&e.points>0})).sort((function(e,t){var n=e.points,a=t.points;return n>a?-1:n<a?1:0})).slice(0,3).map((function(e){return c.a.createElement(Xs,{key:"top-".concat(e.objectId),messageId:e.objectId,className:"topNews"})})).concat(Object(le.a)(a).map((function(e){return c.a.createElement(Xs,{expand:e.objectId===t,key:e.objectId,messageId:e.objectId})}))))},Qs=c.a.memo(Zs);Zs.defaultProps={messageId:void 0};n(97);var $s=function(e){var t=e.id,n=e.messageId,a=e.index,r=Object(i.c)((function(e){return Ei(e,{id:dt(e)})})),l=Object(o.useCallback)((function(){xe.dispatch(He({windows:[{id:t,value:{type:Ee.NEWS,messageId:n}}]}))}),[n]),u=Object(o.useCallback)((function(){return xe.dispatch(Ue({id:t}))}),[t]),s=Object(o.useCallback)((function(){return xe.dispatch(He({windows:[{id:Ee.DIALOGCREATENEWS,value:{type:Ee.DIALOGCREATENEWS}}]}))}),[]);Object(o.useCallback)((function(){xe.dispatch(He({windows:[{id:"".concat(Ee.DIALOGAPPSETTINGS,"-").concat(t),value:{type:"".concat(Ee.DIALOGAPPSETTINGS,"-").concat(t)}}]}))}),[t]);return c.a.createElement(hl,{id:t,index:a,done:u,className:"News",title:c.a.createElement("span",null,"News"),onClick:l,menu:c.a.createElement(c.a.Fragment,null,c.a.createElement(Sl,{menuIcon:c.a.createElement(Rr,null),key:"fileMenu",id:t},r&&c.a.createElement(aa,{stopPropagation:!0,key:"createNews",onClick:s},c.a.createElement(Ba,null),c.a.createElement("span",null,"New article"))))},c.a.createElement(Qs,{messageId:n}))},_s=c.a.memo($s);$s.defaultProps={messageId:void 0};var ed,td,nd=c.a.memo((function(e){var t=e.id,n=e.index,a=Object(i.c)(mt),r=Object(i.c)(Ke),l=Object(i.c)((function(e){return Zl(e,{id:r})})),u=Object(wc.b)(),d=Object(o.useState)(),m=Object(s.a)(d,2),f=m[0],p=(m[1],function(e){var n=e.title,a=e.text,r=e.image;Hi({title:n,text:a,image:r}).then((function(e){var n=e.message;Object(i.b)((function(){xe.dispatch(He({windows:[{id:Ee.NEWS,value:{type:Ee.NEWS,messageId:n.objectId}}]})),xe.dispatch(Ue({id:t}))}))})).catch((function(e){return console.log(e)}))});return c.a.createElement(rs,{id:t,index:n,className:"CreateNewsDialog",onClick:function(){xe.dispatch(He({windows:[{id:t,value:{type:Ee.DIALOGCREATENEWS}}]}))},done:function(){return xe.dispatch(Ue({id:t}))},error:f,title:"New article",buttons:[c.a.createElement(g,{key:"submit",type:"submit",onClick:function(){return u.handleSubmit(p)()}},"Create")]},c.a.createElement(wc.a,u,c.a.createElement("form",{onSubmit:u.handleSubmit(p)},c.a.createElement(vc,{label:c.a.createElement("span",null,"You are:")}),c.a.createElement("div",null,c.a.createElement("p",null,"The article fee is: ".concat(a)),c.a.createElement("p",null,"You have ".concat(l.amount," in your wallet"))),c.a.createElement(Kc,{required:!0,label:"title",maxLength:200,name:"title",placeholder:"Title"}),c.a.createElement(bu,null),c.a.createElement(ju,{required:!0,label:"Text",maxLength:800,name:"text",placeholder:"Text"}))))}));function ad(){return(ad=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function rd(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var od=function(e){var t=e.svgRef,n=e.title,a=rd(e,["svgRef","title"]);return c.a.createElement("svg",ad({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-unlock",ref:t},a),n?c.a.createElement("title",null,n):null,ed||(ed=c.a.createElement("rect",{x:3,y:11,width:18,height:11,rx:2,ry:2})),td||(td=c.a.createElement("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})))},cd=c.a.forwardRef((function(e,t){return c.a.createElement(od,ad({svgRef:t},e))})),ld=(n.p,function(e){var t=e.roomId,n=e.id,a=e.index,r=e.password,l=e.messageId,u=Object(o.useState)(),d=Object(s.a)(u,2),m=d[0],f=d[1],p=Object(i.c)((function(e){return Ei(e,{id:t})})),h=Object(i.c)(jt),v=Object(wc.b)(),y=G({objectToAccess:p,toAuth:h}).hasAccess,b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.password;zi({roomId:t,password:a}).then((function(){Object(i.b)((function(){xe.dispatch(He({windows:[{id:Ee.CHAT,value:{type:Ee.CHAT,roomId:t,messageId:l}}]})),xe.dispatch(Ue({id:n}))}))})).catch((function(e){var t=Object(ce.a)({},e);console.log(e),"not allowed"===e.type&&(t.message="Incorrect password"),f(t)}))};return c.a.createElement(rs,{id:n,error:m,index:a,className:"JoinRoomDialog",onClick:function(){xe.dispatch(He({windows:[{id:n,value:{roomId:t,password:r,messageId:l,type:Ee.DIALOGJOINROOM}}]}))},done:function(){return xe.dispatch(Ue({id:n}))},title:y||!p.password?"Join room ".concat(p.roomName):"Unlock room ".concat(p.roomName),buttons:[c.a.createElement(g,{stopPropagation:!0,type:"submit",onClick:function(){return v.handleSubmit(b)()}},!y&&p.password&&c.a.createElement(cd,null),c.a.createElement("span",null,y||!p.password?"Join":"Unlock"))]},c.a.createElement(wc.a,v,c.a.createElement("form",{onSubmit:v.handleSubmit(b)},c.a.createElement("div",null,(y||!p.password)&&c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Do you want to join the room ".concat(p.roomName,"?")),p.topic&&c.a.createElement("p",null,"Topic: ".concat(p.topic))),!y&&p.password&&c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"The room is locked."),c.a.createElement("p",null,"Enter the password to continue:"))),!y&&p.password&&c.a.createElement(Kc,{label:"Password",defaultValue:r,required:!y,minLength:4,maxLength:100,name:"password",type:"password",placeholder:"Password"}))))}),id=c.a.memo(ld);ld.defaultProps={password:void 0,messageId:void 0};var ud=n(38),sd=n(36),dd=(n(98),c.a.memo((function(e){var t=e.id,n=e.index,a=Object(wc.b)(),r=Object(i.c)(jt),l=Object(wc.d)({control:a.control,name:"onDevice",defaultValue:""}),u="this"===l&&r.systemConfig?r.systemConfig[De()]||{}:r.systemConfig||{},s=function(e){var n,o=e.hideHelp,c=e.hideTopBar,i=e.alwaysMaximized,s=e.hideMenuBar,d=e.openApps,m=e.removeDeviceConfig,f=e.alwaysCompactMenu;if(m){var p=r.systemConfig,h=De();p[h];n=Object(ud.a)(p,[h].map(sd.a)),a.setValue("onDevice","")}else{var v=u[De()]||{};n="this"===l?Object(ce.a)(Object(ce.a)({},u),{},Object(Ve.a)({},De(),Object(ce.a)(Object(ce.a)({},v),{},{hideHelp:o,hideTopBar:c,alwaysMaximized:i,hideMenuBar:s,alwaysCompactMenu:f,openApps:d.map((function(e){return{id:e,value:{type:e}}}))}))):Object(ce.a)(Object(ce.a)({},u),{},{hideHelp:o,hideTopBar:c,alwaysMaximized:i,hideMenuBar:s,alwaysCompactMenu:f,openApps:d.map((function(e){return{id:e,value:{type:e}}}))})}Fn({userId:r.objectId,user:{systemConfig:n}}).then((function(){return xe.dispatch(Ue({id:t}))})).catch((function(e){return console.log(e)}))},d=Object(o.useCallback)((function(){xe.dispatch(He({windows:[{id:t,value:{type:Ee.DIALOGCONFIGSYSTEM}}]}))}),[t]),m=Object(o.useCallback)((function(){return xe.dispatch(Ue({id:t}))}),[t]);return c.a.createElement(rs,{className:"ConfigSystemDialog",id:t,index:n,title:"System config: ".concat(r.username),onClick:d,done:m,buttons:[c.a.createElement(c.a.Fragment,null,"this"===l&&r.systemConfig[De()]&&c.a.createElement(g,{stopPropagation:!0,key:"removeConfig",type:"button",onClick:function(){return s({removeDeviceConfig:!0})}},"Remove")),c.a.createElement(g,{stopPropagation:!0,key:"submit",onClick:function(){return a.handleSubmit(s)()},type:"submit"},"Update")]},c.a.createElement(wc.a,a,c.a.createElement("form",{onSubmit:a.handleSubmit(s)},c.a.createElement("div",null,c.a.createElement("p",null,"Changes made here will affect your user and only when you are logged in.")),c.a.createElement(us,{label:"Do you want to change settings for when you login on any device or a specific device? The device specific settings will override any global settings.",key:"onDevice",name:"onDevice",defaultValue:""},c.a.createElement("option",{value:""},"Any device (default)"),c.a.createElement("option",{value:"this"},"This device")),c.a.createElement(us,{multiple:!0,label:"Select apps to auto-open when you log in (you can choose how they are expanded and placed in the settings for each app).",key:"openApps-".concat(l),defaultValue:(u.openApps||[""]).map((function(e){return e.value?e.value.type:""})),name:"openApps"},c.a.createElement("option",{value:""},"No app"),c.a.createElement("option",{value:Ee.CHAT},"Chat"),c.a.createElement("option",{value:Ee.WALLET},"Wallet"),c.a.createElement("option",{value:Ee.WORLDMAP},"Map"),c.a.createElement("option",{value:Ee.DOCFILEDIR},"Files"),c.a.createElement("option",{value:Ee.NEWS},"News")),c.a.createElement(Kc,{label:"Automatically maximize windows?",key:"alwaysMaximized-".concat(l),type:"checkbox",name:"alwaysMaximized",checked:u.alwaysMaximized}),c.a.createElement(Kc,{label:"Minimize main menu?",key:"hideMenuBar-".concat(l),type:"checkbox",name:"hideMenuBar",checked:u.hideMenuBar}),c.a.createElement(Kc,{label:"Hide top row in windows? (Windows will be auto-maximized)",key:"hideTopBar-".concat(l),type:"checkbox",name:"hideTopBar",checked:u.hideTopBar}),c.a.createElement(Kc,{label:"Hide help buttons?",key:"hideHelp-".concat(l),type:"checkbox",name:"hideHelp",checked:u.hideHelp}),c.a.createElement(Kc,{label:"Keep the app menu compact? (The menu will stay at the top in wider windows)",key:"alwaysCompactMenu-".concat(l),type:"checkbox",name:"alwaysCompactMenu",checked:u.alwaysCompactMenu}))))}))),md=function(e){var t=e.docFileId,n=e.id,a=e.index,r=e.code,l=Object(o.useState)(),u=Object(s.a)(l,2),d=u[0],m=u[1],f=Object(i.c)((function(e){return Wn(e,{id:t})})),p=Object(wc.b)(),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.code;ws({docFileId:t,code:a}).then((function(){Object(i.b)((function(){xe.dispatch(He({windows:[{id:Ee.DOCFILEVIEW,value:{type:Ee.DOCFILEVIEW,docFileId:t}}]})),xe.dispatch(Ue({id:n}))}))})).catch((function(e){var t=Object(ce.a)({},e);console.log(e),"not allowed"===e.type&&(t.message="Incorrect code"),m(t)}))};return c.a.createElement(rs,{id:n,error:d,index:a,className:"UnlockDocFileDialog",onClick:function(){xe.dispatch(He({windows:[{id:n,value:{type:Ee.DIALOGUNLOCKFILE,docFileId:t}}]}))},done:function(){return xe.dispatch(Ue({id:n}))},title:"Unlock file ".concat(f.title),buttons:[c.a.createElement(g,{stopPropagation:!0,key:"submit",type:"submit",onClick:function(){return p.handleSubmit(h)()}},c.a.createElement(cd,null),c.a.createElement("span",null,"Unlock"))]},c.a.createElement(wc.a,p,c.a.createElement("form",{onSubmit:p.handleSubmit(h)},c.a.createElement(vc,{label:c.a.createElement("span",null,"You are: ")}),c.a.createElement("div",null,c.a.createElement("p",null,"The file is locked."),c.a.createElement("p",null,"Enter the code to continue:")),c.a.createElement(Kc,{required:!0,label:"Code",defaultValue:r,name:"code",type:"text",placeholder:"Code"}))))},fd=c.a.memo(md);md.defaultProps={code:void 0};var pd=function(e){var t=e.id,n=e.index,a=e.windowType,r=e.inputs,l=void 0===r?[]:r,u=Object(i.c)(jt),d=Object(wc.b)(),m=Object(o.useState)(),f=Object(s.a)(m,2),p=f[0],h=(f[1],u.systemConfig),v=void 0===h?Object(Ve.a)({},a,{}):h,y=function(e){var n=e.expand,r=e.hideTopBar;Fn({userId:u.objectId,user:{systemConfig:Object(ce.a)(Object(ce.a)({},v),{},Object(Ve.a)({},a,Object(ce.a)(Object(ce.a)({},v[a]),{},{expand:n,hideTopBar:r})))}}).then((function(){return xe.dispatch(Ue({id:t}))})).catch((function(e){return console.log(e)}))},b=window.innerWidth>window.innerHeight,E=window.innerHeight<450,O=window.innerWidth<450;return c.a.createElement(rs,{id:t,index:n,className:"SettingsAppDialog configDialog",onClick:function(){xe.dispatch(He({windows:[{id:t,value:{type:"".concat(Ee.DIALOGAPPSETTINGS,"-").concat(a)}}]}))},done:function(){return xe.dispatch(Ue({id:t}))},error:p,title:c.a.createElement(c.a.Fragment,null,c.a.createElement(wa,null),c.a.createElement("span",null,a)),buttons:[c.a.createElement(g,{key:"submit",type:"submit",onClick:function(){return d.handleSubmit(y)()}},"Update")]},c.a.createElement(wc.a,d,c.a.createElement("form",{onSubmit:d.handleSubmit(y)},c.a.createElement(Kc,{label:"Hide top row? (Window will be auto-maximized. You can close and change settings for the window in its menu)?",type:"checkbox",name:"hideTopBar",checked:v.hideTopBar}),c.a.createElement(us,{label:"Automatically expand and place window?",defaultValue:v[a].expand,name:"expand"},c.a.createElement("option",{value:""},"No"),c.a.createElement("option",{value:"maximize"},"Maximize"),b&&c.a.createElement(c.a.Fragment,null,c.a.createElement("option",{value:"left"},"Left half"),c.a.createElement("option",{value:"right"},"Right half")),!b&&c.a.createElement(c.a.Fragment,null,c.a.createElement("option",{value:"upper"},"Upper half"),c.a.createElement("option",{value:"lower"},"Lower half")),!E&&!O&&c.a.createElement(c.a.Fragment,null,c.a.createElement("option",{value:"upperLeft"},"Upper left corner"),c.a.createElement("option",{value:"upperRight"},"Upper right corner"),c.a.createElement("option",{value:"lowerLeft"},"Lower left corner"),c.a.createElement("option",{value:"lowerRight"},"Lower right corner"))),l.map((function(e){return{element:e.element}})))))},hd=c.a.memo(pd);pd.defaultProps={inputs:[]};var vd,gd,yd=c.a.memo((function(e){var t=e.id,n=e.index;return c.a.createElement(hd,{windowType:Ee.NEWS,id:t,index:n})}));function bd(){return(bd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ed(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Od=function(e){var t=e.svgRef,n=e.title,a=Ed(e,["svgRef","title"]);return c.a.createElement("svg",bd({width:32,height:32,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-map-pin",ref:t},a),n?c.a.createElement("title",null,n):null,vd||(vd=c.a.createElement("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"})),gd||(gd=c.a.createElement("circle",{cx:12,cy:10,r:3})))},wd=c.a.forwardRef((function(e,t){return c.a.createElement(Od,bd({svgRef:t},e))})),jd=(n.p,n(99),function(e){var t=e.id,n=e.index,a=e.identityId,r=e.edit,l=void 0!==r&&r,u=Object(wc.b)(),d=Object(i.c)(gt),m=Object(o.useState)(l),f=Object(s.a)(m,2),p=f[0],h=f[1],v=Object(i.c)(Ke),y=Object(i.c)(Ut),b=Object(i.c)(xt),E=Object(i.c)((function(e){return Dt(e,{id:a||v})})),O=Object(i.c)((function(e){return Et(e,{ids:E.partOfTeams})})),w=Object(i.c)((function(e){return function(e,t){var n=t.id;return e.positions.get(n)}(e,{id:a||v})})),j=Object(i.c)(ut),I=Object(i.c)(st),k=Object(o.useCallback)((function(){xe.dispatch(He({windows:[{id:t,value:{type:Ee.DIALOGPROFILE,identityId:a}}]}))}),[t]),x=Object(o.useCallback)((function(){return xe.dispatch(Ue({id:t}))}),[t]),C=function(e){var t=e.name,n=e.pronouns,r=e.image,o=e.description,c=e.status,l=e.occupation,i=e.accessLevel,u=!r||E.image&&r.source==="/upload/images/".concat(E.image.fileName)?void 0:r;if(E.aliasName){var s={pronouns:n,status:c,occupation:l,description:o?o.split("\n"):void 0,aliasName:t!==E.aliasName?t:void 0};hs({alias:s,resetImage:!r&&E.image,image:u,aliasId:a||v}).then((function(){return h(!1)})).catch((function(e){return console.log(e)}))}else{var d={pronouns:n,status:c,occupation:l,accessLevel:i&&Number(i)!==E.accessLevel?Number(i):void 0,description:o?o.split("\n"):void 0,username:t!==E.username?t:void 0};Fn({user:d,resetImage:!r&&E.image,image:u,userId:a||v}).then((function(){return h(!1)})).catch((function(e){return console.log(e)}))}},N=Object(o.useCallback)((function(){Object(i.b)((function(){xe.dispatch(He({windows:[{id:Ee.WORLDMAP,value:{type:Ee.WORLDMAP,positionId:v}}]})),xe.dispatch(Ue({id:t}))}))}),[t]),L=Object(o.useCallback)((function(){return Object(i.b)((function(){xe.dispatch(He({windows:[{id:"".concat(Ee.DIALOGCREATETRANSACTION,"-").concat(a),value:{type:Ee.DIALOGCREATETRANSACTION,toWalletId:a}}]})),xe.dispatch(Ue({id:t}))}))}),[a,t]),S=Object(o.useCallback)((function(){var e=ki(xe.getState(),{identityId:a,currentIdentityId:v});Object(i.b)((function(){xe.dispatch(He({windows:[{id:Ee.CHAT,value:{type:Ee.CHAT,roomId:e.objectId}}]})),xe.dispatch(Ue({id:t}))}))}),[a,v,t]),R=[];return!p&&(!d||b>=W.ADMIN)&&(!a||b>=W.ADMIN||y.find((function(e){return e.objectId===a})))&&R.push(c.a.createElement(g,{stopPropagation:!0,key:"edit",type:"button",onClick:function(){return h(!0)}},a&&c.a.createElement(ci,null),!a&&c.a.createElement(_u,null),"Edit")),"-1"!==v&&a&&a!==v&&!p&&R.push(c.a.createElement(g,{stopPropagation:!0,key:"transfer",type:"button",onClick:L},c.a.createElement(sr,null)),c.a.createElement(g,{stopPropagation:!0,key:"whisper",type:"button",onClick:S},c.a.createElement(Ka,null))),p&&(b>=W.MODERATOR&&(E.isBanned?R.push(c.a.createElement(g,{stopPropagation:!0,key:"unban",type:"button",onClick:function(){}},"Unban")):R.push(c.a.createElement(g,{stopPropagation:!0,key:"ban",type:"button",onClick:function(){}},"Ban"))),R.push(c.a.createElement(g,{stopPropagation:!0,key:"update",type:"submit",onClick:function(){return u.handleSubmit(C)()}},"Update"))),c.a.createElement(rs,{className:"ProfileDialog",id:t,index:n,title:"Profile: ".concat(E.aliasName||E.username),onClick:k,done:x,buttons:R},!p&&c.a.createElement(c.a.Fragment,null,!a&&c.a.createElement(vc,{label:c.a.createElement("span",null,"You are:")}),E.image&&c.a.createElement(Fc,{scrollTo:!0,image:"/upload/images/".concat(E.image.thumbFileName),altText:"pic",width:E.image.thumbWidth,height:E.image.thumbHeight,fullImage:"/upload/images/".concat(E.image.fileName),fullWidth:E.image.width,fullHeight:E.image.height}),c.a.createElement("div",null,c.a.createElement("p",null,"Name"),c.a.createElement("p",null,E.aliasName||E.username)),b>=W.MODERATOR&&c.a.createElement("div",null,c.a.createElement("p",null,"Access level"),c.a.createElement("p",null,Object.keys(W).find((function(e){return W[e]===E.accessLevel})))),E.status&&c.a.createElement("div",null,c.a.createElement("p",null,"Status"),c.a.createElement("p",null,E.status)),c.a.createElement("div",null,c.a.createElement("p",null,"Pronouns"),c.a.createElement("p",null,E.pronouns.map((function(e){return ss[e]})).join(", "))),O.size>0&&c.a.createElement("div",null,c.a.createElement("p",null,"Affiliations"),c.a.createElement("p",null,Object(le.a)(O.values()).map((function(e){return e.teamName})).join(", "))),E.occupation&&c.a.createElement("div",null,c.a.createElement("p",null,"Occupation"),c.a.createElement("p",null,E.occupation)),j&&w&&w.coordinatesHistory[0]&&c.a.createElement("div",null,c.a.createElement("p",null,"Last known position"),c.a.createElement(g,{onClick:N},c.a.createElement(wd,null),"Track")),E.description&&E.description.length>0&&c.a.createElement("div",null,c.a.createElement("p",null,"Description"),c.a.createElement("div",{className:"description"},E.description.map((function(e,t){return c.a.createElement("p",{key:t},e)}))))),p&&c.a.createElement(wc.a,u,c.a.createElement("form",{onSubmit:u.handleSubmit(C)},!a&&c.a.createElement(vc,{label:c.a.createElement("span",null,"You are:")}),c.a.createElement(bu,{croppable:!0,label:"Upload profile image",image:E.image?{source:"/upload/images/".concat(E.image.fileName)}:void 0}),c.a.createElement(Kc,{required:!0,label:"Name",name:"name",maxLength:30,placeholder:"Name",type:"text",defaultValue:E.aliasName||E.username}),b>=W.ADMIN&&!E.aliasName&&c.a.createElement(us,{label:"Access level",key:"accessLevel",name:"accessLevel",defaultValue:E.accessLevel},Object.keys(W).filter((function(e){return W[e]>=W.STANDARD&&W[e]<=b})).map((function(e){return c.a.createElement("option",{key:e,value:W[e]},e)}))),c.a.createElement(ms,{preselected:E.pronouns}),b>=I.UpdateUserStatus.accessLevel&&c.a.createElement(Kc,{label:"Status",name:"status",placeholder:"Status",type:"text",defaultValue:E.status}),b>=I.UpdateUserOccupation.accessLevel&&c.a.createElement(Kc,{label:"Occupation",name:"occupation",placeholder:"Occupation",type:"text",defaultValue:E.occupation}),c.a.createElement(ju,{label:"Description",name:"description",placeholder:"Description",maxLength:300}))))}),Id=c.a.memo(jd);jd.defaultProps={identityId:void 0,edit:!1};n(100);var kd=c.a.memo((function(e){var t=e.docFileId,n=Object(i.c)((function(e){return Wn(e,{id:t})})),a=Object(i.c)((function(e){return Gt(e,{id:n.ownerAliasId||n.ownerId})}));return n.isLocked?c.a.createElement("div",{className:"DocFileViewer"},c.a.createElement("div",null,"This file is locked.",c.a.createElement(g,{onClick:function(){Object(i.b)((function(){xe.dispatch(He({windows:[{id:"".concat(Ee.DIALOGUNLOCKFILE,"-").concat(t),value:{docFileId:t,type:Ee.DIALOGUNLOCKFILE}}]})),xe.dispatch(Ue({id:"".concat(Ee.DOCFILEVIEW,"-").concat(t)}))}))}},"Unlock?"))):c.a.createElement("div",{className:"DocFileViewer"},c.a.createElement("h1",{className:"title"},n.title),c.a.createElement("div",{className:"info"},c.a.createElement("p",{className:"author"},"Author: ".concat(a.teamName||a.aliasName||a.username)),c.a.createElement("p",{className:"code"},"Code: ".concat(n.code)),c.a.createElement("p",{className:"public"},"Public: ".concat(n.isPublic?"Yes":"No")),n.tags&&n.tags.length>0&&c.a.createElement("p",null,n.tags.join(", "))),n.images&&n.images.length>0&&c.a.createElement("div",{className:"images"},n.images.map((function(e){return c.a.createElement(Fc,{scrollTo:!0,key:e.thumbFileName,image:"/upload/images/".concat(e.thumbFileName),altText:"pic",width:e.thumbWidth,height:e.thumbHeight,fullImage:"/upload/images/".concat(e.fileName),fullWidth:e.width,fullHeight:e.height})}))),c.a.createElement("div",{className:"text"},n.text.join("\n")))})),xd=function(e){var t=e.id,n=e.docFileId,a=e.index,r=Object(i.c)((function(e){return Wn(e,{id:n})})),l=Object(o.useCallback)((function(){xe.dispatch(He({windows:[{id:t,value:{type:Ee.DOCFILEVIEW,docFileId:n}}]}))}),[]),u=Object(o.useCallback)((function(){return xe.dispatch(Ue({id:t}))}),[t]),s=Object(o.useCallback)((function(){return xe.dispatch(He({windows:[{id:Ee.DIALOGCREATEDOCFILE,value:{type:Ee.DIALOGCREATEDOCFILE}}]}))}));return c.a.createElement(hl,{id:t,index:a,done:u,className:"DocFileView",title:"".concat(r?"File: ".concat(r.title):"Files"),onClick:l,menu:c.a.createElement(c.a.Fragment,null,c.a.createElement(Sl,{id:t},c.a.createElement(aa,{stopPropagation:!0,onClick:s,key:"createDocFile"},"New document")))},c.a.createElement(kd,{key:"viewer",docFileId:n}))},Cd=c.a.memo(xd);xd.defaultProps={docFileId:void 0};n(101);var Nd=c.a.memo((function(){var e=Object(i.c)(Lt),t=Object(i.c)(No),n=[];return Object(o.useEffect)((function(){e.openApps&&e.openApps.length>0&&xe.dispatch(He({windows:e.openApps.map((function(e){return{id:e.id,value:e.value}}))}))}),[e.openApps]),t.forEach((function(e,t){var a=e.type;switch(a){case Ee.CHAT:n.push(c.a.createElement(ns,{key:t,id:t,roomId:e.roomId,messageId:e.messageId,password:e.password,index:e.index}));break;case Ee.WALLET:n.push(c.a.createElement(ui,{key:t,id:t,index:e.index}));break;case Ee.WORLDMAP:n.push(c.a.createElement(yi,{key:t,id:t,index:e.index}));break;case Ee.DOCFILEDIR:n.push(c.a.createElement(Ms,{key:t,id:t,index:e.index}));break;case Ee.DOCFILEVIEW:n.push(c.a.createElement(Cd,{key:t,id:t,index:e.index,docFileId:e.docFileId,code:e.code}));break;case Ee.NEWS:n.push(c.a.createElement(_s,{key:t,id:t,messageId:e.messageId,index:e.index}));break;case Ee.IDENTITIES:n.push(c.a.createElement(bl,{key:t,id:t,index:e.index}));break;case Ee.DIALOGCREATEROOM:n.push(c.a.createElement(os,{key:t,id:t,index:e.index}));break;case Ee.DIALOGLOGIN:n.push(c.a.createElement(ls,{key:t,id:t,index:e.index}));break;case Ee.DIALOGREGISTER:n.push(c.a.createElement(fs,{key:t,id:t,index:e.index}));break;case Ee.DIALOGREMOVEROOM:n.push(c.a.createElement(cs,{key:t,id:t,roomId:e.roomId,index:e.index}));break;case Ee.DIALOGCREATEALIAS:n.push(c.a.createElement(vs,{key:t,id:t,index:e.index}));break;case Ee.DIALOGCREATETRANSACTION:n.push(c.a.createElement(bs,{key:t,id:t,toWalletId:e.toWalletId,index:e.index,amount:e.amount}));break;case Ee.DIALOGCREATEDOCFILE:n.push(c.a.createElement(Ds,{key:t,id:t,index:e.index}));break;case Ee.DIALOGCREATENEWS:n.push(c.a.createElement(nd,{key:t,id:t,index:e.index}));break;case Ee.DIALOGJOINROOM:n.push(c.a.createElement(id,{key:t,id:t,roomId:e.roomId,index:e.index,messageId:e.messsageId,password:e.password}));break;case Ee.DIALOGCONFIGSYSTEM:n.push(c.a.createElement(dd,{key:t,id:t,index:e.index}));break;case"".concat(Ee.DIALOGAPPSETTINGS,"-").concat(Ee.NEWS):n.push(c.a.createElement(yd,{key:t,id:t,index:e.index}));break;case Ee.DIALOGPROFILE:n.push(c.a.createElement(Id,{key:t,id:t,index:e.index,identityId:e.identityId,edit:e.edit}));break;case Ee.DIALOGUNLOCKFILE:n.push(c.a.createElement(fd,{key:t,id:t,index:e.index,docFileId:e.docFileId,code:e.code,auto:e.auto}));break;default:console.error("Unknown window type",a)}})),c.a.createElement("div",{key:"mainWindow",id:"MainWindow"},c.a.createElement(Vs,null),n)}));var Ld=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(c.a.StrictMode,null,c.a.createElement(Oc,null),c.a.createElement(Nd,null)))},Sd=(n(102),n(103));Object(u.a)(),Sd.ElementQueries.listen(),Object(l.render)(c.a.createElement(i.a,{store:xe},c.a.createElement(Ld,null)),document.getElementById("root"))}]),[[39,1,2]]]);
//# sourceMappingURL=main.a6d9e54d.chunk.js.map