{"version":3,"sources":["library/TextTools.js","library/redux/selectors/config.js","library/icons/clock.svg","library/components/common/sub-components/Button/Button.jsx","library/redux/actionTypes.js","library/redux/reducers/root.js","library/redux/reducers/messages.js","library/redux/reducers/online.js","library/AccessCentral.js","library/redux/reducers/config.js","library/redux/reducers/windowOrder.js","library/redux/reducers/mode.js","library/redux/reducers/index.js","library/redux/reducers/users.js","library/redux/reducers/aliases.js","library/redux/reducers/rooms.js","library/redux/reducers/userId.js","library/redux/reducers/positions.js","library/redux/reducers/transactions.js","library/redux/reducers/wallets.js","library/redux/reducers/aliasId.js","library/redux/reducers/teams.js","library/redux/reducers/docFiles.js","library/redux/store.js","library/components/MenuBar/sub-components/Clock/Clock.jsx","library/icons/arrow-up-circle.svg","library/icons/arrow-down-circle.svg","library/components/common/lists/List/List.jsx","library/StorageManager.js","library/Converters.js","library/redux/actions/auth.js","library/redux/selectors/online.js","library/redux/actions/online.js","library/redux/selectors/aliasId.js","library/redux/selectors/userId.js","library/redux/actions/wallets.js","library/redux/actions/transactions.js","library/redux/actions/messages.js","library/socket/listeners/messages.js","library/redux/actions/forums.js","library/redux/actions/gameCodes.js","library/redux/actions/users.js","library/redux/actions/rooms.js","library/socket/listeners/rooms.js","library/socket/listeners/users.js","library/redux/actions/aliasId.js","library/redux/actions/aliases.js","library/socket/listeners/aliases.js","library/socket/listeners/wallets.js","library/socket/listeners/transactions.js","library/redux/actions/docFiles.js","library/socket/listeners/docFiles.js","library/socket/SocketManager.js","library/socket/actions/auth.js","library/redux/selectors/aliases.js","library/redux/selectors/teams.js","library/redux/selectors/users.js","library/components/common/lists/List/Item/ListItem.jsx","library/icons/menu.svg","library/redux/selectors/mode.js","library/redux/actions/mode.js","library/redux/actions/windowOrder.js","library/components/MenuBar/lists/MainList.jsx","library/icons/chat.svg","library/icons/map.svg","library/icons/wallet.svg","library/icons/file.svg","library/icons/news.svg","library/icons/layers.svg","library/redux/selectors/windowOrder.js","library/components/MenuBar/lists/OpenApps/OpenApps.jsx","library/icons/help.svg","library/icons/chevron-left.svg","library/icons/chevron-right.svg","library/components/MenuBar/MenuBar.jsx","library/components/DataHandler.jsx","library/icons/maximize.svg","library/icons/close.svg","library/icons/settings.svg","library/components/common/Window/TopBar/TopBar.jsx","library/components/common/Window/Window.jsx","library/redux/selectors/transactions.js","library/components/Wallet/lists/Transaction/Item/TransactionItem.jsx","library/components/Wallet/lists/Transaction/TransactionList.jsx","library/redux/selectors/wallets.js","library/components/common/lists/IdentityList/Item/IdentityItem.jsx","library/components/common/sub-components/Input/Input.jsx","library/components/common/lists/IdentityList/IdentityList.jsx","library/components/Wallet/lists/Wallet/Item/WalletItem.jsx","library/components/Wallet/lists/Wallet/WalletList.jsx","library/components/Wallet/lists/AdminWallet/AdminWalletList.jsx","library/components/Wallet/Wallet.jsx","library/components/WorldMap/views/MapView.jsx","library/redux/selectors/positions.js","library/components/WorldMap/lists/Position/PositionList.jsx","library/components/WorldMap/views/Positions.jsx","library/components/WorldMap/WorldMap.jsx","library/redux/selectors/rooms.js","library/icons/lock.svg","library/components/Chat/lists/Room/Item/RoomItem.jsx","library/components/Chat/lists/Room/RoomList.jsx","library/components/Chat/lists/Whisper/Item/WhisperItem.jsx","library/components/Chat/lists/Whisper/WhisperList.jsx","library/components/Chat/lists/Following/Item/FollowingItem.jsx","library/components/Chat/lists/Following/FollowingList.jsx","library/components/Chat/views/Rooms.jsx","library/icons/minimize.svg","library/components/common/sub-components/Image/Image.jsx","library/icons/image.svg","library/components/common/sub-components/ImageUpload/ImageUpload.jsx","library/socket/actions/messages.js","library/icons/user.svg","library/components/common/lists/IdentityPicker/IdentityPicker.jsx","library/icons/pin.svg","library/icons/tag.svg","library/icons/file-plus.svg","library/icons/cloud-off.svg","library/components/Chat/sub-components/InputArea/InputArea.jsx","library/redux/selectors/messages.js","library/components/Chat/lists/Message/Item/MessageInfo/MessageInfo.jsx","library/components/Chat/lists/Message/Item/MessageItem.jsx","library/components/Chat/lists/Message/MessageList.jsx","library/components/Chat/views/Messages/Messages.jsx","library/components/common/lists/FileMenu.jsx","library/components/Chat/Chat.jsx","library/components/common/dialogs/Dialog/Dialog.jsx","library/components/common/dialogs/IdentityDialog.jsx","library/socket/actions/rooms.js","library/components/Chat/dialogs/CreateRoomDialog.jsx","library/components/Chat/dialogs/RemoveRoomDialog.jsx","library/components/common/dialogs/LoginDialog.jsx","library/components/common/sub-components/Select.jsx","library/components/common/sub-components/Textarea.jsx","library/socket/actions/users.js","library/components/common/dialogs/RegisterDialog.jsx","library/socket/actions/aliases.js","library/components/common/dialogs/CreateAliasDialog.jsx","library/socket/actions/transactions.js","library/components/common/dialogs/CreateTransactionDialog.jsx","library/redux/selectors/docFiles.js","library/components/DocFile/lists/DocFile/Item/DocFileItem.jsx","library/components/DocFile/lists/DocFile/DocFileList.jsx","library/components/DocFile/Viewer/DocFileViewer.jsx","library/components/DocFile/DocFile.jsx","library/socket/actions/docFiles.js","library/components/DocFile/dialogs/CreateDocFile/CreateDocFileDialog.jsx","library/icons/arrow-right.svg","library/components/MainWindow/Dashboard/Item/NewsItem.jsx","library/components/MainWindow/Dashboard/Dashboard.jsx","library/icons/chevron-down.svg","library/icons/chevron-up.svg","library/components/News/lists/News/item/NewsItem.jsx","library/components/News/lists/News/NewsList.jsx","library/components/News/News.jsx","library/components/News/dialogs/CreateNewsDialog.jsx","library/icons/unlock.svg","library/components/Chat/dialogs/JoinRoomDialog.jsx","library/components/common/dialogs/ConfigSystem/ConfigSystemDialog.jsx","library/components/MainWindow/MainWindow.jsx","App.jsx","index.jsx"],"names":["beautifyNumber","number","getRequireOffName","state","config","get","getPublicRoomId","getAllowedImages","getGpsTracking","getPermissions","getNewsRoomId","getNewsCost","getTimestamp","date","offset","lockDate","newDate","Date","timestamp","yearModification","dayModification","setHours","getHours","Number","isNaN","setFullYear","getFullYear","parseInt","setDate","getDate","mins","getMinutes","hours","seconds","getSeconds","month","getMonth","day","year","halfTime","fullTime","halfDate","fullDate","fullStamp","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","cx","cy","r","points","_ref","svgRef","title","props","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","className","ref","ForwardRef","forwardRef","Button","React","onClick","children","disabled","stopPropagation","type","event","memo","propTypes","func","isRequired","node","oneOf","bool","string","defaultProps","undefined","ALIASES","DEVICES","DOCFILES","FORUMS","FORUMPOSTS","FORUMTHREADS","GAMECODES","INVITATIONS","MESSAGES","ROOMS","SIMPLEMSGS","TEAMS","TRANSACTIONS","USERS","WALLETS","ChangeTypes","rootReducerSingle","action","newState","Map","payload","changeType","object","set","objectId","existing","updated","has","delete","rootReducerMultiple","reset","objects","forEach","MessageType","Status","AccessLevels","hasAccessTo","objectToAccess","toAuth","canSee","hasFullAccess","hasAccess","ownerId","ownerAliasId","teamId","isPublic","visibility","teamIds","userIds","userAdminIds","teamAdminIds","partOfTeams","accessLevel","authUserId","authTeamIds","aliases","foundOwnerAlias","includes","partOfTeam","userHasAccess","concat","teamHasAccess","find","id","aliasHasAccess","aliasId","userHasAdminAccess","aliasHasAdminAccess","teamHasAdminAccess","adminId","isAdmin","defaultState","longitude","latitude","CHAT","PROFILE","DOCFILE","CreateAlias","name","CreateUser","followingRooms","isAnonymous","systemConfig","username","WindowTypes","WALLET","WORLDMAP","NEWS","DIALOGIDENTITY","DIALOGCREATEROOM","DIALOGREMOVEROOM","DIALOGREGISTER","DIALOGLOGIN","DIALOGCREATEALIAS","DIALOGCREATETRANSACTION","DIALOGCREATEDOCFILE","DIALOGCREATENEWS","DIALOGJOINROOM","DIALOGCONFIGSYSTEM","Modes","initialState","mode","combineReducers","users","messages","online","rooms","userId","positions","transactions","wallets","entries","keyValue","windowOrder","value","size","index","every","windowValue","sorted","sort","a","b","valueA","valueB","splice","findIndex","window","push","console","log","entryValue","newValue","windows","teams","docFiles","createStore","rootReducer","applyMiddleware","thunk","useState","showTime","setShowTime","store","getState","useEffect","updateTime","setTimeout","useCallback","x1","y1","x2","y2","List","observe","startRevealed","alwaysExpanded","checkWidth","dropdown","observer","useRef","observeHelper","listRef","windowRef","hidden","setHidden","listClasses","classes","current","offsetWidth","parentElement","contains","scroll","direction","lastElementChild","scrollIntoView","behavior","block","firstElementChild","IntersectionObserver","entry","isIntersecting","classList","add","remove","root","rootMargin","threshold","disconnect","document","removeEventListener","addEventListener","join","role","tabIndex","element","closest","StorageType","setLocalValue","localStorage","setItem","JSON","stringify","stringifyObject","getLocalValue","getItem","removeLocalValue","removeItem","removeAliasId","resetUser","getDeviceId","getToken","login","token","setUserId","logout","dispatch","batch","isOnline","getAliasId","getUserId","getCurrentIdentityId","updateWallets","wallet","createWallets","createTransactions","transaction","doTransaction","createMessages","message","createNewsMessage","events","createForums","forums","forum","createGameCodes","gameCodes","gameCode","updateUsers","user","createUsers","createNewUser","room","createRooms","updateRooms","removeRooms","followRoom","changeAliasId","createAliases","alias","createNewAlias","createDocFiles","docFile","socket","socketUri","ioUri","io","forceNew","SendEvents","GetEvents","ActionEvents","ListenerEvents","addSocketListener","callback","on","params","reconnect","connect","emitSocketEvent","Promise","resolve","reject","paramsToSend","getStoredToken","emit","error","data","then","catch","logoutAction","loginAction","sentRoom","sentUser","sentAlias","updateAliases","sentWallet","sentTransaction","updateTransactions","sentDocFile","updateDocFiles","password","result","getAllAliases","getAlias","getAllTeams","getTeamsByIds","createCachedSelector","_","ids","foundTeams","getAllUsers","getUser","getCurrentUser","getAnonymousUser","getCurrentAccessLevel","createSelector","getIdentities","values","getIdentitiesByIds","map","getIdentitiesOrTeamsByIds","getIdentityById","getIdentityOrTeamById","team","getOthersIdentities","identities","filter","identity","aliasName","getCurrentUserIdentities","ListItem","elementId","scrollTo","itemRef","useLayoutEffect","onClickCall","tagName","click","getMode","changeMode","changeTarget","changeWindowOrder","removeWindow","useSelector","permissions","items","d","x","y","rx","ry","getOrder","order","otherWindows","changeOrder","hideMenu","setHideMenu","content","hideMenuBar","onHelp","hideHelp","DataHandler","useDispatch","getter","retrieveAll","onDoubleClick","done","currentUser","onSettings","alwaysMaximized","Window","menu","defaultSize","setSize","coordinates","setCoordinates","style","zIndex","maximize","hideTopBar","position","minWidth","minHeight","maxHeight","maxWidth","bounds","dragHandleClassName","enableResizing","top","topRight","topLeft","right","bottom","left","bottomRight","bottomLeft","resizeHandleStyles","onDragStart","onDragStop","newX","newY","innerWidth","onResizeStart","onResizeStop","offsetHeight","getTransactionIdsByWallets","walletIds","fromWalletId","toWalletId","reverse","transactionId","getTransactionById","from","to","customTimeCreated","timeCreated","teamName","amount","note","transactionIds","getAllWallets","getWalletById","getWalletIds","getWalletIdsByCurrentUser","identityId","Input","onChange","shouldEqual","maxLength","minLength","checked","required","placeholder","useFormContext","register","getValues","hasFocus","setHasFocus","isEmpty","setIsEmpty","defaultChecked","validate","defaultValue","onFocus","onBlur","IdentityList","partialSearch","formMethods","useForm","partialName","useWatch","control","userItems","toLowerCase","onReset","onSubmit","handleSubmit","WalletItem","walletId","setWalletId","currentWalletIds","onDone","newWalletId","useMemo","MapView","setMap","mapRef","createMap","google","MarkerClusterer","MapLabel","worldMap","maps","disableDefaultUI","fullscreenControl","keyboardShortcuts","mapTypeControl","noClear","zoomControl","panControl","overviewMapControl","rotateControl","scaleControl","streetViewControl","center","lat","lng","zoom","styles","elementType","stylers","color","featureType","weight","getAllPositions","getPositionNamesByType","positionType","positionName","PositionList","positionsSelector","Positions","positionTypes","getAllRooms","getRoomById","getRooms","isWhisper","isUser","getWhisperRooms","participantIds","getUnfollowedRoomIds","roomName","roomA","roomB","getFollowedRoomsIds","getWhisperRoom","currentIdentityId","identityRoom","getWhisperRoomName","currentIdentities","participant","secondParticipant","roomId","isLocked","roomIds","WhisperItem","WhisperList","FollowingItem","Image","image","onRemove","altText","fullImage","fullWidth","fullHeight","containerRef","showFull","setShowFull","src","alt","useIcon","setValue","inputRef","previewImage","setPreviewImage","watchImage","accept","file","files","reader","FileReader","imageName","readAsDataURL","sendMessage","text","split","messageType","switchRoom","sendNewsMessage","getMessagesByRoom","IdentityPicker","currentIdentity","InputArea","onSend","minAccessLevel","isSending","setIsSending","buttonRef","allowedImages","gpsTracking","resize","textarea","scrollHeight","toString","rows","onKeyDown","altKey","getMessageById","getAllMessages","getNews","getNewsIdsPoints","getMessageIdsByRoom","MessageItem","previousMessageId","messageId","isLatest","selected","previousMessage","lastUpdated","getTime","line","thumbFileName","thumbWidth","thumbHeight","fileName","MessageList","messageIds","latestMessageId","array","Messages","hideTopRow","Chat","currentRoomId","setRoomId","newRoomId","onCreateRoom","isSystemRoom","isTeam","Dialog","buttons","transferCall","whisperCall","createRoom","roomToCreate","followRoomAction","removeRoom","methods","topic","newRoom","createError","errors","repeatPassword","setError","removeError","loginError","onSubmitCall","Select","multiple","checkEmpty","selectedOptions","Array","option","Textarea","trim","createUser","registerDevice","updateUser","requireOffName","offName","pronouns","description","createAlias","createTransaction","transactionToCreate","toIdentity","walletOptions","getDocFileById","getDocFileIdsNames","docFileId","code","DocFile","currentDocFileId","setDocFileId","newDocFileId","onCreate","createDocFile","images","docFileToCreate","news","newsMapper","slice","NewsItem","expand","showText","setShowText","NewsList","newsMessage","News","newsRoom","onCreateNews","newsCost","followError","newError","openApp","App","StrictMode","ElementQueries","require","polyfill","listen","render","getElementById"],"mappings":"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","file":"static/js/main.3b187fff.chunk.js","sourcesContent":["/**\n * Beautifies number by adding a 0 before the number if it is lower than 10\n * @param {Number} number Number to be beautified\n * @returns {string} String with number or with 0 + number\n */\n// TODO Use built-in padding\nexport const beautifyNumber = (number) => (number > 9\n  ? `${number}`\n  : `0${number}`\n);\n","import { beautifyNumber } from '../../TextTools';\n\nexport const getRequireOffName = (state) => state.config.get('requireOffName');\nexport const getPublicRoomId = (state) => state.config.get('publicRoomId');\nexport const getBroadcastId = (state) => state.config.get('broadcastId');\nexport const getAnonymousUser = (state) => state.config.get('anonymousUser');\nexport const getAllowedImages = (state) => state.config.get('allowedImages');\nexport const getGpsTracking = (state) => state.config.get('gpsTracking');\nexport const getPermissions = (state) => state.config.get('permissions');\nexport const getNewsRoomId = (state) => state.config.get('newsRoomId');\nexport const getNewsCost = (state) => state.config.get('newsCost');\nexport const getSystemUser = (state) => state.config.get('systemUser');\n\n/**\n * Takes date and returns shorter human-readable time.\n * @static\n * @param {Object} params Parameters.\n * @param {Date|number} params.date Date.\n * @param {Number} [params.offset] Should hours be modified from the final time?\n * @param {boolean} [params.lockDate] Should the year stay unmodified?\n * @returns {Object} Human-readable time and date.\n */\nexport const getTimestamp = (state, { date, offset, lockDate }) => {\n  const newDate = new Date(date);\n  const timestamp = {};\n  const { yearModification, dayModification } = state.config;\n\n  if (offset) {\n    newDate.setHours(newDate.getHours() + offset);\n  }\n\n  if (!lockDate && !Number.isNaN(yearModification)) {\n    if (yearModification && !Number.isNaN(yearModification)) {\n      newDate.setFullYear(newDate.getFullYear() + parseInt(yearModification, 10));\n    }\n\n    if (dayModification && !Number.isNaN(dayModification)) {\n      newDate.setDate(newDate.getDate() + parseInt(dayModification, 10));\n    }\n  }\n\n  timestamp.mins = beautifyNumber(newDate.getMinutes());\n  timestamp.hours = beautifyNumber(newDate.getHours());\n  timestamp.seconds = beautifyNumber(newDate.getSeconds());\n  timestamp.month = beautifyNumber(newDate.getMonth() + 1);\n  timestamp.day = beautifyNumber(newDate.getDate());\n  timestamp.year = newDate.getFullYear();\n  timestamp.halfTime = `${timestamp.hours}:${timestamp.mins}`;\n  timestamp.fullTime = `${timestamp.halfTime}:${timestamp.seconds}`;\n  timestamp.halfDate = `${timestamp.day}/${timestamp.month}`;\n  timestamp.fullDate = `${timestamp.halfDate}/${timestamp.year}`;\n  timestamp.fullStamp = `${timestamp.halfTime} ${timestamp.fullDate}`;\n\n  return timestamp;\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 10\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"12 6 12 12 16 14\"\n});\n\nvar SvgClock = function SvgClock(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-clock\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgClock, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/clock.8dde864e.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport {\n  bool,\n  func,\n  node,\n  oneOf, string,\n} from 'prop-types';\n\nimport './Button.scss';\n\nconst Button = React.forwardRef(({\n  onClick,\n  children,\n  disabled,\n  stopPropagation,\n  className = '',\n  type = 'button',\n}, ref) => (\n  <button\n    ref={ref}\n    className={`Button ${className}`}\n    disabled={disabled}\n    type={type} /* eslint-disable-line react/button-has-type */\n    onClick={(event) => {\n      onClick(event);\n\n      if (stopPropagation) {\n        event.stopPropagation();\n      }\n    }}\n  >\n    {children}\n  </button>\n));\n\nexport default React.memo(Button);\n\nButton.propTypes = {\n  onClick: func.isRequired,\n  children: node.isRequired,\n  type: oneOf(['button', 'submit']),\n  disabled: bool,\n  className: string,\n  stopPropagation: bool,\n};\n\nButton.defaultProps = {\n  type: 'button',\n  disabled: undefined,\n  className: '',\n  stopPropagation: undefined,\n};\n","export const ALIAS = 'alias';\nexport const DEVICE = 'device';\nexport const DOCFILE = 'docFile';\nexport const FORUM = 'forum';\nexport const FORUMPOST = 'forumPost';\nexport const FORUMTHREAD = 'forumThread';\nexport const GAMECODE = 'gameCode';\nexport const INVITATION = 'invitation';\nexport const MESSAGE = 'message';\nexport const POSITION = 'position';\nexport const ROOM = 'room';\nexport const SIMPLEMSG = 'simpleMsg';\nexport const TEAM = 'team';\nexport const TEAMSCORING = 'teamScoring';\nexport const TRANSACTION = 'transaction';\nexport const USER = 'user';\nexport const WALLET = 'wallet';\n\nexport const ALIASES = 'aliases';\nexport const DEVICES = 'devices';\nexport const DOCFILES = 'docFiles';\nexport const FORUMS = 'forums';\nexport const FORUMPOSTS = 'forumPosts';\nexport const FORUMTHREADS = 'forumThreads';\nexport const GAMECODES = 'gameCodes';\nexport const INVITATIONS = 'invitations';\nexport const MESSAGES = 'messages';\nexport const POSITIONS = 'positions';\nexport const ROOMS = 'rooms';\nexport const SIMPLEMSGS = 'simpleMsgs';\nexport const TEAMS = 'teams';\nexport const TEAMSCORINGS = 'teamScorings';\nexport const TRANSACTIONS = 'transactions';\nexport const USERS = 'users';\nexport const WALLETS = 'wallets';\n\nexport const USERID = 'userId';\nexport const ROOMID = 'roomId';\nexport const CONFIG = 'config';\nexport const ONLINE = 'online';\nexport const ALIASID = 'aliasId';\nexport const WINDOWORDER = 'windowOrder';\nexport const WINDOWORDERS = 'windowOrders';\nexport const MODE = 'mode';\n","export const ChangeTypes = {\n  UPDATE: 'update',\n  CREATE: 'create',\n  REMOVE: 'remove',\n  RESET: 'reset',\n};\n\nexport const rootReducerSingle = (state, action) => {\n  const newState = new Map([...state]);\n  const { type, payload } = action;\n  const { changeType } = payload;\n  const object = payload[type];\n\n  switch (changeType) {\n    case ChangeTypes.CREATE: {\n      newState.set(object.objectId, object);\n\n      return newState;\n    }\n    case ChangeTypes.UPDATE: {\n      const existing = newState.get(object.objectId) || {};\n      const updated = { ...existing, ...object };\n\n      if (existing === updated) {\n        return state;\n      }\n\n      newState.set(object.objectId, updated);\n\n      return newState;\n    }\n    case ChangeTypes.REMOVE: {\n      if (!newState.has(object.objectId)) {\n        return state;\n      }\n\n      newState.delete(object.objectId);\n\n      return newState;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport const rootReducerMultiple = (state, action) => {\n  const { type, payload } = action;\n  const { reset, changeType } = payload;\n  const newState = reset\n    ? new Map()\n    : new Map([...state]);\n  const objects = payload[type];\n\n  switch (changeType) {\n    case ChangeTypes.CREATE: {\n      objects.forEach((object) => newState.set(object.objectId, object));\n\n      return newState;\n    }\n    case ChangeTypes.UPDATE: {\n      objects\n        .forEach((object) => {\n          const existing = newState.get(object.objectId) || {};\n          const updated = { ...existing, ...object };\n\n          if (existing !== updated) {\n            newState.set(object.objectId, updated);\n          }\n        });\n\n      return newState;\n    }\n    case ChangeTypes.REMOVE: {\n      objects.forEach((object) => newState.delete(object.objectId));\n\n      return newState;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import { MESSAGE, MESSAGES } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport const MessageType = {\n  CHAT: 'chat',\n  WHISPER: 'whisper',\n  BROADCAST: 'broadcast',\n  MESSAGE: 'message',\n  NEWS: 'news',\n};\n\nexport default function messagesReducer(state = new Map(), action) {\n  if (action.type === MESSAGE) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === MESSAGES) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { ONLINE } from '../actionTypes';\n\nexport const Status = {\n  ONLINE: 'online',\n  OFFLINE: 'offline',\n  RECONNECTING: 'reconnecting',\n};\n\nexport default function onlineReducer(state = Status.OFFLINE, action) {\n  if (action.type === ONLINE) {\n    const { payload } = action;\n    const { online } = payload;\n\n    return online;\n  }\n\n  return state;\n}\n","export const AccessLevels = {\n  ANONYMOUS: 0,\n  STANDARD: 1,\n  PRIVILEGED: 2,\n  MODERATOR: 3,\n  ADMIN: 4,\n  SUPERUSER: 5,\n  GOD: 6,\n};\n\n/**\n * Checks if user has access, is admin or can see the object.\n * @param {Object} params Parameter.\n * @param {Object} params.objectToAccess Object to access.\n * @param {Object} params.toAuth Object to auth.\n * @returns {Object} Does the user have access to the object?\n */\nexport const hasAccessTo = ({\n  objectToAccess,\n  toAuth,\n}) => {\n  if (!objectToAccess || !toAuth) {\n    return {\n      canSee: false,\n      hasFullAccess: false,\n      hasAccess: false,\n    };\n  }\n\n  const {\n    ownerId,\n    ownerAliasId,\n    teamId,\n    isPublic,\n    visibility,\n    teamIds = [],\n    userIds = [],\n    userAdminIds = [],\n    teamAdminIds = [],\n  } = objectToAccess;\n  const {\n    hasFullAccess,\n    partOfTeams = [],\n    accessLevel = AccessLevels.ANONYMOUS,\n    objectId: authUserId,\n    teamIds: authTeamIds = [],\n    aliases = [],\n  } = toAuth;\n\n  const foundOwnerAlias = ownerAliasId && aliases.includes(ownerAliasId);\n  const partOfTeam = teamId && partOfTeams.includes(teamId);\n\n  const userHasAccess = userIds.concat([ownerId]).includes(authUserId);\n  const teamHasAccess = partOfTeam || teamIds.find((id) => authTeamIds.includes(id));\n  const aliasHasAccess = foundOwnerAlias || aliases.find((aliasId) => userIds.includes(aliasId));\n  const userHasAdminAccess = userAdminIds.includes(authUserId);\n  const aliasHasAdminAccess = foundOwnerAlias || aliases.find((aliasId) => userAdminIds.includes(aliasId));\n  const teamHasAdminAccess = partOfTeam || teamAdminIds.find((adminId) => authTeamIds.includes(adminId));\n  const isAdmin = ownerId === authUserId || hasFullAccess || accessLevel >= AccessLevels.ADMIN;\n\n  return {\n    canSee: isAdmin || isPublic || userHasAccess || teamHasAccess || aliasHasAccess || accessLevel >= visibility,\n    hasAccess: isAdmin || isPublic || userHasAccess || teamHasAccess || aliasHasAccess,\n    hasFullAccess: isAdmin || userHasAdminAccess || teamHasAdminAccess || aliasHasAdminAccess,\n  };\n};\n","import { CONFIG } from '../actionTypes';\nimport { AccessLevels } from '../../AccessCentral';\n\nconst defaultState = new Map();\n\ndefaultState.set('broadcastId', '111111111111111111111116');\ndefaultState.set('publicRoomId', '111111111111111111111110');\ndefaultState.set('newsRoomId', '111111111111111111111114');\ndefaultState.set('defaultForum', '111111111111111111111120');\ndefaultState.set('defaultLanguage', 'en');\ndefaultState.set('centerCoordinates', { longitude: 0, latitude: 0 });\ndefaultState.set('cornerOneCoordinates', { longitude: 0, latitude: 0 });\ndefaultState.set('cornerTwoCoordinates', { longitude: 0, latitude: 0 });\ndefaultState.set('defaultZoomLevel', 15);\ndefaultState.set('yearModification', 0);\ndefaultState.set('dayModification', 0);\ndefaultState.set('requireOffName', false);\ndefaultState.set('activateTermination', false);\ndefaultState.set('allowedImages', { CHAT: false, PROFILE: false, DOCFILE: false });\ndefaultState.set('newsCost', 0);\ndefaultState.set('permissions', {\n  CreateAlias: {\n    name: 'CreateAlias',\n    accessLevel: AccessLevels.STANDARD,\n  },\n  CreateUser: {\n    name: 'CreateUser',\n    accessLevel: AccessLevels.ANONYMOUS,\n  },\n});\ndefaultState.set('anonymousUser', {\n  accessLevel: AccessLevels.ANONYMOUS,\n  followingRooms: ['111111111111111111111110'],\n  objectId: '-1',\n  isAnonymous: true,\n  systemConfig: {},\n  aliases: [],\n});\ndefaultState.set('systemUser', {\n  objectId: '222222222222222222222220',\n  username: 'system',\n});\n// customUserFields\n// device id\n\nexport default function ConfigReducer(state = defaultState, action) {\n  if (action.type === CONFIG) {\n    const { payload } = action;\n    const { entries } = payload;\n    const newState = new Map([...state]);\n\n    entries.forEach((keyValue) => newState.set(keyValue[0], keyValue[1]));\n\n    return newState;\n  }\n\n  return state;\n}\n","import { WINDOWORDER, WINDOWORDERS } from '../actionTypes';\nimport { ChangeTypes } from './root';\n\nexport const WindowTypes = {\n  WALLET: 'Wallet',\n  CHAT: 'Chat',\n  WORLDMAP: 'Map',\n  DOCFILE: 'Files',\n  NEWS: 'News',\n  DIALOGIDENTITY: 'User',\n  DIALOGCREATEROOM: 'New room',\n  DIALOGREMOVEROOM: 'Remove room',\n  DIALOGREGISTER: 'Register',\n  DIALOGLOGIN: 'Login',\n  DIALOGCREATEALIAS: 'New alias',\n  DIALOGCREATETRANSACTION: 'Transfer',\n  DIALOGCREATEDOCFILE: 'New file',\n  DIALOGCREATENEWS: 'New article',\n  DIALOGJOINROOM: 'Join room',\n  DIALOGCONFIGSYSTEM: 'Config system',\n};\n\nconst defaultState = new Map();\n\nexport default function WindowOrderReducer(state = defaultState, action) {\n  if (action.type === WINDOWORDER) {\n    const { payload } = action;\n    const { id, value, changeType } = payload;\n    const newState = new Map([...state]);\n\n    if (changeType === ChangeTypes.UPDATE) {\n      if (newState.size > 0 && newState.get(id) && newState.get(id).index === newState.size) {\n        const existing = newState.get(id);\n\n        if (Object.keys(value).length === Object.keys(existing).length - 1 && Object.keys(value).every((key) => existing[key] === value[key])) {\n          return state;\n        }\n      }\n\n      const windowValue = { ...value };\n\n      if (!newState.get(id)) {\n        windowValue.index = newState.size + 1;\n\n        newState.set(id, windowValue);\n      } else {\n        const sorted = [...newState.entries()]\n          .sort((a, b) => {\n            const valueA = a[1].index;\n            const valueB = b[1].index;\n\n            if (valueA > valueB) {\n              return 1;\n            }\n\n            if (valueA < valueB) {\n              return -1;\n            }\n\n            return 0;\n          });\n\n        const [window] = sorted.splice(sorted.findIndex(([key]) => key === id), 1);\n        window[1] = { ...windowValue };\n\n        sorted.push(window);\n\n        console.log(sorted);\n\n        sorted.forEach(([key, entryValue], index) => {\n          const newValue = {\n            ...entryValue,\n            index: index + 1,\n          };\n\n          newState.set(key, newValue);\n        });\n      }\n\n      return newState;\n    }\n\n    if (changeType === ChangeTypes.REMOVE) {\n      newState.delete(id);\n\n      return newState;\n    }\n\n    return state;\n  }\n\n  if (action.type === WINDOWORDERS) {\n    const { payload } = action;\n    const { windows } = payload;\n    const newState = new Map([...state]);\n\n    windows.forEach(({ id, value }) => newState.set(id, value));\n\n    return newState;\n  }\n\n  return state;\n}\n","import { MODE } from '../actionTypes';\n\nexport const Modes = {\n  DEFAULT: 'default',\n  HELP: 'help',\n  OFF: 'off',\n};\n\nconst initialState = {\n  mode: Modes.DEFAULT,\n  target: '',\n};\n\nexport default function modeReducer(state = initialState, action) {\n  if (action.type === MODE) {\n    const { payload } = action;\n    const { mode, target } = payload;\n    const newState = { ...state };\n\n    if (!mode && target && state.target === target) {\n      return state;\n    }\n\n    if (!target || mode === state.mode) {\n      newState.target = initialState.target;\n    } else {\n      newState.target = target;\n    }\n\n    if (mode === state.mode) {\n      newState.mode = initialState.mode;\n    } else if (mode) {\n      newState.mode = mode;\n    }\n\n    return newState;\n  }\n\n  return state;\n}\n","import { combineReducers } from 'redux';\n\nimport users from './users';\nimport aliases from './aliases';\nimport messages from './messages';\nimport online from './online';\nimport rooms from './rooms';\nimport positions from './positions';\nimport transactions from './transactions';\nimport userId from './userId';\nimport wallets from './wallets';\nimport config from './config';\nimport aliasId from './aliasId';\nimport windowOrder from './windowOrder';\nimport teams from './teams';\nimport docFiles from './docFiles';\nimport mode from './mode';\n\nexport default combineReducers({\n  users,\n  aliases,\n  messages,\n  online,\n  rooms,\n  userId,\n  positions,\n  transactions,\n  wallets,\n  config,\n  aliasId,\n  windowOrder,\n  teams,\n  docFiles,\n  mode,\n});\n","import { USER, USERS } from '../actionTypes';\nimport { rootReducerSingle, rootReducerMultiple } from './root';\n\nexport default function usersReducer(state = new Map(), action) {\n  if (action.type === USER) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === USERS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { ALIAS, ALIASES } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function aliasesReducer(state = new Map(), action) {\n  if (action.type === ALIAS) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === ALIASES) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { ROOM, ROOMS } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function roomsReducer(state = new Map(), action) {\n  if (action.type === ROOM) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === ROOMS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { USERID } from '../actionTypes';\n\nconst initialState = '-1';\n\nexport default function userIdReducer(state = initialState, action) {\n  if (action.type === USERID) {\n    const { payload } = action;\n    const { reset, userId } = payload;\n\n    return reset\n      ? initialState\n      : userId;\n  }\n\n  return state;\n}\n","import { POSITION, POSITIONS } from '../actionTypes';\nimport { rootReducerSingle, rootReducerMultiple } from './root';\n\nexport default function positionsReducer(state = new Map(), action) {\n  if (action.type === POSITION) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === POSITIONS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { TRANSACTION, TRANSACTIONS } from '../actionTypes';\nimport { rootReducerSingle, rootReducerMultiple } from './root';\n\nexport default function transactionsReducer(state = new Map(), action) {\n  if (action.type === TRANSACTION) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === TRANSACTIONS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { WALLET, WALLETS } from '../actionTypes';\nimport { rootReducerSingle, rootReducerMultiple } from './root';\n\nexport default function transactionsReducer(state = new Map(), action) {\n  if (action.type === WALLET) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === WALLETS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { ALIASID } from '../actionTypes';\n\nconst initialState = null;\n\nexport default function aliasIdReducer(state = initialState, action) {\n  if (action.type === ALIASID) {\n    const { payload } = action;\n    const { reset, aliasId } = payload;\n\n    return reset\n      ? initialState\n      : aliasId;\n  }\n\n  return state;\n}\n","import { TEAM, TEAMS } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function teamsReducer(state = new Map(), action) {\n  if (action.type === TEAM) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === TEAMS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { DOCFILE, DOCFILES } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function docFileReducer(state = new Map(), action) {\n  if (action.type === DOCFILE) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === DOCFILES) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport rootReducer from './reducers';\n\nexport default createStore(rootReducer, applyMiddleware(thunk));\n","import React, { useCallback, useEffect, useState } from 'react';\n\nimport { getTimestamp } from '../../../../redux/selectors/config';\nimport { ReactComponent as ClockSvg } from '../../../../icons/clock.svg';\nimport Button from '../../../common/sub-components/Button/Button';\nimport store from '../../../../redux/store';\n\nimport './Clock.scss';\n\nconst Clock = () => {\n  const [date, setDate] = useState(new Date());\n  const [showTime, setShowTime] = useState(false);\n  const timestamp = getTimestamp(store.getState(), { date });\n\n  const updateTime = () => {\n    setTimeout(() => {\n      setDate(new Date());\n      updateTime();\n    }, 1000);\n  };\n\n  useEffect(() => {\n    updateTime();\n  }, []);\n\n  const onClick = useCallback(() => setShowTime(!showTime), [showTime]);\n\n  return (\n    <div\n      key=\"clock\"\n      className=\"Clock\"\n    >\n      <Button className={`icon ${showTime ? 'active' : ''}`} onClick={onClick}><ClockSvg /></Button>\n      <Button onClick={onClick} className={`time ${!showTime ? 'hide' : ''}`}>{timestamp.halfTime}</Button>\n    </div>\n  );\n};\n\nexport default React.memo(Clock);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 10\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"16 12 12 8 8 12\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 12,\n  y1: 16,\n  x2: 12,\n  y2: 8\n});\n\nvar SvgArrowUpCircle = function SvgArrowUpCircle(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-arrow-up-circle\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowUpCircle, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-up-circle.1095b4b3.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 10\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"8 12 12 16 16 12\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 12,\n  y1: 8,\n  x2: 12,\n  y2: 16\n});\n\nvar SvgArrowDownCircle = function SvgArrowDownCircle(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-arrow-down-circle\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowDownCircle, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-down-circle.c36635ee.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useRef, useState } from 'react';\nimport {\n  string,\n  arrayOf,\n  bool,\n  node,\n} from 'prop-types';\n\nimport { ReactComponent as ArrowUp } from '../../../../icons/arrow-up-circle.svg';\nimport { ReactComponent as ArrowDown } from '../../../../icons/arrow-down-circle.svg';\nimport Button from '../../sub-components/Button/Button';\n\nimport './List.scss';\n\nconst List = React.forwardRef(({\n  children,\n  title,\n  observe,\n  startRevealed = false,\n  alwaysExpanded = false,\n  checkWidth = false,\n  dropdown = false,\n  className = '',\n}, ref) => {\n  const observer = useRef();\n  const observeHelper = useRef();\n  const listRef = useRef(null);\n  const windowRef = useRef(null);\n  const [hidden, setHidden] = useState(!startRevealed && !alwaysExpanded && typeof title !== 'undefined');\n  const listClasses = [];\n  const classes = ['List'].concat([className]);\n\n  const onClick = (event) => {\n    if (dropdown && listRef.current && (!checkWidth || !windowRef.current || windowRef.current.offsetWidth < 600)) {\n      if (event.target === listRef.current || !listRef.current.parentElement.contains(event.target)) {\n        setHidden(true);\n      }\n    }\n  };\n\n  const scroll = ({ direction }) => {\n    if (direction === 'bottom' && listRef.current.lastElementChild) {\n      listRef.current.lastElementChild.scrollIntoView({ behavior: 'smooth', block: 'end' });\n    } else if (direction === 'top' && listRef.current.firstElementChild) {\n      listRef.current.firstElementChild.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    }\n  };\n\n  useEffect(() => {\n    if (listRef.current && observe) {\n      observer.current = new IntersectionObserver((entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            observeHelper.current.classList.add('hide');\n          } else {\n            observeHelper.current.classList.remove('hide');\n          }\n        });\n      }, {\n        root: listRef.current,\n        rootMargin: '50px',\n        threshold: 1,\n      });\n\n      if (observe === 'upper' && listRef.current.firstElementChild) {\n        observer.current.observe(listRef.current.firstElementChild);\n      }\n\n      if (observe === 'lower' && listRef.current.lastElementChild) {\n        observer.current.observe(listRef.current.lastElementChild);\n      }\n    }\n\n    return () => {\n      if (observer.current) {\n        observer.current.disconnect();\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    if (observer.current) {\n      observer.current.disconnect();\n\n      if (observe === 'upper' && listRef.current.firstElementChild) {\n        observer.current.observe(listRef.current.firstElementChild);\n      }\n\n      if (observe === 'lower' && listRef.current.lastElementChild) {\n        observer.current.observe(listRef.current.lastElementChild);\n      }\n    }\n  }, [children]);\n\n  useEffect(() => {\n    if (dropdown) {\n      if (!hidden) {\n        document.addEventListener('mousedown', onClick, false);\n      } else {\n        document.removeEventListener('mousedown', onClick, false);\n      }\n    }\n  }, [hidden]);\n\n  if (!hidden) {\n    classes.push('expanded');\n  } else {\n    listClasses.push('hide');\n  }\n\n  if (dropdown) {\n    listClasses.push('dropdown');\n  }\n\n  return (\n    <div\n      key=\"List\"\n      className={classes.join(' ')}\n    >\n      { title && (\n        <header\n          role=\"button\"\n          tabIndex={0}\n          key=\"listHeader\"\n          className={`toggle ${!alwaysExpanded ? 'clickable' : ''}`}\n          onClick={() => {\n            if (!alwaysExpanded) {\n              setHidden(!hidden);\n            }\n          }}\n        >\n          {title}\n        </header>\n      )}\n      {observe && observe === 'upper' && <Button key=\"upper\" className=\"upper hide\" ref={observeHelper} onClick={() => scroll({ direction: 'top' })}><ArrowUp /></Button>}\n      <ul\n        ref={(element) => {\n          listRef.current = element;\n\n          if (ref) {\n            ref.current = element;\n          }\n\n          if (element) {\n            windowRef.current = element.closest('.Window');\n          }\n        }}\n        key=\"listElem\"\n        className={`${listClasses.join(' ')}`}\n        onClick={(event) => {\n          if (dropdown) {\n            onClick(event);\n\n            event.stopPropagation();\n          }\n        }}\n      >\n        {children}\n      </ul>\n      {observe && observe === 'lower' && <Button key=\"lower\" className=\"lower hide\" ref={observeHelper} onClick={() => scroll({ direction: 'bottom' })}><ArrowDown /></Button>}\n    </div>\n  );\n});\n\nexport default React.memo(List);\n\nList.propTypes = {\n  children: node,\n  title: node,\n  className: string,\n  dropdown: bool,\n  checkWidth: bool,\n  alwaysExpanded: bool,\n  observe: string,\n  startRevealed: bool,\n};\n\nList.defaultProps = {\n  className: '',\n  children: undefined,\n  title: undefined,\n  dropdown: false,\n  checkWidth: false,\n  alwaysExpanded: false,\n  observe: undefined,\n  startRevealed: undefined,\n};\n","import { stringifyObject } from './Converters';\n\nconst StorageType = {\n  DEVICEID: 'deviceId',\n  TOKEN: 'token',\n  USERID: 'userId',\n  ALIASID: 'aliasId',\n};\n\nconst setLocalValue = (name, value) => {\n  if (typeof value === 'string') {\n    localStorage.setItem(name, value);\n  } else {\n    localStorage.setItem(name, stringifyObject(value));\n  }\n};\n\nconst getLocalValue = (name) => localStorage.getItem(name);\n\nconst removeLocalValue = (name) => localStorage.removeItem(name);\n\nconst removeToken = () => removeLocalValue(StorageType.TOKEN);\n\nconst removeUserId = () => removeLocalValue(StorageType.USERID);\n\nexport const removeAliasId = () => removeLocalValue(StorageType.ALIASID);\n\nexport const resetUser = () => {\n  removeToken();\n  removeUserId();\n  removeAliasId();\n};\n\nexport const getDeviceId = () => getLocalValue(StorageType.DEVICEID);\n\nexport const setDeviceId = (value) => setLocalValue(StorageType.DEVICEID, value);\n\nexport const getToken = () => getLocalValue(StorageType.TOKEN);\n\nexport const setToken = (value) => setLocalValue(StorageType.TOKEN, value);\n\nexport const getUserId = () => getLocalValue(StorageType.USERID);\n\nexport const setUserId = (value) => setLocalValue(StorageType.USERID, value);\n\nexport const getAliasId = () => getLocalValue(StorageType.ALIASID);\n\nexport const setAliasId = (value) => setLocalValue(StorageType.ALIASID, value);\n","/**\n * Convert string representation to object\n * @param {string} value Value to be converted\n * @returns {Object|null} Converted object. null if the value was not set\n */\nexport const convertToObject = (value) => {\n  return value\n    ? JSON.parse(value)\n    : {};\n};\n\n/**\n * Convert string to boolean\n * @param {string} value Value to be converted\n * @returns {boolean|null} Converted boolean. null if the value was not a boolean\n */\nexport const convertToBoolean = (value) => {\n  if (value === 'true') {\n    return true;\n  }\n\n  if (value === 'false') {\n    return false;\n  }\n\n  return null;\n};\n\n/**\n * Convert string to int\n * @param {string} value Value to be converted\n * @returns {number|null} Converted number. null if the value was not a number\n */\nexport const convertToInt = (value) => {\n  if (Number.isNaN(value)) {\n    return null;\n  }\n\n  return parseInt(value, 10);\n};\n\n/**\n * Convert string to float\n * @param {string} value Value to be converted\n * @returns {number|null} Converted number. null if the value was not a number\n */\nexport const convertToFloat = (value) => {\n  if (Number.isNaN(value)) {\n    return null;\n  }\n\n  return parseFloat(value);\n};\n\n/**\n * Stringifies object for JSON storageManager\n * @param {Object} value Object to stringify\n * @returns {string} Stringified object\n */\nexport const stringifyObject = (value) => {\n  return JSON.stringify(value);\n};\n","import { batch } from 'react-redux';\n\nimport { ALIASID, USERID } from '../actionTypes';\nimport { resetUser, setToken, setUserId } from '../../StorageManager';\n\nexport const login = ({ userId, token }) => {\n  setToken(token);\n  setUserId(userId);\n\n  return {\n    type: USERID,\n    payload: { userId },\n  };\n};\n\nexport const logout = () => {\n  resetUser();\n\n  return (dispatch) => {\n    batch(() => {\n      dispatch({\n        type: USERID,\n        payload: { reset: true },\n      });\n\n      dispatch({\n        type: ALIASID,\n        payload: { reset: true },\n      });\n    });\n  };\n};\n","import { Status } from '../reducers/online';\n\nexport const isOnline = (state) => state.online === Status.ONLINE;\nexport const isReconnecting = (state) => state.online === Status.RECONNECTING;\n","import { batch } from 'react-redux';\n\nimport { CONFIG, ONLINE } from '../actionTypes';\nimport { Status } from '../reducers/online';\n\nexport const online = () => ({\n  type: ONLINE,\n  payload: { online: Status.ONLINE },\n});\n\nexport const offline = () => ({\n  type: ONLINE,\n  payload: { online: Status.OFFLINE },\n});\n\nexport const startup = (config) => (dispatch) => {\n  batch(() => {\n    dispatch({\n      type: CONFIG,\n      payload: {\n        entries: Object.entries(config),\n      },\n    });\n    dispatch(online());\n  });\n};\n","export const getAliasId = (state) => state.aliasId;\n","import { getAliasId } from './aliasId';\n\nexport const getUserId = (state) => state.userId;\n\nexport const getCurrentIdentityId = (state) => getAliasId(state) || getUserId(state);\n","import { WALLET, WALLETS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateWallets = ({ wallets }) => {\n  if (wallets.length === 1) {\n    return {\n      type: WALLET,\n      payload: {\n        wallet: wallets[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: WALLETS,\n    payload: {\n      wallets,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createWallets = ({ wallets }) => {\n  if (wallets.length === 1) {\n    return {\n      type: WALLET,\n      payload: {\n        wallet: wallets[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: WALLETS,\n    payload: {\n      wallets,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import { batch } from 'react-redux';\n\nimport { TRANSACTION, TRANSACTIONS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\nimport { updateWallets } from './wallets';\n\nexport const updateTransactions = ({ transactions }) => {\n  if (transactions.length === 1) {\n    return {\n      type: TRANSACTION,\n      payload: {\n        transaction: transactions[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: TRANSACTIONS,\n    payload: {\n      transactions,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createTransactions = ({ transactions }) => {\n  if (transactions.length === 1) {\n    return {\n      type: TRANSACTION,\n      payload: {\n        transaction: transactions[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: TRANSACTIONS,\n    payload: {\n      transactions,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const doTransaction = ({ transaction, wallet }) => (dispatch) => {\n  batch(() => {\n    dispatch(createTransactions({ transactions: [transaction] }));\n    dispatch(updateWallets({ wallets: [wallet] }));\n  });\n};\n","import { batch } from 'react-redux';\n\nimport { MESSAGE, MESSAGES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\nimport { createTransactions } from './transactions';\nimport { updateWallets } from './wallets';\n\nexport const createMessages = ({ messages }) => {\n  if (messages.length === 1) {\n    return {\n      type: MESSAGE,\n      payload: {\n        changeType: ChangeTypes.CREATE,\n        message: messages[0],\n      },\n    };\n  }\n\n  return {\n    type: MESSAGES,\n    payload: {\n      messages,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const createNewsMessage = ({ message, transaction, wallet }) => async (dispatch) => {\n  batch(() => {\n    dispatch(createMessages({ messages: [message] }));\n    dispatch(createTransactions({ transactions: [transaction] }));\n    dispatch(updateWallets({ wallets: [wallet] }));\n  });\n};\n","import store from '../../redux/store';\nimport { createMessages } from '../../redux/actions/messages';\nimport { ChangeTypes } from '../../redux/reducers/root';\n\nconst events = {\n  MSGCHAT: 'chatMsg',\n  MSGWHISPER: 'whisper',\n};\n\nexport const chatMessage = () => ({\n  event: events.MSGCHAT,\n  callback: ({ data, error }) => {\n    if (data && data.message) {\n      const { message, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createMessages({ messages: [message] }));\n      }\n\n      return;\n    }\n\n    console.log(events.MSGCHAT, error, data);\n  },\n});\n\nexport const whisperMessage = () => ({\n  event: events.MSGWHISPER,\n  callback: ({ data, error }) => {\n    if (data && data.message) {\n      const { message, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createMessages({ messages: [message] }));\n      }\n\n      return;\n    }\n\n    console.log(events.MSGWHISPER, error, data);\n  },\n});\n","import { FORUM, FORUMS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateForums = ({ forums }) => {\n  if (forums.length === 1) {\n    return {\n      type: FORUM,\n      payload: {\n        forum: forums[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: FORUMS,\n    payload: {\n      forums,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createForums = ({ forums }) => {\n  if (forums.length === 1) {\n    return {\n      type: FORUM,\n      payload: {\n        forum: forums[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: FORUMS,\n    payload: {\n      forums,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import { GAMECODE, GAMECODES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateGameCodes = ({ gameCodes }) => {\n  if (gameCodes.length === 1) {\n    return {\n      type: GAMECODE,\n      payload: {\n        gameCode: gameCodes[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: GAMECODES,\n    payload: {\n      gameCodes,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createGameCodes = ({ gameCodes }) => {\n  if (gameCodes.length === 1) {\n    return {\n      type: GAMECODE,\n      payload: {\n        gameCode: gameCodes[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: GAMECODES,\n    payload: {\n      gameCodes,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import { batch } from 'react-redux';\n\nimport { USER, USERS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n// eslint-disable-next-line import/no-cycle\nimport { createRooms } from './rooms';\nimport { createWallets } from './wallets';\nimport { createForums } from './forums';\nimport { createGameCodes } from './gameCodes';\nimport store from '../store';\n\nexport const updateUsers = ({ users }) => {\n  if (users.length === 1) {\n    return {\n      type: USER,\n      payload: {\n        user: users[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: USERS,\n    payload: {\n      users,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createUsers = ({ users }) => {\n  if (users.length === 1) {\n    return {\n      type: USER,\n      payload: {\n        user: users[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: USERS,\n    payload: {\n      users,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const createNewUser = ({\n  user,\n  wallet,\n  room,\n  forum,\n  gameCode,\n}) => async (dispatch) => {\n  batch(() => {\n    dispatch(createUsers({ users: [user] }));\n    dispatch(createRooms({ rooms: [room] }));\n    dispatch(createWallets({ wallets: [wallet] }));\n    dispatch(createForums({ forums: [forum] }));\n    dispatch(createGameCodes({ gameCodes: [gameCode] }));\n  });\n};\n","import { batch } from 'react-redux';\n\nimport { ROOM, ROOMS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n// eslint-disable-next-line import/no-cycle\nimport { updateUsers } from './users';\n\nexport const createRooms = ({ rooms }) => {\n  if (rooms.length === 1) {\n    return {\n      type: ROOM,\n      payload: {\n        changeType: ChangeTypes.CREATE,\n        room: rooms[0],\n      },\n    };\n  }\n\n  return {\n    type: ROOMS,\n    payload: {\n      rooms,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const updateRooms = ({ rooms }) => {\n  if (rooms.length === 1) {\n    return {\n      type: ROOM,\n      payload: {\n        changeType: ChangeTypes.UPDATE,\n        room: rooms[0],\n      },\n    };\n  }\n\n  return {\n    type: ROOMS,\n    payload: {\n      rooms,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const removeRooms = ({ rooms }) => {\n  if (rooms.length === 1) {\n    return {\n      type: ROOM,\n      payload: {\n        changeType: ChangeTypes.REMOVE,\n        room: rooms[0],\n      },\n    };\n  }\n\n  return {\n    type: ROOMS,\n    payload: {\n      rooms,\n      changeType: ChangeTypes.REMOVE,\n    },\n  };\n};\n\nexport const followRoom = ({ room, user }) => (dispatch) => {\n  batch(() => {\n    dispatch(updateRooms({ rooms: [room] }));\n    dispatch(updateUsers({ users: [user] }));\n  });\n};\n","import { batch } from 'react-redux';\n\nimport store from '../../redux/store';\nimport { createRooms, removeRooms, updateRooms } from '../../redux/actions/rooms';\nimport { ChangeTypes } from '../../redux/reducers/root';\nimport { updateUsers } from '../../redux/actions/users';\n\nconst events = {\n  ROOM: 'room',\n  FOLLOWER: 'follower',\n  FOLLOW: 'followRoom',\n};\n\nexport const room = () => ({\n  event: events.ROOM,\n  callback: ({ error, data }) => {\n    if (data && data.room) {\n      const { room: sentRoom, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createRooms({ rooms: [sentRoom] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateRooms({ rooms: [sentRoom] }));\n      } else if (changeType === ChangeTypes.REMOVE) {\n        store.dispatch(removeRooms({ rooms: [sentRoom] }));\n      }\n\n      return;\n    }\n\n    console.log(events.ROOM, error, data);\n  },\n});\n\nexport const follow = () => ({\n  event: events.FOLLOW,\n  callback: ({ error, data }) => {\n    if (data && data.room && data.user) {\n      store.dispatch(async (dispatch) => {\n        batch(() => {\n          dispatch(updateRooms({ rooms: [data.room] }));\n          dispatch(updateUsers({ users: [data.user] }));\n        });\n      });\n\n      return;\n    }\n\n    console.log(events.FOLLOW, error, data);\n  },\n});\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { createUsers, updateUsers } from '../../redux/actions/users';\n\nconst events = {\n  USER: 'user',\n};\n\nexport const user = () => ({\n  event: events.USER,\n  callback: ({ error, data }) => {\n    if (data && data.user) {\n      const { user: sentUser, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createUsers({ users: [sentUser] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateUsers({ users: [sentUser] }));\n      }\n\n      return;\n    }\n\n    console.log(events.USER, error, data);\n  },\n});\n","import { ALIASID } from '../actionTypes';\nimport { removeAliasId, setAliasId } from '../../StorageManager';\n\nexport const changeAliasId = ({ aliasId }) => {\n  if (!aliasId) {\n    removeAliasId();\n\n    return {\n      type: ALIASID,\n      payload: { reset: true },\n    };\n  }\n\n  setAliasId(aliasId);\n\n  return {\n    type: ALIASID,\n    payload: {\n      aliasId,\n    },\n  };\n};\n","import { batch } from 'react-redux';\n\nimport { ALIAS, ALIASES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\nimport { createRooms } from './rooms';\nimport { createWallets } from './wallets';\n\nexport const updateAliases = ({ aliases }) => {\n  if (aliases.length === 1) {\n    return {\n      type: ALIAS,\n      payload: {\n        alias: aliases[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: ALIASES,\n    payload: {\n      aliases,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createAliases = ({ aliases }) => {\n  if (aliases.length === 1) {\n    return {\n      type: ALIAS,\n      payload: {\n        alias: aliases[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: ALIASES,\n    payload: {\n      aliases,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const createNewAlias = ({\n  alias,\n  wallet,\n  room,\n  // forum,\n  // gameCode,\n}) => async (dispatch) => {\n  batch(() => {\n    dispatch(createAliases({ aliases: [alias] }));\n    dispatch(createRooms({ rooms: [room] }));\n    dispatch(createWallets({ wallets: [wallet] }));\n    // dispatch(createForums({ forums: [forum] }));\n    // dispatch(createGameCodes({ gameCodes: [gameCode] }));\n  });\n};\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { createAliases, updateAliases } from '../../redux/actions/aliases';\n\nconst events = {\n  ALIAS: 'alias',\n};\n\nexport const alias = () => ({\n  event: events.ALIAS,\n  callback: ({ error, data }) => {\n    if (data && data.alias) {\n      const { alias: sentAlias, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createAliases({ aliases: [sentAlias] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateAliases({ aliases: [sentAlias] }));\n      }\n\n      return;\n    }\n\n    console.log(events.ALIAS, error, data);\n  },\n});\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { createWallets, updateWallets } from '../../redux/actions/wallets';\n\nconst events = {\n  WALLET: 'wallet',\n};\n\nexport const wallet = () => ({\n  event: events.WALLET,\n  callback: ({ error, data }) => {\n    if (data && data.wallet) {\n      const { wallet: sentWallet, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createWallets({ wallets: [sentWallet] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateWallets({ wallets: [sentWallet] }));\n      }\n\n      return;\n    }\n\n    console.log(events.WALLET, error, data);\n  },\n});\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { doTransaction, updateTransactions } from '../../redux/actions/transactions';\n\nconst events = {\n  TRANSACTION: 'transaction',\n};\n\nexport const transaction = () => ({\n  event: events.TRANSACTION,\n  callback: ({ error, data }) => {\n    if (data && data.transaction && (data.changeType === ChangeTypes.UPDATE || data.wallet)) {\n      const { transaction: sentTransaction, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(doTransaction(data));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateTransactions({ transactions: [sentTransaction] }));\n      }\n\n      return;\n    }\n\n    console.log(events.TRANSACTION, error, data);\n  },\n});\n","import { DOCFILE, DOCFILES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateDocFiles = ({ docFiles }) => {\n  if (docFiles.length === 1) {\n    return {\n      type: DOCFILE,\n      payload: {\n        docFile: docFiles[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: DOCFILES,\n    payload: {\n      docFiles,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createDocFiles = ({ docFiles }) => {\n  if (docFiles.length === 1) {\n    return {\n      type: DOCFILE,\n      payload: {\n        docFile: docFiles[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: DOCFILES,\n    payload: {\n      docFiles,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { createDocFiles, updateDocFiles } from '../../redux/actions/docFiles';\n\nconst events = {\n  DOCFILE: 'docFile',\n};\n\nexport const docFile = () => ({\n  event: events.DOCFILE,\n  callback: ({ error, data }) => {\n    if (data && data.docFile) {\n      const { docFile: sentDocFile, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createDocFiles({ docFiles: [sentDocFile] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateDocFiles({ docFiles: [sentDocFile] }));\n      }\n\n      return;\n    }\n\n    console.log(events.DOCFILE, error, data);\n  },\n});\n","import store from '../redux/store';\nimport { isOnline, isReconnecting } from '../redux/selectors/online';\nimport {\n  offline,\n  online,\n  startup,\n} from '../redux/actions/online';\nimport {\n  getDeviceId,\n  setDeviceId,\n  getToken as getStoredToken,\n  getUserId as getStoredUserId,\n  getAliasId as getStoredAliasId,\n} from '../StorageManager';\nimport {\n  logout as logoutAction,\n  login as loginAction,\n} from '../redux/actions/auth';\nimport { getUserId } from '../redux/selectors/userId';\nimport { chatMessage, whisperMessage } from './listeners/messages';\nimport { follow, room } from './listeners/rooms';\nimport { user } from './listeners/users';\nimport { changeAliasId } from '../redux/actions/aliasId';\nimport { alias } from './listeners/aliases';\nimport { wallet } from './listeners/wallets';\nimport { transaction } from './listeners/transactions';\nimport { docFile } from './listeners/docFiles';\n\nconst socket = (() => {\n  let socketUri = typeof ioUri !== 'undefined' // eslint-disable-line no-undef\n    ? ioUri // eslint-disable-line no-undef\n    : '/';\n\n  if (process.env.NODE_ENV === 'development') {\n    socketUri = `${window.location.hostname}:8888`;\n  }\n\n  return window.io(socketUri, { forceNew: true });\n})();\n\nexport const SendEvents = {\n  ALIAS: 'createAlias',\n  USER: 'createUser',\n  MESSAGE: 'sendMessage',\n  ROOM: 'createRoom',\n  INVITATION: 'createInvitation',\n  DOCFILE: 'createDocFile',\n  FORUM: 'createForum',\n  FORUMPOST: 'createForumPost',\n  FORUMTHREAD: 'createForumThread',\n  GAMECODE: 'createGameCode',\n  SIMPLEMSG: 'sendSimpleMsg',\n  TEAM: 'createTeam',\n  TRANSACTION: 'createTransaction',\n  DEVICE: 'createDevice',\n  FOLLOW: 'followRoom',\n  GETMSGBYROOM: 'getMessagesByRoom',\n  REMOVEROOM: 'removeRoom',\n  UNLOCKDOCFILE: 'unlockDocFile',\n  UPDATEUSER: 'updateUser',\n};\n\nexport const GetEvents = {\n  ALIASES: 'getAliases',\n  USERS: 'getUsers',\n  MESSAGES: 'getMessages',\n  ROOMS: 'getRooms',\n  INVITATIONS: 'getInvitations',\n  DOCFILES: 'getDocFiles',\n  FORUMS: 'getForums',\n  FORUMPOSTS: 'getForumPosts',\n  FORUMTHREADS: 'getForumThreads',\n  GAMECODES: 'getGameCodes',\n  SIMPLEMSGS: 'getSimpleMsgs',\n  TEAMS: 'getTeams',\n  TRANSACTIONS: 'getTransactions',\n  WALLETS: 'getWallets',\n  DEVICES: 'getDevices',\n};\n\nexport const ActionEvents = {\n  LOGIN: 'login',\n};\n\nexport const ListenerEvents = {\n  RECONNECT: 'reconnect',\n  STARTUP: 'startup',\n  DISCONNECT: 'disconnect',\n  MSGCHAT: 'chatMsg',\n  MSGWHISPER: 'whisper',\n};\n\n// export const EmitTypes = {\n//   FORUM: 'forum',\n//   FORUMTHREAD: 'forumThread',\n//   FORUMPOST: 'forumPost',\n\n//   DEVICE: 'device',\n//   DOCFILE: 'docFile',\n\n//   BROADCAST: 'broadcast',\n//   GAMECODE: 'gameCode',\n//   ALIAS: 'alias',\n//   CREATEPOSITION: 'createPosition',\n//   POSITION: 'position',\n\n//   TEAM: 'team',\n//   INVITATION: 'invitation',\n//   TEAMMEMBER: 'team member',\n//   LOGOUT: 'logout',\n//   BAN: 'ban',\n//   WALLET: 'wallet',\n//   TRANSACTION: 'transaction',\n//   TEAMSCORING: 'teamScoring',\n//   TERMINATE: 'terminate',\n//   SENDMSG: 'sendMessage',\n//   UPDATEPOSITION: 'updatePosition',\n//   UPDATEPOSITIONCOORDINATES: 'updatePositionCoordinates',\n//   ,\n//   BANUSER: 'banUser',\n//   UNBANUSER: 'unbanUser',\n//   VERIFYUSER: 'verifyUser',\n//   CHANGEPASSWORD: 'changePassword',\n//\n//   UPDATEWALLET: 'updateWallet',\n//   UNFOLLOW: 'unfollowRoom',\n//   CREATETRANSACTION: 'createTransaction',\n//   INVITETEAM: 'inviteToTeam',\n//   LEAVETEAM: 'leaveTeam',\n//   SIMPLEMSG: 'simpleMsg',\n//   INVITEROOM: 'inviteToRoom',\n//   DECLINEINVITE: 'decline',\n//   ACCEPTTEAM: 'acceptTeamInvitation',\n//   ACCEPTROOM: 'acceptRoomInvitation',\n//   SENDROOMINVITE: 'sendInvitationToRoom',\n//   GETUSERBYCODE: 'getUserByCode',\n//   USEGAMECODE: 'useGameCode',\n//   CONNECTUSER: 'connectUser',\n// };\n\nexport const addSocketListener = async ({ event, callback }) => {\n  socket.on(event, (params) => { console.log(event, params); callback(params); });\n};\n\nexport const reconnect = () => {\n  if (!isReconnecting(store.getState())) {\n    socket.disconnect();\n    socket.connect();\n  }\n};\n\n/**\n * Emit event through socket.io.\n * @param {string} event Event to emit.\n * @param {Object} [params] Parameters to send in the emit.\n */\nexport const emitSocketEvent = async (event, params = {}) => new Promise((resolve, reject) => {\n  const paramsToSend = params;\n  paramsToSend.token = getStoredToken();\n\n  if (!isOnline(store.getState())) {\n    reconnect();\n  }\n\n  socket.emit(event, paramsToSend, ({ error, data }) => {\n    if (error) {\n      reject(error);\n    } else {\n      resolve(data);\n    }\n  });\n});\n\nif (process.env.NODE_ENV === 'development') {\n  setInterval(() => {\n    emitSocketEvent('ping').catch(() => {\n      console.log('ping failed');\n    });\n  }, 1000);\n}\n\naddSocketListener({\n  event: ListenerEvents.RECONNECT,\n  callback: () => {\n    if (getUserId(store.getState)) {\n      emitSocketEvent('updateId', {})\n        .then(() => {\n          store.dispatch(online());\n        })\n        .catch((error) => {\n          console.log(error);\n          store.dispatch(logoutAction());\n        });\n    }\n  },\n});\n\naddSocketListener({\n  event: ListenerEvents.STARTUP,\n  callback: ({ data }) => {\n    const userId = getStoredUserId();\n    const token = getStoredToken();\n    const aliasId = getStoredAliasId();\n\n    if (userId && token) {\n      store.dispatch(loginAction({\n        userId,\n        token,\n      }));\n    }\n\n    if (aliasId) {\n      store.dispatch(changeAliasId({ aliasId }));\n    }\n\n    if (!getDeviceId()) {\n      setDeviceId('1234567890123456');\n    }\n\n    store.dispatch(startup(data));\n\n    if (userId || token) {\n      emitSocketEvent('updateId', {})\n        .then(() => {\n          store.dispatch(online());\n        })\n        .catch((error) => {\n          console.log(error);\n          store.dispatch(logoutAction());\n        });\n    }\n  },\n});\n\naddSocketListener({\n  event: ListenerEvents.DISCONNECT,\n  callback: () => {\n    store.dispatch(offline());\n\n    reconnect();\n  },\n});\n\n// Messages\naddSocketListener(chatMessage());\naddSocketListener(whisperMessage());\n\n// Rooms\naddSocketListener(room());\naddSocketListener(follow());\n\n// User\naddSocketListener(user());\n\n// Aliases\naddSocketListener(alias());\n\n// Wallets\naddSocketListener(wallet());\n\n// Transactions\naddSocketListener(transaction());\n\n// DocFiles\naddSocketListener(docFile());\n","import store from '../../redux/store';\nimport { login as loginAction, logout as logoutAction } from '../../redux/actions/auth';\nimport { ActionEvents, emitSocketEvent } from '../SocketManager';\n\nexport const login = async (username, password) => {\n  const result = await emitSocketEvent(ActionEvents.LOGIN, { user: { username, password } });\n\n  const { user, token } = result;\n\n  store.dispatch(loginAction({ userId: user.objectId, token }));\n\n  return result;\n};\n\nexport const logout = async () => {\n  store.dispatch(logoutAction());\n};\n","export const getAllAliases = (state) => state.aliases;\n\nexport const getAlias = (state, { id }) => state.aliases.get(id);\n","import createCachedSelector from 're-reselect';\n\nexport const getAllTeams = (state) => state.teams;\n\nexport const getTeamById = (state, { id }) => state.teams.get(id);\n\nexport const getTeamsByIds = createCachedSelector(\n  [\n    getAllTeams,\n    (_, { ids }) => ids,\n  ],\n  (teams, ids) => {\n    const foundTeams = new Map();\n\n    ids.forEach((id) => foundTeams.set(id, teams.get(id)));\n\n    return foundTeams;\n  },\n)((_, { ids }) => `teams-${ids.join(ids)}`);\n","import { createSelector } from 'reselect';\nimport createCachedSelector from 're-reselect';\n\nimport { getAlias, getAllAliases } from './aliases';\nimport { getUserId } from './userId';\nimport { getAnonymousUser } from './config';\nimport { getAllTeams, getTeamById } from './teams';\n\nexport const getAllUsers = (state) => state.users;\n\nexport const getUser = (state, { id }) => state.users.get(id);\n\nexport const getCurrentUser = (state) => state.users.get(getUserId(state)) || getAnonymousUser(state);\n\nexport const getCurrentAccessLevel = createSelector(\n  [getCurrentUser],\n  (user) => user.accessLevel,\n);\n\nexport const getIdentities = createCachedSelector(\n  [getAllUsers, getAllAliases],\n  (users, aliases) => [...users.values(), ...aliases.values()],\n)(() => 'identities');\n\nexport const getIdentitiesByIds = createCachedSelector(\n  [\n    getAllUsers,\n    getAllAliases,\n    (_, { ids }) => ids,\n  ],\n  (users, aliases, ids) => {\n    const map = new Map();\n\n    ids.forEach((id) => map.set(id, users.get(id) || aliases.get(id)));\n\n    return map;\n  },\n)((_, { ids }) => `identities-${ids.join(' ')}`);\n\nexport const getIdentitiesOrTeamsByIds = createCachedSelector(\n  [\n    getAllUsers,\n    getAllAliases,\n    getAllTeams,\n    (_, { ids }) => ids,\n  ],\n  (users, aliases, teams, ids) => {\n    const map = new Map();\n\n    ids.forEach((id) => map.set(id, teams.get(id) || users.get(id) || aliases.get(id)));\n\n    return map;\n  },\n)((_, { ids }) => `identities-teams-${ids.join(' ')}`);\n\nexport const getIdentityById = createSelector(\n  [getUser, getAlias],\n  (user, alias) => user || alias,\n);\n\nexport const getIdentityOrTeamById = createSelector(\n  [getUser, getAlias, getTeamById],\n  (user, alias, team) => team || alias || user,\n);\n\nexport const getOthersIdentities = createCachedSelector(\n  [getIdentities, getUserId],\n  (identities, userId) => identities\n    .filter((identity) => identity.objectId !== userId && identity.ownerId !== userId && !identity.userIds.includes(userId))\n    .map((identity) => ({ objectId: identity.objectId, name: identity.aliasName || identity.username })),\n)(() => 'other-identity-ids');\n\nexport const getCurrentUserIdentities = createCachedSelector(\n  [getIdentities, getUserId],\n  (identities, userId) => identities\n    .filter((identity) => identity.objectId === userId || identity.ownerId === userId || identity.userIds.includes(userId)),\n)(() => 'current-identities');\n","import React, { useCallback, useLayoutEffect, useRef } from 'react';\nimport {\n  bool,\n  func,\n  node,\n  string,\n} from 'prop-types';\n\nimport './ListItem.scss';\n\nconst ListItem = React.forwardRef(({\n  children,\n  onClick,\n  elementId,\n  scrollTo,\n  stopPropagation = false,\n  className = '',\n}, ref) => {\n  const itemRef = useRef(null);\n\n  useLayoutEffect(() => {\n    if (scrollTo && itemRef.current) {\n      itemRef.current.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n      setTimeout(() => itemRef.current.scrollIntoView({ behavior: 'smooth', block: 'nearest' }), 300);\n    }\n  }, [scrollTo]);\n\n  const onClickCall = useCallback((event) => {\n    if (onClick) {\n      onClick(event);\n    }\n\n    if (event.target.parentElement.tagName === 'UL') {\n      event.target.parentElement.click();\n    }\n\n    if (stopPropagation) {\n      event.stopPropagation();\n    }\n  }, []);\n\n  return (\n    <li\n      ref={(element) => {\n        if (ref) {\n          // eslint-disable-next-line no-param-reassign\n          ref.current = element;\n        }\n\n        itemRef.current = element;\n      }}\n      id={elementId}\n      className={`ListItem ${onClick ? 'clickable' : ''} ${className}`}\n      onClick={onClickCall}\n    >\n      {children}\n    </li>\n  );\n});\n\nexport default React.memo(ListItem);\n\nListItem.propTypes = {\n  children: node,\n  onClick: func,\n  className: string,\n  stopPropagation: bool,\n  elementId: string,\n  scrollTo: bool,\n};\n\nListItem.defaultProps = {\n  onClick: undefined,\n  className: '',\n  stopPropagation: false,\n  elementId: undefined,\n  children: undefined,\n  scrollTo: false,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 12,\n  x2: 21,\n  y2: 12\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 6,\n  x2: 21,\n  y2: 6\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 18,\n  x2: 21,\n  y2: 18\n});\n\nvar SvgMenu = function SvgMenu(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-menu\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMenu, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/menu.74354d60.svg\";\nexport { ForwardRef as ReactComponent };","export const getMode = (state) => state.mode;\n","import { MODE } from '../actionTypes';\n\nexport const changeMode = ({ mode, target }) => ({\n  type: MODE,\n  payload: {\n    mode,\n    target,\n  },\n});\n\nexport const changeTarget = ({ target }) => ({\n  type: MODE,\n  payload: {\n    target,\n  },\n});\n","import { batch } from 'react-redux';\n\nimport { WINDOWORDER, WINDOWORDERS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\nimport { getMode } from '../selectors/mode';\nimport store from '../store';\nimport { Modes } from '../reducers/mode';\nimport { changeTarget } from './mode';\n\nexport const changeWindowOrder = ({ windows }) => {\n  if (windows.length === 1) {\n    const [{ value, id }] = windows;\n\n    return (dispatch) => {\n      batch(() => {\n        if (getMode(store.getState()).mode === Modes.HELP) {\n          dispatch(changeTarget({ target: id }));\n        }\n\n        dispatch({\n          type: WINDOWORDER,\n          payload: {\n            id,\n            value,\n            changeType: ChangeTypes.UPDATE,\n          },\n        });\n      });\n    };\n  }\n\n  return {\n    type: WINDOWORDERS,\n    payload: {\n      windows,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const removeWindow = ({ id }) => ({\n  type: WINDOWORDER,\n  payload: {\n    id,\n    changeType: ChangeTypes.REMOVE,\n  },\n});\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport List from '../../common/lists/List/List';\nimport { AccessLevels } from '../../../AccessCentral';\nimport { logout } from '../../../socket/actions/auth';\nimport { getCurrentAccessLevel } from '../../../redux/selectors/users';\nimport ListItem from '../../common/lists/List/Item/ListItem';\nimport { ReactComponent as Menu } from '../../../icons/menu.svg';\nimport store from '../../../redux/store';\nimport { changeWindowOrder } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport { getPermissions } from '../../../redux/selectors/config';\n\nconst MainList = () => {\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const permissions = useSelector(getPermissions);\n  const items = [];\n\n  if (accessLevel === permissions.CreateUser.accessLevel) {\n    items.push(\n      <ListItem\n        stopPropagation\n        key=\"register\"\n        onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGREGISTER, value: { type: WindowTypes.DIALOGREGISTER } }] }))}\n      >\n        Create user\n      </ListItem>,\n    );\n  }\n\n  if (accessLevel === AccessLevels.ANONYMOUS) {\n    items.push(\n      <ListItem\n        stopPropagation\n        key=\"login\"\n        onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGLOGIN, value: { type: WindowTypes.DIALOGLOGIN } }] }))}\n      >\n        Login\n      </ListItem>,\n    );\n  }\n\n  if (accessLevel >= permissions.CreateAlias.accessLevel) {\n    items.push(\n      <ListItem\n        stopPropagation\n        key=\"alias\"\n        onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCREATEALIAS, value: { type: WindowTypes.DIALOGCREATEALIAS } }] }))}\n      >\n        Create alias\n      </ListItem>,\n    );\n  }\n\n  if (accessLevel >= AccessLevels.STANDARD) {\n    items.push(\n      <ListItem\n        stopPropagation\n        key=\"settings\"\n        onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCONFIGSYSTEM, value: { type: WindowTypes.DIALOGCONFIGSYSTEM } }] }))}\n      >\n        Settings\n      </ListItem>,\n    );\n    items.push(\n      <ListItem\n        stopPropagation\n        key=\"logout\"\n        onClick={() => {\n          logout();\n        }}\n      >\n        Logout\n      </ListItem>,\n    );\n  }\n\n  return (\n    <List\n      dropdown\n      title={<Menu />}\n    >\n      {items}\n    </List>\n  );\n};\n\nexport default React.memo(MainList);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"\n});\n\nvar SvgChat = function SvgChat(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-message-square\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChat, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chat.20a18654.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 8,\n  y1: 2,\n  x2: 8,\n  y2: 18\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 16,\n  y1: 6,\n  x2: 16,\n  y2: 22\n});\n\nvar SvgMap = function SvgMap(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-map\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMap, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/map.5a12a8a8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 1,\n  y: 4,\n  width: 22,\n  height: 16,\n  rx: 2,\n  ry: 2\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 1,\n  y1: 10,\n  x2: 23,\n  y2: 10\n});\n\nvar SvgWallet = function SvgWallet(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-credit-card\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgWallet, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/wallet.2f800c77.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"14 2 14 8 20 8\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 16,\n  y1: 13,\n  x2: 8,\n  y2: 13\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 16,\n  y1: 17,\n  x2: 8,\n  y2: 17\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"10 9 9 9 8 9\"\n});\n\nvar SvgFile = function SvgFile(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-file-text\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgFile, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/file.621ca6ea.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 11a9 9 0 0 1 9 9\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 4a16 16 0 0 1 16 16\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 5,\n  cy: 19,\n  r: 1\n});\n\nvar SvgNews = function SvgNews(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-rss\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgNews, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/news.1ff917ca.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"12 2 2 7 12 12 22 7 12 2\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"2 17 12 22 22 17\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"2 12 12 17 22 12\"\n});\n\nvar SvgLayers = function SvgLayers(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-layers\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLayers, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/layers.62219707.svg\";\nexport { ForwardRef as ReactComponent };","export const getOrder = (state) => state.windowOrder;\n","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport List from '../../../common/lists/List/List';\nimport ListItem from '../../../common/lists/List/Item/ListItem';\nimport Button from '../../../common/sub-components/Button/Button';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder } from '../../../../redux/actions/windowOrder';\nimport { getCurrentAccessLevel } from '../../../../redux/selectors/users';\nimport { AccessLevels } from '../../../../AccessCentral';\n\nimport { ReactComponent as Chat } from '../../../../icons/chat.svg';\nimport { ReactComponent as Map } from '../../../../icons/map.svg';\nimport { ReactComponent as Wallet } from '../../../../icons/wallet.svg';\nimport { ReactComponent as File } from '../../../../icons/file.svg';\nimport { ReactComponent as News } from '../../../../icons/news.svg';\nimport { ReactComponent as Layers } from '../../../../icons/layers.svg';\nimport { getOrder } from '../../../../redux/selectors/windowOrder';\n\nimport './OpenApps.scss';\n\nconst OpenApps = () => {\n  const order = useSelector(getOrder);\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const otherWindows = [];\n\n  const changeOrder = useCallback(({ id, value }) => store.dispatch(changeWindowOrder({ windows: [{ id, value }] })), []);\n\n  order.forEach((value, key) => {\n    if (![WindowTypes.CHAT, WindowTypes.NEWS, WindowTypes.DOCFILE, WindowTypes.WORLDMAP, WindowTypes.WALLET].includes(key)) {\n      otherWindows.push(\n        <ListItem key={key}>\n          <Button\n            stopPropagation\n            onClick={() => changeOrder({ id: key, value })}\n          >\n            {key}\n          </Button>\n        </ListItem>,\n      );\n    }\n  });\n\n  return (\n    <List className=\"OpenApps\">\n      <ListItem key=\"chat\">\n        <Button\n          stopPropagation\n          key=\"chat\"\n          className={`${order.get(WindowTypes.CHAT) && order.get(WindowTypes.CHAT).index === order.size ? 'active' : ''}`}\n          onClick={() => changeOrder({ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT } })}\n        >\n          <Chat />\n        </Button>\n      </ListItem>\n      <ListItem key=\"news\">\n        <Button\n          stopPropagation\n          key=\"news\"\n          className={`${order.get(WindowTypes.NEWS) && order.get(WindowTypes.NEWS).index === order.size ? 'active' : ''}`}\n          onClick={() => changeOrder({ id: WindowTypes.NEWS, value: { type: WindowTypes.NEWS } })}\n        >\n          <News />\n        </Button>\n      </ListItem>\n      <ListItem key=\"docFile\">\n        <Button\n          stopPropagation\n          key=\"docFile\"\n          className={`${order.get(WindowTypes.DOCFILE) && order.get(WindowTypes.DOCFILE).index === order.size ? 'active' : ''}`}\n          onClick={() => changeOrder({ id: WindowTypes.DOCFILE, value: { type: WindowTypes.DOCFILE } })}\n        >\n          <File />\n        </Button>\n      </ListItem>\n      <ListItem key=\"worldMap\">\n        <Button\n          stopPropagation\n          key=\"worldMap\"\n          className={`${order.get(WindowTypes.WORLDMAP) && order.get(WindowTypes.WORLDMAP).index === order.size ? 'active' : ''}`}\n          onClick={() => changeOrder({ id: WindowTypes.WORLDMAP, value: { type: WindowTypes.WORLDMAP } })}\n        >\n          <Map />\n        </Button>\n      </ListItem>\n      {accessLevel >= AccessLevels.STANDARD && (\n        <ListItem key=\"wallet\">\n          <Button\n            stopPropagation\n            key=\"wallet\"\n            className={`${order.get(WindowTypes.WALLET) && order.get(WindowTypes.WALLET).index === order.size ? 'active' : ''}`}\n            onClick={() => changeOrder({ id: WindowTypes.WALLET, value: { type: WindowTypes.WALLET } })}\n          >\n            <Wallet />\n          </Button>\n        </ListItem>\n      )}\n      {otherWindows.length > 0 && (\n        <List\n          dropdown\n          className=\"otherWindows\"\n          title={<Layers />}\n        >\n          {otherWindows}\n        </List>\n      )}\n    </List>\n  );\n};\n\nexport default React.memo(OpenApps);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 10\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 12,\n  y1: 17,\n  x2: 12.01,\n  y2: 17\n});\n\nvar SvgHelp = function SvgHelp(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-help-circle\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgHelp, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/help.fdcad0d2.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"15 18 9 12 15 6\"\n});\n\nvar SvgChevronLeft = function SvgChevronLeft(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-chevron-left\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChevronLeft, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chevron-left.cf72922c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"9 18 15 12 9 6\"\n});\n\nvar SvgChevronRight = function SvgChevronRight(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-chevron-right\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChevronRight, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chevron-right.600403ff.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Clock from './sub-components/Clock/Clock';\nimport MainList from './lists/MainList';\nimport { isOnline } from '../../redux/selectors/online';\nimport OpenApps from './lists/OpenApps/OpenApps';\nimport Button from '../common/sub-components/Button/Button';\nimport { ReactComponent as Help } from '../../icons/help.svg';\nimport store from '../../redux/store';\nimport { changeMode, changeTarget } from '../../redux/actions/mode';\nimport { Modes } from '../../redux/reducers/mode';\nimport { getMode } from '../../redux/selectors/mode';\nimport { ReactComponent as Menu } from '../../icons/menu.svg';\nimport { ReactComponent as Wallet } from '../../icons/wallet.svg';\nimport { ReactComponent as Chat } from '../../icons/chat.svg';\nimport { ReactComponent as Map } from '../../icons/map.svg';\nimport { ReactComponent as News } from '../../icons/news.svg';\nimport { ReactComponent as File } from '../../icons/file.svg';\nimport { ReactComponent as Layers } from '../../icons/layers.svg';\nimport { ReactComponent as ClockIcon } from '../../icons/clock.svg';\nimport { ReactComponent as ChevronLeft } from '../../icons/chevron-left.svg';\nimport { ReactComponent as ChevronRight } from '../../icons/chevron-right.svg';\nimport { getCurrentUser } from '../../redux/selectors/users';\n\nimport './MenuBar.scss';\nimport { AccessLevels } from '../../AccessCentral';\n\nconst componentId = 'MenuBar';\n\nconst MenuBar = () => {\n  const [hideMenu, setHideMenu] = useState(false);\n  const { accessLevel, systemConfig = {} } = useSelector(getCurrentUser);\n  const mode = useSelector(getMode);\n  const online = useSelector(isOnline);\n  const content = [];\n  const classes = [];\n\n  if (!online) {\n    classes.push('warning');\n  }\n\n  useEffect(() => {\n    if (systemConfig.hideMenuBar) {\n      setHideMenu(true);\n    } else {\n      setHideMenu(false);\n    }\n  }, [systemConfig.hideMenuBar]);\n\n  const onHelp = useCallback(() => store.dispatch(changeMode({ mode: Modes.HELP, target: componentId })), []);\n\n  return (\n    <>\n      {\n        hideMenu\n          ? (\n            <div className=\"miniMenu\">\n              <Button\n                type=\"button\"\n                onClick={() => setHideMenu(!hideMenu)}\n              >\n                <ChevronLeft />\n              </Button>\n            </div>\n          )\n          : (\n            <>\n              <div\n                key={componentId}\n                onClick={() => {\n                  if (mode.mode === Modes.HELP) {\n                    store.dispatch(changeTarget({ target: componentId }));\n                  }\n                }}\n                className={`${componentId} ${classes.join(' ')}`}\n                id={componentId}\n              >\n                <MainList key=\"mainList\" />\n                <OpenApps key=\"openApps\" />\n                {content}\n                <div className=\"rightAligned\">\n                  {!systemConfig.hideHelp && (\n                    <Button\n                      type=\"button\"\n                      className={`helpButton ${mode.mode === Modes.HELP && mode.target === componentId ? 'active' : ''}`}\n                      onClick={onHelp}\n                    >\n                      <Help />\n                    </Button>\n                  )}\n                  <Clock />\n                </div>\n                {mode.mode === Modes.HELP && mode.target === componentId && (\n                  <div className=\"helpOverlay\">\n                    <ul>\n                      <li>\n                        <p>Overview of the app, that has everything from chat and news feed to digital currency and map.</p>\n                        <p>{'Don\\'t be afraid to experiment! You won\\'t break the system.'}</p>\n                        <p>\n                          {'There is a '}\n                          <Help />\n                          {' button in each app. The scroll is usually hidden, but you can still scroll (like in this pop-up!). Apps and menu:'}\n                        </p>\n                      </li>\n                      <li>\n                        <Chat />\n                        <span>CHAT APP Read and send messages. You have access to read Public without logging in.</span>\n                      </li>\n                      <li>\n                        <News />\n                        <span>NEWS APP Read the latest news. You need access to be able to create news.</span>\n                      </li>\n                      <li>\n                        <File />\n                        <span>FILES APP Read and create documents. You have access to read documents without logging in.</span>\n                      </li>\n                      <li>\n                        <Map />\n                        <span>MAP APP See the local, world map, track users and add new locations.</span>\n                      </li>\n                      <li>\n                        <Wallet />\n                        <span>WALLET APP Send and receive currency. You need to login to access your wallet.</span>\n                      </li>\n                      <li>\n                        <Menu />\n                        <span>MENU You can create a user, login, check your info, change settings and more here.</span>\n                      </li>\n                      <li>\n                        <Layers />\n                        <span>WINDOWS Other windows you have open (like dialog windows) will be listed here.</span>\n                      </li>\n                      <li>\n                        <ClockIcon />\n                        <span>TIME Click it to reveal the current time.</span>\n                      </li>\n                    </ul>\n                  </div>\n                )}\n              </div>\n              {accessLevel >= AccessLevels.STANDARD && (\n                <div className=\"miniMenu minimize\">\n                  <Button\n                    type=\"button\"\n                    onClick={() => setHideMenu(!hideMenu)}\n                  >\n                    <ChevronRight />\n                  </Button>\n                </div>\n              )}\n            </>\n          )\n      }\n    </>\n  );\n};\n\nexport default React.memo(MenuBar);\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  ALIASES,\n  DOCFILES,\n  FORUMPOSTS,\n  FORUMS,\n  FORUMTHREADS,\n  GAMECODES,\n  INVITATIONS,\n  MESSAGES,\n  ROOMS,\n  SIMPLEMSGS,\n  TEAMS,\n  TRANSACTIONS,\n  USERS,\n  WALLETS,\n  DEVICES,\n} from '../redux/actionTypes';\nimport {\n  emitSocketEvent,\n  GetEvents,\n} from '../socket/SocketManager';\nimport { ChangeTypes } from '../redux/reducers/root';\nimport { getUserId } from '../redux/selectors/userId';\n\nconst DataHandler = () => {\n  const dispatch = useDispatch();\n  const userId = useSelector(getUserId);\n\n  const retrieveAll = ({ reset } = {}) => {\n    [\n      { type: USERS, event: GetEvents.USERS },\n      { type: ALIASES, event: GetEvents.ALIASES },\n      { type: MESSAGES, event: GetEvents.MESSAGES },\n      { type: ROOMS, event: GetEvents.ROOMS },\n      { type: INVITATIONS, event: GetEvents.INVITATIONS },\n      { type: DOCFILES, event: GetEvents.DOCFILES },\n      { type: FORUMS, event: GetEvents.FORUMS },\n      { type: FORUMPOSTS, event: GetEvents.FORUMPOSTS },\n      { type: FORUMTHREADS, event: GetEvents.FORUMTHREADS },\n      { type: GAMECODES, event: GetEvents.GAMECODES },\n      { type: SIMPLEMSGS, event: GetEvents.SIMPLEMSGS },\n      { type: TEAMS, event: GetEvents.TEAMS },\n      { type: TRANSACTIONS, event: GetEvents.TRANSACTIONS },\n      { type: WALLETS, event: GetEvents.WALLETS },\n      { type: DEVICES, event: GetEvents.DEVICES },\n    ].forEach(async (getter) => {\n      const { event, type } = getter;\n\n      emitSocketEvent(event, {})\n        .then((result) => {\n          dispatch({\n            type,\n            payload: {\n              reset,\n              changeType: ChangeTypes.CREATE,\n              [type]: result[type],\n            },\n          });\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    });\n  };\n\n  useEffect(() => {\n    retrieveAll({ reset: true });\n  }, [userId]);\n\n  return (<></>);\n};\n\nexport default DataHandler;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"15 3 21 3 21 9\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"9 21 3 21 3 15\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 21,\n  y1: 3,\n  x2: 14,\n  y2: 10\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 21,\n  x2: 10,\n  y2: 14\n});\n\nvar SvgMaximize = function SvgMaximize(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-maximize-2\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMaximize, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/maximize.392be9ed.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 18,\n  y1: 6,\n  x2: 6,\n  y2: 18\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 6,\n  y1: 6,\n  x2: 18,\n  y2: 18\n});\n\nvar SvgClose = function SvgClose(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-x\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgClose, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/close.f8019df0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 3\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\"\n});\n\nvar SvgSettings = function SvgSettings(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-settings\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSettings, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/settings.2943c33c.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback } from 'react';\nimport {\n  func,\n  string,\n} from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport { ReactComponent as Maximize } from '../../../../icons/maximize.svg';\nimport { ReactComponent as Close } from '../../../../icons/close.svg';\nimport { ReactComponent as Settings } from '../../../../icons/settings.svg';\nimport { ReactComponent as Help } from '../../../../icons/help.svg';\nimport Button from '../../sub-components/Button/Button';\nimport store from '../../../../redux/store';\nimport { changeMode, changeTarget } from '../../../../redux/actions/mode';\nimport { Modes } from '../../../../redux/reducers/mode';\nimport { getCurrentUser } from '../../../../redux/selectors/users';\nimport { AccessLevels } from '../../../../AccessCentral';\nimport { getMode } from '../../../../redux/selectors/mode';\n\nimport './TopBar.scss';\n\nconst TopBar = ({\n  onDoubleClick,\n  title,\n  done,\n  id,\n}) => {\n  const currentUser = useSelector(getCurrentUser);\n  const mode = useSelector(getMode);\n  const { systemConfig = {} } = currentUser;\n\n  const onHelp = useCallback(() => {\n    if (mode.mode === Modes.HELP && mode.target !== id) {\n      store.dispatch(changeTarget({ target: id }));\n    } else {\n      store.dispatch(changeMode({ mode: Modes.HELP, target: id }));\n    }\n  }, [mode, id]);\n\n  const onSettings = useCallback(() => {}, []);\n\n  return (\n    <div\n      onDoubleClick={onDoubleClick}\n      className=\"TopBar\"\n    >\n      <div className=\"TopBarHandle\">\n        <span className=\"title\">{title}</span>\n      </div>\n      <div className=\"buttons\">\n        {!systemConfig.hideHelp && (\n          <Button\n            stopPropagation\n            key=\"help\"\n            className={`help ${mode.mode === Modes.HELP && mode.target === id ? 'active' : ''}`}\n            type=\"button\"\n            onClick={onHelp}\n          >\n            <Help />\n          </Button>\n        )}\n        {currentUser.accessLevel >= AccessLevels.STANDARD && (\n          <Button key=\"settings\" className=\"settings\" stopPropagation type=\"button\" onClick={onSettings}><Settings /></Button>\n        )}\n        {!systemConfig.alwaysMaximized && (\n          <Button type=\"button\" onClick={onDoubleClick}><Maximize /></Button>\n        )}\n        <Button className=\"close\" stopPropagation type=\"button\" onClick={done}><Close /></Button>\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(TopBar);\n\nTopBar.propTypes = {\n  done: func.isRequired,\n  title: string.isRequired,\n  onDoubleClick: func.isRequired,\n  id: string.isRequired,\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { Rnd } from 'react-rnd';\nimport {\n  arrayOf,\n  func,\n  string,\n  node, number,\n} from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport TopBar from './TopBar/TopBar';\nimport { getCurrentUser } from '../../../redux/selectors/users';\n\nimport './Window.scss';\n\nconst Window = ({\n  onClick,\n  children,\n  menu,\n  done,\n  index,\n  id,\n  type = 'window',\n  title = 'app',\n  className = '',\n}) => {\n  const { systemConfig = {} } = useSelector(getCurrentUser);\n  const defaultSize = type === 'window' ? { width: 640, height: 480 } : { width: 640, height: 480 };\n  const [size, setSize] = useState(defaultSize);\n  const [coordinates, setCoordinates] = useState({ x: 0, y: 0 });\n  const resizing = {\n    top: true,\n    topRight: true,\n    topLeft: true,\n    right: true,\n    bottom: true,\n    left: true,\n    bottomRight: true,\n    bottomLeft: true,\n  };\n  const style = { zIndex: index };\n\n  const maximize = useCallback(() => {\n    setCoordinates({ x: 0, y: 0 });\n    setSize({ width: '100%', height: '100%' });\n  }, []);\n\n  const onDoubleClick = useCallback(() => {\n    if (size.width === '100%' && size.height === '100%') {\n      setSize(defaultSize);\n    } else {\n      maximize();\n    }\n  }, [size, coordinates]);\n\n  useEffect(() => {\n    if (systemConfig.hideTopBar || systemConfig.alwaysMaximized) {\n      maximize();\n    }\n  }, [systemConfig]);\n\n  return (\n    <Rnd\n      style={style}\n      onClick={onClick}\n      position={coordinates}\n      className=\"rnd\"\n      size={size}\n      minWidth={300}\n      minHeight={200}\n      maxHeight=\"100%\"\n      maxWidth=\"100%\"\n      bounds=\"parent\"\n      dragHandleClassName=\"TopBarHandle\"\n      enableResizing={resizing}\n      resizeHandleStyles={{\n        top: { top: '0', width: '5px' },\n        left: { left: '0', width: '5px' },\n        right: { right: '0', width: '5px' },\n        bottom: { bottom: '0', height: '5px' },\n        bottomLeft: {\n          bottom: '0',\n          left: '0',\n          width: '10px',\n          height: '10px',\n        },\n        bottomRight: {\n          bottom: '0',\n          right: '0',\n          width: '10px',\n          height: '10px',\n        },\n        topRight: {\n          right: '0',\n          top: '0',\n          width: '10px',\n          height: '10px',\n        },\n        topLeft: {\n          left: '0',\n          top: '0',\n          width: '10px',\n          height: '10px',\n        },\n      }}\n      onDragStart={onClick}\n      onDragStop={(event, { node: element, x: newX, y: newY }) => {\n        if (coordinates && newX === coordinates.x && newY === coordinates.y) {\n          return;\n        }\n\n        // if (newX === 0 && newY === 0 && size.height !== '100%') { // Upper left\n        //   setSize({ width: '50%', height: '50%' });\n        //   setCoordinates({ x: 0, y: 0 });\n        // } else if (newX === 0 && (newY + element.offsetHeight + 35) >= window.innerHeight && size.height !== '100%') { // Lower left\n        //   setSize({ width: '50%', height: '50%' });\n        //   setCoordinates({ x: 0, y: ((window.innerHeight - 36) / 2) });\n        // } else if (newY === 0 && newX + element.offsetWidth >= window.innerWidth && size.height !== '100%') { // Upper right\n        //   setSize({ width: '50%', height: '50%' });\n        //   setCoordinates({ x: window.innerWidth / 2, y: 0 });\n        // } else if (newX + element.offsetWidth >= window.innerWidth && newY + element.offsetHeight + 35 >= window.innerHeight && size.height !== '100%') { // Lower right\n        //   setSize({ width: '50%', height: '50%' });\n        //   setCoordinates({ x: window.innerWidth / 2, y: ((window.innerHeight - 36) / 2) });\n        // }\n\n        if (newX === 0 && size.width !== '100%') { // Left\n          setSize({ width: '50%', height: '100%' });\n          setCoordinates({ x: 0, y: 0 });\n        } else if (newX + element.offsetWidth >= window.innerWidth && size.width !== '100%') { // Right\n          setSize({ width: '50%', height: '100%' });\n          setCoordinates({ x: window.innerWidth / 2, y: 0 });\n        } else {\n          setCoordinates({ x: newX, y: newY });\n        }\n        // else if (newY === 0 && size.height !== '100%') { // Up\n        //   setSize({ height: '50%', width: '100%' });\n        //   setCoordinates({ y: 0, x: 0 });\n        // } else if (newY + element.offsetHeight + 35 >= window.innerHeight && size.height !== '100%') { // Down\n        //   setSize({ height: '50%', width: '100%' });\n        //   setCoordinates({ x: 0, y: window.innerHeight / 2 });\n        // }\n      }}\n      onResizeStart={onClick}\n      onResizeStop={(event, direction, element, _, position) => {\n        if (element.offsetWidth !== size.width || element.offsetHeight !== size.height) {\n          setSize({ width: element.offsetWidth, height: element.offsetHeight });\n          setCoordinates(position);\n        }\n      }}\n    >\n      <div\n        className={`Window ${className}`}\n      >\n        {\n          !systemConfig.hideTopBar\n            ? (\n              <TopBar\n                id={id}\n                done={done}\n                title={title}\n                onDoubleClick={onDoubleClick}\n              />\n            )\n            : (<div />)\n        }\n        <div className=\"windowBox\">\n          {\n            menu\n            && (\n              <div className=\"menu\">\n                {menu}\n              </div>\n            )\n          }\n          <div className=\"content\">\n            {children}\n          </div>\n        </div>\n      </div>\n    </Rnd>\n  );\n};\n\nexport default React.memo(Window);\n\nWindow.propTypes = {\n  onClick: func.isRequired,\n  children: node.isRequired,\n  menu: node,\n  title: string,\n  className: string,\n  done: func,\n  type: string,\n  index: number.isRequired,\n  id: string.isRequired,\n};\n\nWindow.defaultProps = {\n  done: undefined,\n  className: undefined,\n  title: 'app',\n  menu: undefined,\n  type: 'window',\n};\n","import createCachedSelector from 're-reselect';\n\nexport const SortBy = {\n  DATE: 'date',\n  AMOUNT: 'amount',\n};\n\nexport const getAllTransactions = (state) => state.transactions;\n\nexport const getTransactionById = (state, { id }) => state.transactions.get(id);\n\nexport const getTransactionIdsByWallets = createCachedSelector(\n  [\n    getAllTransactions,\n    (_, { ids }) => ids,\n  ],\n  (transactions, walletIds) => [...transactions.values()]\n    .filter(({ fromWalletId, toWalletId }) => walletIds.includes(fromWalletId) || walletIds.includes(toWalletId))\n    .map(({ objectId }) => objectId)\n    .reverse(),\n)((_, { ids }) => `transaction-ids-${ids.join(' ')}`);\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getTransactionById } from '../../../../../redux/selectors/transactions';\nimport { getIdentityOrTeamById } from '../../../../../redux/selectors/users';\n\nimport './TransactionItem.scss';\nimport { getSystemUser, getTimestamp } from '../../../../../redux/selectors/config';\nimport store from '../../../../../redux/store';\n\nconst TransactionItem = ({ transactionId }) => {\n  const transaction = useSelector((state) => getTransactionById(state, { id: transactionId }));\n  const from = useSelector((state) => getIdentityOrTeamById(state, { id: transaction.fromWalletId }));\n  const to = useSelector((state) => getIdentityOrTeamById(state, { id: transaction.toWalletId })) || getSystemUser(store.getState());\n\n  return (\n    <ListItem\n      className=\"TransactionItem\"\n    >\n      <p>{getTimestamp(store.getState(), { date: new Date(transaction.customTimeCreated || transaction.timeCreated) }).fullStamp}</p>\n      <p>\n        {`${from.teamName || from.aliasName || from.username} -> ${to.teamName || to.aliasName || to.username}`}\n      </p>\n      <p>{`Amount: ${transaction.amount}`}</p>\n      {transaction.note && (\n        <p>{transaction.note}</p>\n      )}\n    </ListItem>\n  );\n};\n\nexport default React.memo(TransactionItem);\n\nTransactionItem.propTypes = {\n  transactionId: string.isRequired,\n};\n","import React from 'react';\nimport { arrayOf, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport List from '../../../common/lists/List/List';\nimport TransactionItem from './Item/TransactionItem';\nimport { getTransactionIdsByWallets } from '../../../../redux/selectors/transactions';\n\nconst TransactionList = ({ walletIds }) => {\n  const transactionIds = useSelector((state) => getTransactionIdsByWallets(state, { ids: walletIds }));\n\n  const transactionMapper = () => transactionIds.map((transactionId) => <TransactionItem key={transactionId} transactionId={transactionId} />);\n\n  return (\n    <List>\n      {transactionMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(TransactionList);\n\nTransactionList.propTypes = {\n  walletIds: arrayOf(string).isRequired,\n};\n","import createCachedSelector from 're-reselect';\n\nimport { getCurrentUser } from './users';\n\nexport const getAllWallets = (state) => state.wallets;\n\nexport const getWalletById = (state, { id }) => state.wallets.get(id);\n\nexport const getWalletIds = createCachedSelector(\n  [getAllWallets],\n  (wallets) => [...wallets.values()].map((wallet) => wallet.objectId),\n)(() => 'wallet-ids');\n\nexport const getWalletIdsByCurrentUser = createCachedSelector(\n  [getAllWallets, getCurrentUser],\n  (wallets, currentUser) => [...wallets.values()]\n    .filter((wallet) => wallet.ownerId === currentUser.objectId || currentUser.aliases.includes(wallet.ownerAliasId))\n    .map((wallet) => wallet.objectId),\n)(() => 'wallet-ids-current-user');\n","import React, { useCallback } from 'react';\nimport { string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport store from '../../../../../redux/store';\nimport { changeWindowOrder } from '../../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../../redux/reducers/windowOrder';\nimport ListItem from '../../List/Item/ListItem';\nimport { getIdentityById } from '../../../../../redux/selectors/users';\n\nconst IdentityItem = ({ identityId }) => {\n  const identity = useSelector((state) => getIdentityById(state, { id: identityId }));\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({\n      windows: [{\n        id: `${WindowTypes.DIALOGIDENTITY}-${identity.objectId}`,\n        value: {\n          identityId: identity.objectId,\n          type: WindowTypes.DIALOGIDENTITY,\n        },\n      }],\n    }));\n  }, [identity.objectId]);\n\n  return (\n    <ListItem\n      stopPropagation\n      key={identity.objectId}\n      onClick={onClick}\n    >\n      {identity.username || identity.aliasName}\n    </ListItem>\n  );\n};\n\nexport default React.memo(IdentityItem);\n\nIdentityItem.propTypes = {\n  identityId: string.isRequired,\n};\n","import React, { useState } from 'react';\nimport {\n  string,\n  bool,\n  func, number,\n} from 'prop-types';\nimport { useFormContext } from 'react-hook-form';\n\nimport './Input.scss';\n\nconst Input = ({\n  onChange,\n  name,\n  shouldEqual,\n  maxLength,\n  minLength,\n  checked,\n  type = 'text',\n  required = false,\n  placeholder = '',\n}) => {\n  const { register, getValues } = useFormContext();\n  const [hasFocus, setHasFocus] = useState(false);\n  const [isEmpty, setIsEmpty] = useState(false);\n\n  const checkEmpty = (event) => {\n    if (hasFocus && required) {\n      setIsEmpty(!event.target.value || event.target.value === '');\n    }\n  };\n\n  return (\n    <input\n      defaultChecked={checked}\n      minLength={minLength}\n      maxLength={maxLength}\n      required={required}\n      name={name}\n      ref={register({\n        maxLength,\n        minLength,\n        validate: (value) => (!shouldEqual || value === getValues(shouldEqual)) || `Must match ${shouldEqual}`,\n      })}\n      type={type}\n      defaultValue=\"\"\n      className={`Input ${isEmpty ? 'empty' : ''}`}\n      onFocus={() => {\n        if (!hasFocus) {\n          setHasFocus(true);\n        } else if (isEmpty) {\n          setIsEmpty(false);\n        }\n      }}\n      onBlur={checkEmpty}\n      onChange={(event) => {\n        if (onChange) {\n          onChange(event.target.value);\n        }\n      }}\n      placeholder={placeholder}\n    />\n  );\n};\n\nexport default React.memo(Input);\n\nInput.propTypes = {\n  onChange: func,\n  required: bool,\n  placeholder: string,\n  type: string,\n  name: string.isRequired,\n  shouldEqual: string,\n  maxLength: number,\n  minLength: number,\n  checked: bool,\n};\n\nInput.defaultProps = {\n  placeholder: '',\n  required: false,\n  type: 'text',\n  onChange: undefined,\n  shouldEqual: undefined,\n  maxLength: undefined,\n  minLength: undefined,\n  checked: undefined,\n};\n","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { FormProvider, useForm, useWatch } from 'react-hook-form';\nimport { bool } from 'prop-types';\n\nimport List from '../List/List';\nimport { getOthersIdentities } from '../../../../redux/selectors/users';\nimport IdentityItem from './Item/IdentityItem';\nimport ListItem from '../List/Item/ListItem';\nimport Input from '../../sub-components/Input/Input';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder } from '../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport Button from '../../sub-components/Button/Button';\nimport { ReactComponent as Close } from '../../../../icons/close.svg';\n\nimport './IdentityList.scss';\n\nconst IdentityList = ({\n  partialSearch = true,\n}) => {\n  const formMethods = useForm();\n  const partialName = useWatch({ control: formMethods.control, name: 'partialName' });\n  const identities = useSelector(getOthersIdentities);\n\n  const userItems = (() => {\n    if (partialName && partialName.length > 1) {\n      return identities\n        .filter(({ name }) => {\n          if (partialSearch) {\n            return name.toLowerCase().includes(partialName.toLowerCase());\n          }\n\n          return name.toLowerCase() === partialName.toLowerCase();\n        })\n        .map(({ objectId: identityId }) => <IdentityItem key={identityId} identityId={identityId} />);\n    }\n\n    return identities.map(({ objectId: identityId }) => <IdentityItem key={identityId} identityId={identityId} />);\n  })();\n\n  const onSubmit = () => {\n    if (userItems.length === 0) {\n      formMethods.reset();\n    } else if (userItems.length === 1) {\n      store.dispatch(changeWindowOrder({\n        windows: [{\n          id: `${WindowTypes.DIALOGIDENTITY}-${userItems[0].key}`,\n          value: {\n            identityId: userItems[0].key,\n            type: WindowTypes.DIALOGIDENTITY,\n          },\n        }],\n      }));\n\n      formMethods.reset();\n    }\n  };\n\n  const onReset = useCallback(() => formMethods.reset(), []);\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      className=\"IdentityList\"\n      title=\"Users\"\n    >\n      <ListItem className=\"userSearch\">\n        <FormProvider {...formMethods}>\n          <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n            <Input name=\"partialName\" placeholder=\"Find user\" />\n            <Button stopPropagation onClick={onReset}><Close /></Button>\n          </form>\n        </FormProvider>\n      </ListItem>\n      {\n        partialName && userItems.length === 0\n          ? ([<ListItem key=\"noMatch\">No match found</ListItem>])\n          : (userItems)\n      }\n    </List>\n  );\n};\n\nexport default React.memo(IdentityList);\n\nIdentityList.propTypes = {\n  partialSearch: bool,\n};\n\nIdentityList.defaultProps = {\n  partialSearch: true,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getWalletById } from '../../../../../redux/selectors/wallets';\nimport { getIdentityOrTeamById } from '../../../../../redux/selectors/users';\n\nconst WalletItem = ({ walletId, onChange, className = '' }) => {\n  const wallet = useSelector((state) => getWalletById(state, { id: walletId }));\n  const identity = useSelector((state) => getIdentityOrTeamById(state, { id: walletId }));\n\n  return (\n    <ListItem\n      className={`WalletItem ${className}`}\n      onClick={() => onChange(walletId)}\n    >\n      {identity ? `${identity.teamName || identity.aliasName || identity.username}: ${wallet.amount}` : 'Show all'}\n    </ListItem>\n  );\n};\n\nexport default React.memo(WalletItem);\n\nWalletItem.propTypes = {\n  walletId: string.isRequired,\n  onChange: func.isRequired,\n  className: string,\n};\n\nWalletItem.defaultProps = {\n  className: '',\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\n\nimport List from '../../../common/lists/List/List';\nimport { getWalletIdsByCurrentUser } from '../../../../redux/selectors/wallets';\nimport WalletItem from './Item/WalletItem';\n\nconst WalletList = ({ onChange, walletId }) => {\n  const walletIds = useSelector(getWalletIdsByCurrentUser);\n\n  const itemMapper = () => walletIds.map((id) => (\n    <WalletItem\n      key={id}\n      walletId={id}\n      onChange={onChange}\n      className={walletId === id ? 'selected' : ''}\n    />\n  ));\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      title=\"Wallets\"\n      className=\"WalletList\"\n    >\n      <WalletItem\n        className={walletId === 'showAll' ? 'selected' : ''}\n        key=\"showAll\"\n        onChange={onChange}\n        walletId=\"showAll\"\n      />\n      {itemMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(WalletList);\n\nWalletList.propTypes = {\n  onChange: func.isRequired,\n  walletId: string.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\n\nimport { getWalletIds } from '../../../../redux/selectors/wallets';\nimport WalletItem from '../Wallet/Item/WalletItem';\nimport List from '../../../common/lists/List/List';\n\nconst AdminWalletList = ({ onChange, walletId }) => {\n  const walletIds = useSelector(getWalletIds);\n\n  const itemMapper = () => walletIds.map((id) => (\n    <WalletItem\n      key={id}\n      walletId={id}\n      onChange={onChange}\n      className={walletId === id ? 'selected' : ''}\n    />\n  ));\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      title=\"[ADMIN]\"\n      className=\"WalletList\"\n    >\n      {itemMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(AdminWalletList);\n\nAdminWalletList.propTypes = {\n  onChange: func.isRequired,\n  walletId: string.isRequired,\n};\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport Window from '../common/Window/Window';\nimport TransactionList from './lists/Transaction/TransactionList';\nimport { getWalletIdsByCurrentUser } from '../../redux/selectors/wallets';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\nimport IdentityList from '../common/lists/IdentityList/IdentityList';\nimport WalletList from './lists/Wallet/WalletList';\nimport { getCurrentAccessLevel, getIdentityOrTeamById } from '../../redux/selectors/users';\nimport { AccessLevels } from '../../AccessCentral';\nimport AdminWalletList from './lists/AdminWallet/AdminWalletList';\n\nimport './Wallet.scss';\n\nconst Wallet = ({ id, index }) => {\n  const [walletId, setWalletId] = useState('showAll');\n  const currentWalletIds = useSelector(getWalletIdsByCurrentUser);\n  const identity = useSelector((state) => getIdentityOrTeamById(state, { id: walletId }));\n  const accessLevel = useSelector(getCurrentAccessLevel);\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.WALLET } }] }));\n  }, []);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onChange = useCallback((newWalletId) => setWalletId(newWalletId), []);\n\n  const menu = useMemo(() => (\n    <>\n      <WalletList key=\"walletList\" onChange={onChange} walletId={walletId} />\n      <IdentityList key=\"identityList\" />\n      {accessLevel >= AccessLevels.ADMIN && (\n        <AdminWalletList key=\"adminWalletList\" onChange={onChange} walletId={walletId} />\n      )}\n    </>\n  ), [onChange, walletId]);\n\n  return (\n    <Window\n      id={id}\n      className=\"Wallet\"\n      index={index}\n      done={onDone}\n      title={`Wallet${identity ? `: ${identity.teamName || identity.aliasName || identity.username}` : ''}`}\n      onClick={onClick}\n      menu={menu}\n    >\n      <TransactionList\n        key=\"transactionList\"\n        walletIds={walletId !== 'showAll' ? [walletId] : currentWalletIds}\n      />\n    </Window>\n  );\n};\n\nexport default React.memo(Wallet);\n\nWallet.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useEffect, useRef, useState } from 'react';\n\nimport './MapView.scss';\n\nconst MapView = () => {\n  const [map, setMap] = useState();\n  const mapRef = useRef();\n\n  const createMap = () => {\n    if (typeof window.google === 'undefined' || typeof window.MarkerClusterer === 'undefined' || typeof window.MapLabel === 'undefined') {\n      setTimeout(createMap, 1000);\n\n      return;\n    }\n\n    const worldMap = new window.google.maps.Map(mapRef.current, {\n      disableDefaultUI: true,\n      fullscreenControl: false,\n      keyboardShortcuts: false,\n      mapTypeControl: false,\n      noClear: true,\n      zoomControl: false,\n      panControl: false,\n      overviewMapControl: false,\n      rotateControl: false,\n      scaleControl: false,\n      streetViewControl: false,\n      center: { lat: -34.397, lng: 150.644 },\n      zoom: 8,\n      styles: [{\n        elementType: 'geometry',\n        stylers: [\n          { color: '#13002d' },\n        ],\n      }, {\n        elementType: 'labels',\n        stylers: [\n          { visibility: 'off' },\n        ],\n      }, {\n        featureType: 'poi',\n        stylers: [\n          { visibility: 'off' },\n        ],\n      }, {\n        featureType: 'administrative',\n        stylers: [\n          { color: '#370087' },\n        ],\n      }, {\n        featureType: 'landscape.natural.terrain',\n        stylers: [\n          { color: '#44003a' },\n        ],\n      }, {\n        featureType: 'road',\n        stylers: [\n          { color: '#6e6c6d' },\n          { weight: 0.5 },\n        ],\n      }, {\n        featureType: 'transit',\n        stylers: [\n          { visibility: 'off' },\n        ],\n      }, {\n        featureType: 'water',\n        stylers: [\n          { color: '#7d006c' },\n        ],\n      }],\n    });\n\n    setMap(worldMap);\n  };\n\n  useEffect(() => {\n    createMap();\n  }, []);\n\n  return (\n    <div\n      ref={mapRef}\n      className=\"MapView\"\n    />\n  );\n};\n\nexport default MapView;\n","import { createSelector } from 'reselect';\n\nexport const getAllPositions = (state) => state.positions;\n\nexport const getPositionNamesByType = (type) => createSelector(\n  [getAllPositions],\n  (positions) => [...positions.values()]\n    .filter(({ positionType }) => type === positionType)\n    .map(({ positionName, objectId }) => ({ positionName, objectId })),\n);\n","import React, { useMemo } from 'react';\nimport { string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport List from '../../../common/lists/List/List';\nimport { getPositionNamesByType } from '../../../../redux/selectors/positions';\nimport ListItem from '../../../common/lists/List/Item/ListItem';\n\nconst PositionList = ({ title, positionType }) => {\n  const positionsSelector = useMemo(getPositionNamesByType, []);\n  const positions = useSelector((state) => positionsSelector(state, positionType));\n\n  const positionMapper = () => positions.map((position) => (\n    <ListItem\n      key={position.objectId}\n      onClick={() => { console.log(position.objectId); }}\n    >\n      {position.positionName}\n    </ListItem>\n  ));\n\n  return (\n    <div\n      key=\"positionsList\"\n      className=\"PositionsList\"\n    >\n      <List\n        title={title}\n      >\n        {positionMapper()}\n      </List>\n    </div>\n  );\n};\n\nexport default React.memo(PositionList);\n\nPositionList.propTypes = {\n  title: string,\n  positionType: string.isRequired,\n};\n\nPositionList.defaultProps = {\n  title: undefined,\n};\n","import React from 'react';\nimport PositionList from '../lists/Position/PositionList';\n\nconst Positions = ({ positionTypes = [] }) => {\n  const listMapper = () => positionTypes.map((positionType) => (\n    <PositionList\n      title={positionType}\n      positionType={positionType}\n    />\n  ));\n\n  return (\n    <div className=\"lists Positions\">\n      {listMapper()}\n    </div>\n  );\n};\n\nexport default Positions;\n","import React, { useCallback } from 'react';\nimport { number, string } from 'prop-types';\nimport Window from '../common/Window/Window';\nimport MapView from './views/MapView';\nimport Positions from './views/Positions';\n\nimport './WorldMap.scss';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\n\nconst WorldMap = ({ id, index }) => {\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.WORLDMAP } }] }));\n  }, []);\n\n  return (\n    <Window\n      id={id}\n      index={index}\n      done={() => store.dispatch(removeWindow({ id }))}\n      className=\"WorldMap\"\n      title=\"map\"\n      onClick={onClick}\n      menu={(\n        <>\n          <Positions />\n        </>\n      )}\n    >\n      <MapView />\n    </Window>\n  );\n};\n\nexport default React.memo(WorldMap);\n\nWorldMap.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import createCachedSelector from 're-reselect';\nimport { getCurrentUser, getCurrentUserIdentities, getIdentitiesByIds } from './users';\n\nexport const getAllRooms = (state) => state.rooms;\n\nexport const getRoomById = (state, { id }) => state.rooms.get(id);\n\nconst getRooms = createCachedSelector(\n  [getAllRooms],\n  (rooms) => [...rooms.values()].filter((room) => !room.isWhisper && !room.isUser),\n)(() => 'normalRooms');\n\nexport const getWhisperRooms = createCachedSelector(\n  [getAllRooms],\n  (rooms) => [...rooms.values()]\n    .filter((room) => room.isWhisper)\n    .map(({ objectId, participantIds }) => ({ objectId, participantIds })),\n)(() => 'whisperRooms');\n\nexport const getUnfollowedRoomIds = createCachedSelector(\n  [getRooms, getCurrentUser],\n  (rooms, user) => rooms\n    .filter((room) => !user.followingRooms.includes(room.objectId)).map(({ roomName, objectId }) => ({ roomName, objectId }))\n    .sort((roomA, roomB) => {\n      const a = roomA.roomName.toLowerCase();\n      const b = roomB.roomName.toLowerCase();\n\n      if (a > b) {\n        return 1;\n      }\n\n      if (b < a) {\n        return 1;\n      }\n\n      return 0;\n    })\n    .map(({ objectId }) => objectId),\n)(() => 'unfollowedRooms');\n\nexport const getFollowedRoomsIds = createCachedSelector(\n  [getRooms, getCurrentUser],\n  (rooms, user) => rooms\n    .filter((room) => user.followingRooms.includes(room.objectId))\n    .map(({ objectId }) => objectId),\n)(() => 'followedRooms');\n\nexport const getWhisperRoom = createCachedSelector(\n  [\n    getWhisperRooms,\n    (_, { identityId, currentIdentityId }) => ({ identityId, currentIdentityId }),\n    (state, { identityId }) => getRoomById(state, { id: identityId }),\n  ],\n  (rooms, { currentIdentityId, identityId }, identityRoom) => rooms\n    .find((room) => room.participantIds.includes(currentIdentityId) && room.participantIds.includes(identityId)) || identityRoom,\n)((_, { currentIdentityId, identityId }) => `whisper-${currentIdentityId}-${identityId}`);\n\nexport const getWhisperRoomName = createCachedSelector(\n  [\n    getIdentitiesByIds,\n    getCurrentUserIdentities,\n    (_, { ids: participantIds }) => participantIds,\n  ],\n  (identities, currentIdentities, participantIds) => {\n    const participant = identities.get(participantIds[0]);\n    const secondParticipant = identities.get(participantIds[1]);\n    const name = currentIdentities\n      .find(({ objectId }) => participant.objectId === objectId || participant.ownerId === objectId || participant.userIds.includes(objectId))\n      ? `${participant.username || participant.aliasName} > ${secondParticipant.username || participant.aliasName}`\n      : `${secondParticipant.username || participant.aliasName} > ${participant.username || participant.aliasName}`;\n\n    return name;\n  },\n)((_, { ids }) => `w-name-${ids.join(' ')}`);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 3,\n  y: 11,\n  width: 18,\n  height: 11,\n  rx: 2,\n  ry: 2\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 11V7a5 5 0 0 1 10 0v4\"\n});\n\nvar SvgLock = function SvgLock(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-lock\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLock, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/lock.5b8f2ff4.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getRoomById } from '../../../../../redux/selectors/rooms';\nimport { ReactComponent as Lock } from '../../../../../icons/lock.svg';\nimport store from '../../../../../redux/store';\nimport { changeWindowOrder } from '../../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../../redux/reducers/windowOrder';\n\nimport './RoomItem.scss';\n\nconst RoomItem = ({ roomId }) => {\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id: `${WindowTypes.DIALOGJOINROOM}-${roomId}`, value: { type: WindowTypes.DIALOGJOINROOM, roomId } }] }))\n  }, [roomId]);\n\n  return (\n    <ListItem\n      className=\"RoomItem\"\n      key={roomId}\n      onClick={onClick}\n    >\n      {room.roomName}\n      {room.isLocked && (\n        <div className=\"lock\"><Lock /></div>\n      )}\n    </ListItem>\n  );\n};\n\nexport default React.memo(RoomItem);\n\nRoomItem.propTypes = {\n  roomId: string.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func } from 'prop-types';\n\nimport List from '../../../common/lists/List/List';\nimport { getUnfollowedRoomIds } from '../../../../redux/selectors/rooms';\nimport RoomItem from './Item/RoomItem';\n\nconst RoomList = ({ onChange }) => {\n  const roomIds = useSelector(getUnfollowedRoomIds);\n\n  const roomMapper = () => roomIds.map((roomId) => (\n    <RoomItem\n      key={roomId}\n      roomId={roomId}\n      onChange={onChange}\n    />\n  ));\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      key=\"roomList\"\n      className=\"RoomList\"\n      title=\"Rooms\"\n    >\n      {roomMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(RoomList);\n\nRoomList.propTypes = {\n  onChange: func.isRequired,\n};\n","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  arrayOf,\n  func, shape,\n  string,\n} from 'prop-types';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getWhisperRoomName } from '../../../../../redux/selectors/rooms';\n\nconst WhisperItem = ({ room, onChange, className }) => {\n  const roomName = useSelector((state) => getWhisperRoomName(state, { ids: room.participantIds }));\n\n  const onClick = useCallback(() => {\n    onChange({ roomId: room.objectId, roomName });\n  }, [room]);\n\n  return (\n    <ListItem\n      className={className}\n      key={room.objectId}\n      onClick={onClick}\n    >\n      {roomName}\n    </ListItem>\n  );\n};\n\nexport default React.memo(WhisperItem);\n\nWhisperItem.propTypes = {\n  room: shape({\n    participantIds: arrayOf(string),\n  }).isRequired,\n  onChange: func.isRequired,\n  className: string,\n};\n\nWhisperItem.defaultProps = {\n  className: undefined,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\nimport { getWhisperRooms } from '../../../../redux/selectors/rooms';\nimport List from '../../../common/lists/List/List';\nimport WhisperItem from './Item/WhisperItem';\n\nconst WhisperList = ({ onChange, roomId }) => {\n  const rooms = useSelector(getWhisperRooms);\n\n  const roomMapper = () => rooms.map((room) => (\n    <WhisperItem key={room.objectId} room={room} onChange={onChange} className={`${room.objectId === roomId ? 'selected' : ''}`} />\n  ));\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      key=\"whisperList\"\n      className=\"WhisperList\"\n      title=\"PM\"\n    >\n      {roomMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(WhisperList);\n\nWhisperList.propTypes = {\n  onChange: func.isRequired,\n  roomId: string,\n};\n\nWhisperList.defaultProps = {\n  roomId: undefined,\n};\n","import React, { useCallback } from 'react';\nimport { func, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getRoomById } from '../../../../../redux/selectors/rooms';\n\nconst FollowingItem = ({ roomId, onChange, className = '' }) => {\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n\n  const onClick = useCallback(() => onChange({ roomId }), [roomId]);\n\n  return (\n    <ListItem\n      className={`FollowingItem ${className}`}\n      key={roomId}\n      onClick={onClick}\n    >\n      {room.roomName}\n    </ListItem>\n  );\n};\n\nexport default React.memo(FollowingItem);\n\nFollowingItem.propTypes = {\n  roomId: string.isRequired,\n  onChange: func.isRequired,\n  className: string,\n};\n\nFollowingItem.defaultProps = {\n  className: '',\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\nimport List from '../../../common/lists/List/List';\nimport { getFollowedRoomsIds } from '../../../../redux/selectors/rooms';\nimport FollowingItem from './Item/FollowingItem';\n\nconst FollowingList = ({ onChange, roomId }) => {\n  const roomIds = useSelector(getFollowedRoomsIds);\n\n  const roomMapper = () => roomIds.map((id) => (\n    <FollowingItem\n      className={`${id === roomId ? 'selected' : ''}`}\n      key={id}\n      roomId={id}\n      onChange={onChange}\n    />\n  ));\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      key=\"followingList\"\n      className=\"FollowingList\"\n      title=\"Joined\"\n    >\n      {roomMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(FollowingList);\n\nFollowingList.propTypes = {\n  onChange: func.isRequired,\n  roomId: string.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\nimport { AccessLevels } from '../../../AccessCentral';\nimport UserList from '../../common/lists/IdentityList/IdentityList';\nimport RoomList from '../lists/Room/RoomList';\nimport WhisperList from '../lists/Whisper/WhisperList';\nimport FollowingList from '../lists/Following/FollowingList';\nimport { getCurrentAccessLevel } from '../../../redux/selectors/users';\n\nconst Rooms = ({ onChange, roomId }) => {\n  const accessLevel = useSelector(getCurrentAccessLevel);\n\n  return (\n    <>\n      <FollowingList\n        roomId={roomId}\n        key=\"following\"\n        onChange={onChange}\n      />\n      {\n        accessLevel >= AccessLevels.STANDARD && (\n          <>\n            <WhisperList\n              roomId={roomId}\n              key=\"whisper\"\n              onChange={onChange}\n            />\n            <RoomList\n              key=\"room\"\n              onChange={onChange}\n            />\n          </>\n        )\n      }\n      <UserList\n        onDone={onChange}\n        key=\"user\"\n      />\n    </>\n  );\n};\n\nexport default React.memo(Rooms);\n\nRooms.propTypes = {\n  onChange: func.isRequired,\n  roomId: string.isRequired,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"4 14 10 14 10 20\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"20 10 14 10 14 4\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 14,\n  y1: 10,\n  x2: 21,\n  y2: 3\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 21,\n  x2: 10,\n  y2: 14\n});\n\nvar SvgMinimize = function SvgMinimize(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-minimize-2\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMinimize, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/minimize.ddbf3bc5.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useRef, useState } from 'react';\nimport {\n  bool,\n  func,\n  number,\n  string,\n} from 'prop-types';\n\nimport { ReactComponent as Maximize } from '../../../../icons/maximize.svg';\nimport { ReactComponent as Minimize } from '../../../../icons/minimize.svg';\n\nimport './Image.scss';\n\nconst Image = React.forwardRef(({\n  image,\n  onRemove,\n  width,\n  height,\n  scrollTo = false,\n  className = '',\n  altText = '',\n  fullImage,\n  fullWidth,\n  fullHeight,\n} = {}, ref) => {\n  const containerRef = useRef(null);\n  const [showFull, setShowFull] = useState(false);\n\n  useEffect(() => {\n    if (scrollTo && !showFull && containerRef.current) {\n      containerRef.current.scrollIntoView({ block: 'nearest' });\n    }\n  }, [showFull]);\n\n  const onClick = (event) => {\n    if (fullImage) {\n      setShowFull(!showFull);\n\n      event.stopPropagation();\n    }\n  };\n\n  return (\n    <div\n      role=\"complementary\"\n      ref={containerRef}\n      className={`Image ${showFull ? 'full' : ''} ${className}`}\n      onClick={onClick}\n    >\n      {onRemove && (\n        <div\n          className=\"remove clickable\"\n          role=\"complementary\"\n          onClick={(event) => {\n            onRemove();\n\n            event.stopPropagation();\n          }}\n        >\n          X\n        </div>\n      )}\n      {fullImage && (\n        <div\n          onClick={onClick}\n          className=\"zoom clickable\"\n          role=\"complementary\"\n        >\n          {showFull ? <Minimize /> : <Maximize />}\n        </div>\n      )}\n      <img\n        className={fullImage ? 'clickable' : ''}\n        onClick={onClick}\n        width={showFull ? fullWidth : width}\n        height={showFull ? fullHeight : height}\n        ref={ref}\n        src={showFull ? fullImage : image}\n        alt={altText}\n      />\n    </div>\n  );\n});\n\nexport default Image;\n\nImage.propTypes = {\n  image: string.isRequired,\n  altText: string,\n  className: string,\n  onRemove: func,\n  width: number,\n  height: number,\n  fullImage: string,\n  fullWidth: number,\n  fullHeight: number,\n  scrollTo: bool,\n};\n\nImage.defaultProps = {\n  altText: '',\n  className: '',\n  onRemove: undefined,\n  width: undefined,\n  height: undefined,\n  fullImage: undefined,\n  fullWidth: undefined,\n  fullHeight: undefined,\n  scrollTo: false,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 3,\n  y: 3,\n  width: 18,\n  height: 18,\n  rx: 2,\n  ry: 2\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 8.5,\n  cy: 8.5,\n  r: 1.5\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"21 15 16 10 5 21\"\n});\n\nvar SvgImage = function SvgImage(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-image\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgImage, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/image.2b3c9c2e.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useRef, useState } from 'react';\nimport { useFormContext, useWatch } from 'react-hook-form';\n\nimport Image from '../Image/Image';\nimport Button from '../Button/Button';\n\nimport { ReactComponent as ImageIcon } from '../../../../icons/image.svg';\n\nimport './ImageUpload.scss';\n\nconst ImageUpload = ({ useIcon = false }) => {\n  const { register, setValue } = useFormContext();\n  const inputRef = useRef(null);\n  const [previewImage, setPreviewImage] = useState();\n  const watchImage = useWatch({ name: 'image' });\n\n  useEffect(() => {\n    register('image');\n  }, []);\n\n  useEffect(() => {\n    if (previewImage) {\n      setValue('image', previewImage);\n    } else {\n      setValue('image', undefined);\n    }\n  }, [previewImage]);\n\n  useEffect(() => {\n    if (!watchImage) {\n      setPreviewImage();\n    }\n  }, [watchImage]);\n\n  const onChangeFunc = ({ target }) => {\n    const files = target.files || [];\n    const file = files[0];\n\n    if (file) {\n      const reader = new FileReader();\n\n      reader.addEventListener('load', () => {\n        if (reader.result) {\n          const image = {\n            imageName: file.name,\n            source: reader.result,\n          };\n\n          setPreviewImage(image);\n        }\n      });\n      reader.readAsDataURL(file);\n    }\n  };\n\n  return (\n    <div\n      className=\"ImageUpload\"\n    >\n      <input\n        key=\"uploadInput\"\n        className=\"hide\"\n        ref={inputRef}\n        type=\"file\"\n        accept=\"image/png, image/jpeg, image/pjpeg\"\n        onChange={onChangeFunc}\n      />\n      <Image\n        onRemove={() => setPreviewImage()}\n        className={`previewImage ${!previewImage ? 'hide' : ''}`}\n        image={previewImage ? previewImage.source : ''}\n        altText=\"Image preview\"\n      />\n      <Button\n        type=\"button\"\n        onClick={() => { inputRef.current.click(); }}\n      >\n        <ImageIcon />\n        {!useIcon && (<span>Upload image</span>)}\n      </Button>\n    </div>\n  );\n};\n\nexport default React.memo(ImageUpload);\n","import { SendEvents, emitSocketEvent } from '../SocketManager';\nimport { getRoomById } from '../../redux/selectors/rooms';\nimport store from '../../redux/store';\nimport { getCurrentIdentityId } from '../../redux/selectors/userId';\nimport { createMessages, createNewsMessage } from '../../redux/actions/messages';\nimport { getAliasId } from '../../redux/selectors/aliasId';\nimport { getNewsRoomId } from '../../redux/selectors/config';\nimport { MessageType } from '../../redux/reducers/messages';\n\nexport const sendMessage = async ({ text, roomId, image }) => {\n  const room = getRoomById(store.getState(), { id: roomId });\n  const participantIds = room.isWhisper\n    ? room.participantIds\n    : [];\n  const message = {\n    roomId,\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n    text: text.split('\\n'),\n  };\n\n  if (room.isUser) {\n    message.messageType = MessageType.WHISPER;\n    participantIds.push(getCurrentIdentityId(store.getState()));\n    participantIds.push(roomId);\n  } else if (room.isWhisper) {\n    message.messageType = MessageType.WHISPER;\n  } else {\n    message.messageType = MessageType.CHAT;\n  }\n\n  const result = await emitSocketEvent(SendEvents.MESSAGE, {\n    message,\n    image,\n    participantIds,\n  });\n\n  store.dispatch(createMessages({ messages: [result.message] }));\n\n  return { message: result.message, switchRoom: true };\n};\n\nexport const sendNewsMessage = async ({ title, text, image }) => {\n  const message = {\n    messageType: MessageType.NEWS,\n    text: [title].concat(text.split('\\n')),\n    roomId: getNewsRoomId(store.getState()),\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n  };\n\n  const result = await emitSocketEvent(SendEvents.MESSAGE, {\n    message,\n    image,\n  });\n\n  store.dispatch(createNewsMessage(result));\n\n  return { message: result.message };\n};\n\nexport const getMessagesByRoom = async ({ roomId }) => {\n  const result = await emitSocketEvent(SendEvents.GETMSGBYROOM, { roomId });\n\n  store.dispatch(createMessages({ messages: result.messages }));\n\n  return true;\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 7,\n  r: 4\n});\n\nvar SvgUser = function SvgUser(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-user\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUser, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/user.1a85769b.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { bool } from 'prop-types';\n\nimport { getCurrentUserIdentities } from '../../../../redux/selectors/users';\nimport { getCurrentIdentityId } from '../../../../redux/selectors/userId';\nimport List from '../List/List';\nimport ListItem from '../List/Item/ListItem';\nimport store from '../../../../redux/store';\nimport { changeAliasId } from '../../../../redux/actions/aliasId';\n\nimport { ReactComponent as User } from '../../../../icons/user.svg';\n\nimport './IdentityPicker.scss';\n\nconst IdentityPicker = ({ useIcon = false }) => {\n  const identities = useSelector(getCurrentUserIdentities);\n  const identityId = useSelector(getCurrentIdentityId);\n  const currentIdentity = identities.find((identity) => identity.objectId === identityId);\n\n  const itemMapper = () => {\n    const filtered = useIcon ? identities : identities.filter((identity) => identity.objectId !== identityId);\n\n    return filtered.map((identity) => (\n      <ListItem\n        className={identity.objectId === identityId ? 'selected' : ''}\n        key={identity.objectId}\n        onClick={() => store.dispatch(changeAliasId({ aliasId: identity.aliasName ? identity.objectId : undefined }))}\n      >\n        {identity.aliasName || identity.username}\n      </ListItem>\n    ));\n  };\n\n  const title = currentIdentity ? currentIdentity.aliasName || currentIdentity.username : '---';\n\n  return (\n    <List\n      dropdown\n      className=\"IdentityPicker\"\n      title={useIcon\n        ? <User />\n        : (\n          <>\n            <User />\n            <span>{title}</span>\n          </>\n        )}\n    >\n      {itemMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(IdentityPicker);\n\nIdentityPicker.propTypes = {\n  useIcon: bool,\n};\n\nIdentityPicker.defaultProps = {\n  useIcon: undefined,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 10,\n  r: 3\n});\n\nvar SvgPin = function SvgPin(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-map-pin\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPin, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pin.03aed5b7.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 7,\n  y1: 7,\n  x2: 7.01,\n  y2: 7\n});\n\nvar SvgTag = function SvgTag(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-tag\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgTag, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/tag.6b837a8d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"14 2 14 8 20 8\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 12,\n  y1: 18,\n  x2: 12,\n  y2: 12\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 9,\n  y1: 15,\n  x2: 15,\n  y2: 15\n});\n\nvar SvgFilePlus = function SvgFilePlus(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-file-plus\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgFilePlus, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/file-plus.4abe03d8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 1,\n  y1: 1,\n  x2: 23,\n  y2: 23\n});\n\nvar SvgCloudOff = function SvgCloudOff(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-cloud-off\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCloudOff, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/cloud-off.60e73c4a.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport ImageUpload from '../../../common/sub-components/ImageUpload/ImageUpload';\nimport { AccessLevels } from '../../../../AccessCentral';\nimport { isOnline } from '../../../../redux/selectors/online';\nimport { getCurrentAccessLevel } from '../../../../redux/selectors/users';\nimport { getAllowedImages, getGpsTracking } from '../../../../redux/selectors/config';\nimport Button from '../../../common/sub-components/Button/Button';\nimport { sendMessage } from '../../../../socket/actions/messages';\nimport IdentityPicker from '../../../common/lists/IdentityPicker/IdentityPicker';\n\nimport { ReactComponent as Pin } from '../../../../icons/pin.svg';\nimport { ReactComponent as Tag } from '../../../../icons/tag.svg';\nimport { ReactComponent as File } from '../../../../icons/file-plus.svg';\nimport { ReactComponent as CloudOff } from '../../../../icons/cloud-off.svg';\n\nimport './InputArea.scss';\n\nconst InputArea = ({\n  roomId,\n  onSend,\n  minAccessLevel = AccessLevels.STANDARD,\n}) => {\n  const [isSending, setIsSending] = useState(false);\n  const formMethods = useForm();\n  const inputRef = useRef(null);\n  const buttonRef = useRef(null);\n  const online = useSelector(isOnline);\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const allowedImages = useSelector(getAllowedImages);\n  const gpsTracking = useSelector(getGpsTracking);\n\n  const resize = () => {\n    if (inputRef.current) {\n      const textarea = inputRef.current;\n\n      if (!textarea.style.height || (textarea.scrollHeight.toString() !== textarea.style.height.split('px')[0])) {\n        textarea.style.height = 'auto';\n        textarea.style.height = `${textarea.scrollHeight}px`;\n        inputRef.current.scrollIntoView();\n      }\n    }\n  };\n\n  const onSubmit = ({\n    text,\n    image,\n  }) => {\n    setIsSending(true);\n\n    sendMessage({\n      roomId,\n      image,\n      text,\n    }).then(({ message, switchRoom }) => {\n      formMethods.setValue('text', '');\n      formMethods.setValue('image', undefined);\n      resize();\n\n      if (switchRoom) {\n        onSend({ roomId: message.roomId });\n      }\n\n      setIsSending(false);\n    }).catch((error) => {\n      console.log('error', error);\n\n      setIsSending(false);\n    });\n  };\n\n  return (\n    <div className=\"InputArea\">\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          {accessLevel >= minAccessLevel && (\n            <div\n              key=\"buttonBox\"\n              className=\"buttonBox\"\n            >\n              {\n                allowedImages.CHAT\n                && (\n                  <ImageUpload useIcon />\n                )\n              }\n              <Button onClick={() => {}}><Tag /></Button>\n              <Button onClick={() => {}}><File /></Button>\n              {\n                gpsTracking\n                && (\n                  <Button onClick={() => {}}><Pin /></Button>\n                )\n              }\n              <IdentityPicker />\n            </div>\n          )}\n          <div className=\"input\">\n            <textarea\n              maxLength={600}\n              name=\"text\"\n              key=\"input\"\n              rows={1}\n              ref={(element) => {\n                formMethods.register(element);\n\n                inputRef.current = element;\n              }}\n              onKeyDown={(event) => {\n                const { key, altKey } = event;\n\n                if (altKey && key === 'Enter' && buttonRef.current) {\n                  buttonRef.current.click();\n                }\n              }}\n              placeholder={online ? 'Alt+Enter to send message' : 'Offline. Reconnecting to server...'}\n              onChange={(event) => resize(event.target)}\n            />\n            <Button\n              ref={buttonRef}\n              disabled={!online || isSending}\n              key=\"send\"\n              type=\"submit\"\n              className=\"sendButton\"\n              onClick={() => {}}\n            >\n              {online\n                ? (\n                  <span>Send</span>\n                )\n                : (\n                  <CloudOff />\n                )}\n            </Button>\n          </div>\n        </form>\n      </FormProvider>\n    </div>\n  );\n};\n\nexport default React.memo(InputArea);\n\nInputArea.propTypes = {\n  minAccessLevel: number,\n  roomId: string.isRequired,\n  onSend: func.isRequired,\n};\n\nInputArea.defaultProps = {\n  minAccessLevel: AccessLevels.STANDARD,\n};\n","import createCachedSelector from 're-reselect';\nimport { MessageType } from '../reducers/messages';\n\nexport const getMessageById = (state, { id }) => state.messages.get(id);\n\nexport const getAllMessages = (state) => state.messages;\n\nexport const getMessagesByRoom = createCachedSelector(\n  [\n    getAllMessages,\n    (_, { roomId }) => roomId,\n  ],\n  (messages, roomId) => [...messages.values()].filter((message) => message.roomId === roomId),\n)((_, { roomId }) => roomId);\n\nexport const getNews = createCachedSelector(\n  [getAllMessages],\n  (messages) => [...messages.values()]\n    .filter((message) => message.messageType === MessageType.NEWS)\n    .reverse(),\n)(() => 'news');\n\nexport const getNewsIdsPoints = createCachedSelector(\n  [getNews],\n  (messages) => messages\n    .map(({ objectId, points }) => ({ objectId, points })),\n)(() => 'news-ids');\n\nexport const getMessageIdsByRoom = createCachedSelector(\n  [getMessagesByRoom],\n  (messages) => messages.map(({ objectId }) => objectId),\n)((_, { roomId }) => `id-${roomId}`);\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\nimport { getIdentityById } from '../../../../../../redux/selectors/users';\nimport { getTimestamp } from '../../../../../../redux/selectors/config';\n\nimport './MessageInfo.scss';\nimport store from '../../../../../../redux/store';\nimport { changeWindowOrder } from '../../../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../../../redux/reducers/windowOrder';\n\nconst MessageInfo = ({ identityId, timeCreated }) => {\n  const identity = useSelector((state) => getIdentityById(state, { id: identityId }));\n  const timestamp = useSelector((state) => getTimestamp(state, { date: timeCreated }));\n\n  return (\n    <p className=\"MessageInfo\">\n      <span\n        role=\"button\"\n        tabIndex={0}\n        className=\"clickable username\"\n        onClick={(event) => {\n          if (identity) {\n            store.dispatch(changeWindowOrder({\n              windows: [{\n                id: `${WindowTypes.DIALOGIDENTITY}-${identity.objectId}`,\n                value: {\n                  identityId: identity.objectId,\n                  type: WindowTypes.DIALOGIDENTITY,\n                },\n              }],\n            }));\n          }\n\n          event.stopPropagation();\n        }}\n      >\n        {identity ? identity.username || identity.aliasName : '-'}\n      </span>\n      <span className=\"time\">\n        {timestamp.fullStamp}\n      </span>\n    </p>\n  );\n};\n\nexport default React.memo(MessageInfo);\n\nMessageInfo.propTypes = {\n  identityId: string.isRequired,\n  timeCreated: string.isRequired,\n};\n","import React, { useRef } from 'react';\nimport {\n  bool,\n  string,\n} from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport MessageInfo from './MessageInfo/MessageInfo';\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getMessageById } from '../../../../../redux/selectors/messages';\nimport { hasAccessTo } from '../../../../../AccessCentral';\nimport { getCurrentUser } from '../../../../../redux/selectors/users';\nimport store from '../../../../../redux/store';\nimport Image from '../../../../common/sub-components/Image/Image';\n\nimport './MessageItem.scss';\n\nconst MessageItem = ({\n  previousMessageId,\n  messageId,\n  isLatest = false,\n  selected = false,\n}) => {\n  const itemRef = useRef();\n  const previousMessage = useSelector((state) => getMessageById(state, { id: previousMessageId }));\n  const message = useSelector((state) => getMessageById(state, { id: messageId }));\n\n  const { hasFullAccess } = hasAccessTo({\n    objectToAccess: message,\n    toAuth: getCurrentUser(store.getState()),\n  });\n\n  const shouldCollapse = () => {\n    if (!previousMessage) {\n      return false;\n    }\n\n    if (new Date(message.lastUpdated).getTime() - 900000 > new Date(previousMessage.lastUpdated).getTime()) {\n      return false;\n    }\n\n    if ((previousMessage.ownerAliasId && message.ownerAliasId) && previousMessage.ownerAliasId === message.ownerAliasId) {\n      return true;\n    }\n\n    return (!previousMessage.ownerAliasId && !message.ownerAliasId) && previousMessage.ownerId === message.ownerId;\n  };\n\n  return (\n    <ListItem\n      scrollTo={selected || isLatest}\n      ref={itemRef}\n      className={`MessageItem ${hasFullAccess ? 'clickable' : ''}`}\n      key={messageId}\n    >\n      {!shouldCollapse() && (\n        <MessageInfo\n          key=\"msgInfo\"\n          identityId={message.ownerAliasId || message.ownerId}\n          timeCreated={message.customTimeCreated || message.timeCreated}\n        />\n      )}\n      <div className=\"text\">\n        {/* eslint-disable-next-line react/no-array-index-key */}\n        {message.text.map((line, index) => <p key={index}>{line}</p>)}\n        {message.image && message.image.thumbFileName && (\n          <Image\n            scrollTo\n            key={message.image.thumbFileName}\n            image={`/upload/images/${message.image.thumbFileName}`}\n            altText=\"pic\"\n            width={message.image.thumbWidth}\n            height={message.image.thumbHeight}\n            fullImage={`/upload/images/${message.image.fileName}`}\n            fullWidth={message.image.width}\n            fullHeight={message.image.height}\n          />\n        )}\n      </div>\n    </ListItem>\n  );\n};\n\nexport default React.memo(MessageItem);\n\nMessageItem.propTypes = {\n  previousMessageId: string,\n  messageId: string.isRequired,\n  selected: bool,\n  isLatest: bool,\n};\n\nMessageItem.defaultProps = {\n  previousMessageId: undefined,\n  selected: false,\n  isLatest: false,\n};\n","import React, { useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport { getMessageIdsByRoom } from '../../../../redux/selectors/messages';\nimport List from '../../../common/lists/List/List';\nimport MessageItem from './Item/MessageItem';\n\nimport './MessageList.scss';\n\nconst MessageList = ({ roomId, messageId }) => {\n  const messageIds = useSelector((state) => getMessageIdsByRoom(state, { roomId }));\n  const latestMessageId = useRef('');\n\n  if (messageIds[messageIds.length - 1] !== latestMessageId) {\n    latestMessageId.current = messageIds[messageIds.length - 1];\n  }\n\n  const messageMapper = () => messageIds.map((id, index, array) => (\n    <MessageItem\n      isLatest={id === latestMessageId.current}\n      selected={messageId && messageId === id}\n      key={id}\n      previousMessageId={array[index - 1]}\n      messageId={id}\n    />\n  ));\n\n  return (\n    <List\n      observe=\"lower\"\n      key=\"messageList\"\n      className=\"MessageList\"\n    >\n      {messageMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(MessageList);\n\nMessageList.propTypes = {\n  roomId: string,\n  messageId: string,\n};\n\nMessageList.defaultProps = {\n  roomId: undefined,\n  messageId: undefined,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\nimport { AccessLevels } from '../../../../AccessCentral';\nimport InputArea from '../../sub-components/InputArea/InputArea';\nimport MessagesList from '../../lists/Message/MessageList';\nimport { getCurrentAccessLevel } from '../../../../redux/selectors/users';\n\nimport './Messages.scss';\n\nconst Messages = ({ roomId, onSend }) => {\n  const accessLevel = useSelector(getCurrentAccessLevel);\n\n  return (\n    <div className=\"Messages\">\n      <div className=\"spacer\" />\n      <MessagesList\n        key=\"messagesList\"\n        roomId={roomId}\n      />\n      {accessLevel >= AccessLevels.STANDARD && (\n        <InputArea\n          onSend={onSend}\n          roomId={roomId}\n          key=\"inputArea\"\n        />\n      )}\n    </div>\n  );\n};\n\nexport default React.memo(Messages);\n\nMessages.propTypes = {\n  roomId: string,\n  onSend: func.isRequired,\n};\n\nMessages.defaultProps = {\n  roomId: undefined,\n};\n","import React from 'react';\nimport { node, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport List from './List/List';\nimport ListItem from './List/Item/ListItem';\nimport store from '../../../redux/store';\nimport { getCurrentUser } from '../../../redux/selectors/users';\nimport { removeWindow } from '../../../redux/actions/windowOrder';\n\nconst FileMenu = ({ id, children }) => {\n  const { systemConfig = {} } = useSelector(getCurrentUser);\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      className=\"FileMenu\"\n      title=\"File\"\n    >\n      {children}\n      {!systemConfig.hideTopRow && (\n        <>\n          <ListItem\n            stopPropagation\n            key=\"settings\"\n            onClick={() => {}}\n          >\n            Settings\n          </ListItem>\n          <ListItem\n            stopPropagation\n            key=\"quit\"\n            onClick={() => store.dispatch(removeWindow({ id }))}\n          >\n            Quit\n          </ListItem>\n        </>\n      )}\n    </List>\n  );\n};\n\nexport default React.memo(FileMenu);\n\nFileMenu.propTypes = {\n  children: node.isRequired,\n  id: string.isRequired,\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport Rooms from './views/Rooms';\nimport Messages from './views/Messages/Messages';\nimport Window from '../common/Window/Window';\nimport FileMenu from '../common/lists/FileMenu';\nimport { getRoomById, getWhisperRoomName } from '../../redux/selectors/rooms';\nimport ListItem from '../common/lists/List/Item/ListItem';\nimport { getPublicRoomId } from '../../redux/selectors/config';\nimport store from '../../redux/store';\nimport { getCurrentUser, getIdentityById } from '../../redux/selectors/users';\nimport { hasAccessTo } from '../../AccessCentral';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\nimport { getMode } from '../../redux/selectors/mode';\nimport { Modes } from '../../redux/reducers/mode';\n\nimport { ReactComponent as Close } from '../../icons/close.svg';\nimport { ReactComponent as Maximize } from '../../icons/maximize.svg';\nimport { ReactComponent as Settings } from '../../icons/settings.svg';\nimport { ReactComponent as Image } from '../../icons/image.svg';\nimport { ReactComponent as User } from '../../icons/user.svg';\nimport { ReactComponent as Lock } from '../../icons/lock.svg';\nimport { ReactComponent as ChatIcon } from '../../icons/chat.svg';\n\nimport './Chat.scss';\n\nconst Chat = ({ id, roomId, index }) => {\n  const mode = useSelector(getMode);\n  const [currentRoomId, setRoomId] = useState(roomId || getPublicRoomId(store.getState()));\n  const room = useSelector((state) => getRoomById(state, { id: currentRoomId }));\n  const currentUser = useSelector(getCurrentUser);\n\n  useEffect(() => {\n    if ((!currentUser || currentUser.isAnonymous || !room) && currentRoomId !== getPublicRoomId(store.getState())) {\n      setRoomId(getPublicRoomId(store.getState()));\n    }\n  }, [room, currentUser]);\n\n  useEffect(() => {\n    if (roomId && currentRoomId !== roomId) {\n      setRoomId(roomId);\n    }\n  }, [roomId]);\n\n  const title = (() => {\n    if (!room) {\n      return 'Chat';\n    }\n\n    if (room.isUser) {\n      const identity = getIdentityById(store.getState(), { id: currentRoomId });\n\n      return `PM: ${identity.aliasName || identity.username}`;\n    }\n\n    if (room.isWhisper) {\n      return `PM: ${getWhisperRoomName(store.getState(), { ids: room.participantIds })}`;\n    }\n\n    return `Chat: ${room.roomName}`;\n  })();\n\n  const onChange = useCallback(({ roomId: newRoomId } = {}) => {\n    setRoomId(newRoomId);\n  }, []);\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.CHAT } }] }));\n  }, []);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onCreateRoom = useCallback(() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCREATEROOM, value: { type: WindowTypes.DIALOGCREATEROOM } }] })), []);\n\n  const { hasFullAccess } = hasAccessTo({\n    objectToAccess: room,\n    toAuth: currentUser,\n  });\n\n  return (\n    <Window\n      id={id}\n      index={index}\n      done={onDone}\n      className=\"Chat\"\n      title={title}\n      onClick={onClick}\n      menu={(\n        <>\n          {!currentUser.isAnonymous && (\n            <FileMenu key=\"fileMenu\" id={id}>\n              <ListItem\n                stopPropagation\n                key=\"createRoom\"\n                onClick={onCreateRoom}\n              >\n                New room\n              </ListItem>\n              {hasFullAccess && (\n                <ListItem\n                  stopPropagation\n                  key=\"configRoom\"\n                  onClick={() => {}}\n                >\n                  Config room\n                </ListItem>\n              )}\n              {hasFullAccess && !room.isWhisper && !room.isUser && !room.isSystemRoom && !room.isTeam && (\n                <ListItem\n                  stopPropagation\n                  key=\"removeRoom\"\n                  onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGREMOVEROOM, value: { type: WindowTypes.DIALOGREMOVEROOM, roomId: currentRoomId } }] }))}\n                >\n                  Delete room\n                </ListItem>\n              )}\n            </FileMenu>\n          )}\n          <Rooms\n            roomId={currentRoomId}\n            key=\"rooms\"\n            onChange={onChange}\n          />\n        </>\n      )}\n    >\n      <Messages\n        key=\"messages\"\n        roomId={currentRoomId}\n        onSend={onChange}\n      />\n      {mode.mode === Modes.HELP && mode.target === id && (\n        <div className=\"helpOverlay\">\n          <ul>\n            <li>\n              <p>\n                <ChatIcon />\n                <span>CHAT APP Read and send messages, to users or rooms.</span>\n              </p>\n              <p>You can only read the Public chat without logging in.</p>\n              <p>Menus are on the left (or top in smaller windows). Messages from the current room are to the right (or below).</p>\n              <p>Your current room is shown in the title (CHAT: public) and in JOINED.</p>\n            </li>\n            <li>\n              <p>SEND The message input is shown on the bottom when you are logged in. You can send the message with either alt+Enter or clicking Send.</p>\n              <p>\n                <Image />\n                <span>IMAGE Attach an image. You can send a message with just an image.</span>\n              </p>\n              <p>\n                <User />\n                <span>YOU Your name. Click it to switch identities.</span>\n              </p>\n            </li>\n            <li>\n              <p>\n                FILE You can create a room, change settings (like changing password or name) or remove the room you are in.\n              </p>\n              <p>JOINED Shows you the rooms you joined. Click one to switch to it.</p>\n              <p>PM All private conversations are shown here. It always shows your name on the left.</p>\n              <p>\n                <span>{'ROOMS All available rooms that you haven\\'t joined yet.'}</span>\n                <Lock />\n                <span> means that the room is password-protected.</span>\n              </p>\n              <p>\n                <span>USERS All users. Send a private message to a user by clicking them and choosing </span>\n                <ChatIcon />\n                <span> in the pop-up.</span>\n              </p>\n            </li>\n            <li>\n              <Settings />\n              <span>APP SETTINGS Change settings for this app. You have to be logged in to access it.</span>\n            </li>\n            <li>\n              <Maximize />\n              <span>MAXIMIZE Make the window expand and take up all available space. Clicking it again will shrink the window.</span>\n            </li>\n            <li>\n              <Close />\n              <span>CLOSE Close the window</span>\n            </li>\n          </ul>\n        </div>\n      )}\n    </Window>\n  );\n};\n\nexport default React.memo(Chat);\n\nChat.propTypes = {\n  id: string.isRequired,\n  roomId: string,\n  index: number.isRequired,\n};\n\nChat.defaultProps = {\n  roomId: undefined,\n};\n","import React from 'react';\nimport {\n  func,\n  arrayOf,\n  string,\n  shape,\n  node, number,\n} from 'prop-types';\nimport Window from '../../Window/Window';\n\nimport './Dialog.scss';\nimport Button from '../../sub-components/Button/Button';\nimport store from '../../../../redux/store';\nimport { removeWindow } from '../../../../redux/actions/windowOrder';\n\nconst Dialog = ({\n  children,\n  title,\n  error,\n  text,\n  done,\n  onClick,\n  index,\n  id,\n  buttons,\n  className = '',\n}) => (\n  <Window\n    id={id}\n    index={index}\n    type=\"dialog\"\n    done={done}\n    title={title}\n    className={`Dialog ${className}`}\n    onClick={onClick}\n  >\n    {error && (\n      <div className=\"error\">\n        <span>{error.message}</span>\n      </div>\n    )}\n    {text && (\n      <div>{text}</div>\n    )}\n    {children}\n    {buttons.length > 0 && (\n      <div className=\"buttons\">\n        <Button stopPropagation type=\"button\" onClick={() => store.dispatch(removeWindow({ id }))}>\n          Cancel\n        </Button>\n        {buttons}\n      </div>\n    )}\n  </Window>\n);\n\nexport default React.memo(Dialog);\n\nDialog.propTypes = {\n  done: func.isRequired,\n  children: node,\n  error: shape({\n    type: string.isRequired,\n    text: arrayOf(string).isRequired,\n  }),\n  title: string,\n  text: string,\n  className: string,\n  onClick: func.isRequired,\n  index: number.isRequired,\n  id: string.isRequired,\n  buttons: arrayOf(node),\n};\n\nDialog.defaultProps = {\n  children: undefined,\n  error: undefined,\n  title: undefined,\n  text: undefined,\n  className: '',\n  buttons: undefined,\n};\n","import React, { useCallback } from 'react';\nimport { batch, useSelector } from 'react-redux';\nimport { number, string } from 'prop-types';\nimport Dialog from './Dialog/Dialog';\nimport { getIdentityById } from '../../../redux/selectors/users';\nimport Button from '../sub-components/Button/Button';\nimport { getWhisperRoom } from '../../../redux/selectors/rooms';\nimport store from '../../../redux/store';\nimport { getCurrentIdentityId } from '../../../redux/selectors/userId';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport { ReactComponent as Wallet } from '../../../icons/wallet.svg';\nimport { ReactComponent as Chat } from '../../../icons/chat.svg';\nimport { ReactComponent as Pin } from '../../../icons/pin.svg';\nimport { getTeamsByIds } from '../../../redux/selectors/teams';\nimport Image from '../sub-components/Image/Image';\n\nconst IdentityDialog = ({ id, identityId, index }) => {\n  const identity = useSelector((state) => getIdentityById(state, { id: identityId }));\n  const currentIdentityId = useSelector(getCurrentIdentityId);\n  const teams = useSelector((state) => getTeamsByIds(state, { ids: identity.partOfTeams }));\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGIDENTITY, identityId } }] }));\n  }, [id, identityId]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const transferCall = useCallback(() => batch(() => {\n    store.dispatch(changeWindowOrder({\n      windows: [{\n        id: `${WindowTypes.DIALOGCREATETRANSACTION}-${identityId}`,\n        value: { type: WindowTypes.DIALOGCREATETRANSACTION, toWalletId: identityId },\n      }],\n    }));\n    store.dispatch(removeWindow({ id }));\n  }), [identityId, id]);\n\n  const whisperCall = useCallback(() => {\n    const room = getWhisperRoom(store.getState(), { identityId, currentIdentityId });\n\n    batch(() => {\n      store.dispatch(changeWindowOrder({\n        windows: [{ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT, roomId: room.objectId } }],\n      }));\n      store.dispatch(removeWindow({ id }));\n    });\n  }, [identityId, currentIdentityId, id]);\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      title={`User: ${identity.aliasName || identity.username}`}\n      onClick={onClick}\n      done={onDone}\n      buttons={currentIdentityId !== '-1' && [\n        <Button\n          stopPropagation\n          key=\"transfer\"\n          type=\"button\"\n          onClick={transferCall}\n        >\n          <Wallet />\n        </Button>,\n        <Button\n          stopPropagation\n          key=\"whisper\"\n          type=\"button\"\n          onClick={whisperCall}\n        >\n          <Chat />\n        </Button>,\n        <Button\n          stopPropagation\n          key=\"gps\"\n          type=\"button\"\n          onClick={() => {}}\n        >\n          <Pin />\n        </Button>,\n      ]}\n    >\n      {identity.image && (\n        <Image\n          scrollTo\n          image={`/upload/images/${identity.image.thumbFileName}`}\n          altText=\"pic\"\n          width={identity.image.thumbWidth}\n          height={identity.image.thumbHeight}\n          fullImage={`/upload/images/${identity.image.fileName}`}\n          fullWidth={identity.image.width}\n          fullHeight={identity.image.height}\n        />\n      )}\n      <p>{`Name: ${identity.aliasName || identity.username}`}</p>\n      {teams.size > 0 && (<p>{`Affiliations: ${[...teams.values()].map((team) => team.teamName).join(', ')}`}</p>)}\n    </Dialog>\n  );\n};\n\nexport default React.memo(IdentityDialog);\n\nIdentityDialog.propTypes = {\n  identityId: string.isRequired,\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import { SendEvents, emitSocketEvent } from '../SocketManager';\nimport store from '../../redux/store';\nimport { followRoom as followRoomAction, removeRooms } from '../../redux/actions/rooms';\nimport { getMessagesByRoom } from './messages';\nimport { getAliasId } from '../../redux/selectors/aliasId';\n\nexport const createRoom = async ({ room }) => {\n  const roomToCreate = {\n    ...room,\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n  };\n  const result = await emitSocketEvent(SendEvents.ROOM, { room: roomToCreate });\n\n  await store.dispatch(followRoomAction({ room: result.room, user: result.user }));\n\n  return { room: result.room };\n};\n\nexport const followRoom = async ({ roomId, password }) => {\n  const params = {\n    roomId,\n    password,\n    aliasId: getAliasId(store.getState()) || undefined,\n  };\n\n  const result = await emitSocketEvent(SendEvents.FOLLOW, params);\n\n  await getMessagesByRoom({ roomId });\n\n  await store.dispatch(followRoomAction({ room: result.room, user: result.user }));\n\n  return { room: result.room, user: result.user };\n};\n\nexport const removeRoom = async ({ roomId }) => {\n  const result = await emitSocketEvent(SendEvents.REMOVEROOM, { roomId });\n\n  await store.dispatch(removeRooms({ rooms: [{ objectId: roomId }] }));\n\n  return { room: result.room };\n};\n","import React, { useEffect, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch } from 'react-redux';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport Input from '../../common/sub-components/Input/Input';\nimport Button from '../../common/sub-components/Button/Button';\nimport { createRoom } from '../../../socket/actions/rooms';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport IdentityPicker from '../../common/lists/IdentityPicker/IdentityPicker';\n\nconst CreateRoomDialog = ({ id, index }) => {\n  const methods = useForm();\n\n  const onSubmit = ({\n    roomName,\n    password,\n    topic,\n  }) => {\n    const room = {\n      roomName,\n      password,\n      topic,\n    };\n\n    createRoom({ room })\n      .then(({ room: newRoom }) => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT, roomId: newRoom.objectId } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((createError) => console.log(createError));\n  };\n\n  if (methods.errors.repeatPassword) {\n    methods.setValue('repeatPassword', '');\n  }\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      className=\"CreateRoomDialog\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATEROOM } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      title=\"New room\"\n      buttons={[\n        <Button\n          type=\"submit\"\n          onClick={() => methods.handleSubmit(onSubmit)()}\n        >\n          Create\n        </Button>,\n      ]}\n    >\n      <FormProvider {...methods}>\n        <form onSubmit={methods.handleSubmit(onSubmit)}>\n          <div className=\"identity\">\n            <span>You are: </span>\n            <IdentityPicker />\n          </div>\n          <Input\n            required\n            maxLength={20}\n            name=\"roomName\"\n            placeholder=\"Name of the room\"\n          />\n          <Input\n            maxLength={300}\n            name=\"topic\"\n            placeholder=\"(opt) Topic (shown when joining the room)\"\n          />\n          <Input\n            minLength={4}\n            maxLength={100}\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"(opt) Password\"\n          />\n          <Input\n            minLength={4}\n            maxLength={100}\n            shouldEqual=\"password\"\n            name=\"repeatPassword\"\n            type=\"password\"\n            placeholder={`${methods.errors.repeatPassword ? 'Error. Passwords must match!' : '(opt) Repeat password'}`}\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateRoomDialog);\n\nCreateRoomDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch, useSelector } from 'react-redux';\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport { getRoomById } from '../../../redux/selectors/rooms';\nimport Button from '../../common/sub-components/Button/Button';\nimport { removeRoom } from '../../../socket/actions/rooms';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\n\nconst RemoveRoomDialog = ({ id, roomId, index }) => {\n  const [error, setError] = useState();\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n\n  const onSubmit = () => {\n    removeRoom({ roomId })\n      .then(() => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((removeError) => setError(removeError));\n  };\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      className=\"RemoveRoomDialog\"\n      error={error}\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGREMOVEROOM, roomId } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      title={`Delete room ${room ? room.roomName : ''}`}\n      text={`Are you sure you want to delete ${room ? room.roomName : ''}?`}\n      buttons={[\n        <Button\n          type=\"submit\"\n          onClick={onSubmit}\n        >\n          Yes\n        </Button>,\n      ]}\n    />\n  );\n};\n\nexport default React.memo(RemoveRoomDialog);\n\nRemoveRoomDialog.propTypes = {\n  id: string.isRequired,\n  roomId: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useCallback, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from './Dialog/Dialog';\nimport { login } from '../../../socket/actions/auth';\nimport Input from '../sub-components/Input/Input';\nimport Button from '../sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\n\nconst LoginDialog = ({ id, index }) => {\n  const methods = useForm();\n  const [error, setError] = useState();\n\n  const onSubmit = async ({\n    username,\n    password,\n  }) => {\n    login(username, password)\n      .then(() => {\n        // TODO Notification: You are logged in\n        store.dispatch(removeWindow({ id }));\n      })\n      .catch((loginError) => {\n        setError(loginError);\n      });\n  };\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGLOGIN } }] }));\n  }, [id]);\n\n  const onSubmitCall = useCallback(() => methods.handleSubmit(onSubmit)(), []);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      className=\"LoginDialog\"\n      onClick={onClick}\n      done={onDone}\n      error={error}\n      title=\"Login\"\n      buttons={[\n        <Button\n          key=\"submit\"\n          type=\"submit\"\n          onClick={onSubmitCall}\n        >\n          Login\n        </Button>,\n      ]}\n    >\n      <FormProvider {...methods}>\n        <form onSubmit={methods.handleSubmit(onSubmit)}>\n          <Input\n            name=\"username\"\n            placeholder=\"Username\"\n          />\n          <Input\n            name=\"password\"\n            placeholder=\"Password\"\n            type=\"password\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(LoginDialog);\n\nLoginDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useState } from 'react';\nimport {\n  arrayOf,\n  bool,\n  element,\n  func,\n  string,\n} from 'prop-types';\nimport { useFormContext } from 'react-hook-form';\n\nconst Select = ({\n  onChange,\n  children,\n  name,\n  defaultValue,\n  required = false,\n  placeholder = '',\n  multiple = false,\n}) => {\n  const { register } = useFormContext();\n  const [hasFocus, setHasFocus] = useState(false);\n  const [isEmpty, setIsEmpty] = useState(false);\n\n  const checkEmpty = (event) => {\n    const selectedOptions = Array\n      .from(event.target.selectedOptions)\n      .filter((option) => option.value !== '');\n\n    if (hasFocus && required) {\n      setIsEmpty(selectedOptions.length === 0);\n    }\n  };\n\n  const onChangeFunc = (event) => {\n    checkEmpty(event);\n\n    if (onChange) {\n      onChange(Array\n        .from(event.target.selectedOptions)\n        .map((option) => option.value)\n        .filter((value) => value !== ''));\n    }\n  };\n\n  return (\n    <select\n      defaultValue={defaultValue}\n      required={required}\n      name={name}\n      ref={register}\n      className={`Select ${isEmpty ? 'empty' : ''}`}\n      onFocus={() => setHasFocus(true)}\n      onBlur={checkEmpty}\n      onChange={onChangeFunc}\n      placeholder={placeholder}\n      multiple={multiple}\n    >\n      {children}\n    </select>\n  );\n};\n\nexport default Select;\n\nSelect.propTypes = {\n  multiple: bool,\n  children: arrayOf(element),\n  placeholder: string,\n  onChange: func,\n  required: bool,\n  name: string.isRequired,\n  defaultValue: string,\n};\n\nSelect.defaultProps = {\n  multiple: false,\n  children: undefined,\n  placeholder: '',\n  required: false,\n  onChange: undefined,\n  defaultValue: undefined,\n};\n","import React, { useState } from 'react';\nimport {\n  bool,\n  func, number,\n  string,\n} from 'prop-types';\nimport { useFormContext } from 'react-hook-form';\n\nconst Textarea = ({\n  onChange,\n  name,\n  maxLength,\n  required = false,\n  placeholder = '',\n}) => {\n  const { register } = useFormContext();\n  const [hasFocus, setHasFocus] = useState(false);\n  const [isEmpty, setIsEmpty] = useState(false);\n\n  const checkEmpty = (event) => {\n    const value = event.target.value.trim();\n\n    if (hasFocus && required) {\n      setIsEmpty(value !== '');\n    }\n  };\n\n  return (\n    <textarea\n      maxLength={maxLength}\n      required={required}\n      name={name}\n      ref={register({\n        maxLength,\n      })}\n      defaultValue=\"\"\n      className={isEmpty ? 'empty' : ''}\n      onFocus={() => setHasFocus(true)}\n      onBlur={checkEmpty}\n      onChange={(event) => {\n        if (onChange) {\n          onChange(event.target.value);\n        }\n      }}\n      placeholder={placeholder}\n    />\n  );\n};\n\nexport default Textarea;\n\nTextarea.propTypes = {\n  placeholder: string,\n  onChange: func,\n  required: bool,\n  name: string.isRequired,\n  maxLength: number,\n};\n\nTextarea.defaultProps = {\n  placeholder: '',\n  required: false,\n  onChange: undefined,\n  maxLength: undefined,\n};\n","import {\n  SendEvents,\n  emitSocketEvent,\n} from '../SocketManager';\nimport { getDeviceId } from '../../StorageManager';\nimport store from '../../redux/store';\nimport { createNewUser, updateUsers } from '../../redux/actions/users';\n\nexport const createUser = async (params) => {\n  const paramsToSend = params;\n  paramsToSend.user.registerDevice = getDeviceId();\n\n  const result = await emitSocketEvent(SendEvents.USER, paramsToSend);\n\n  await store.dispatch(createNewUser(result));\n\n  return result;\n};\n\nexport const updateUser = async ({ userId, user }) => {\n  const result = await emitSocketEvent(SendEvents.UPDATEUSER, { userId, user });\n\n  await store.dispatch(updateUsers({ users: [result.user] }));\n\n  return result;\n};\n","import React, { useCallback, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from './Dialog/Dialog';\nimport { login } from '../../../socket/actions/auth';\nimport Select from '../sub-components/Select';\nimport Input from '../sub-components/Input/Input';\nimport Textarea from '../sub-components/Textarea';\nimport { getRequireOffName } from '../../../redux/selectors/config';\nimport Button from '../sub-components/Button/Button';\nimport { createUser } from '../../../socket/actions/users';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\n\nconst RegisterDialog = ({ id, index }) => {\n  const formMethods = useForm();\n  const [image, setImage] = useState();\n  const [error, setError] = useState();\n  const requireOffName = useSelector(getRequireOffName);\n\n  const onSubmit = async ({\n    offName,\n    username,\n    password,\n    repeatPassword,\n    pronouns,\n    description,\n  }) => {\n    if ((requireOffName && !offName) || !username || !password || !repeatPassword || !pronouns) {\n      return;\n    }\n\n    if (password !== repeatPassword) {\n      return;\n    }\n\n    const params = {\n      image,\n      user: {\n        offName,\n        username,\n        password,\n        pronouns,\n        description: description ? description.split('\\n') : undefined,\n      },\n    };\n\n    try {\n      await createUser(params);\n\n      // TODO If no auto-login, Notification: User registered\n\n      await login(username, password);\n\n      // TODO Notification: You are logged in as user\n\n      store.dispatch(removeWindow({ id }));\n    } catch (registerError) {\n      setError(registerError);\n    }\n  };\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGREGISTER } }] }));\n  }, [id]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onSubmitCall = useCallback(() => formMethods.handleSubmit(onSubmit)(), []);\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      error={error}\n      onClick={onClick}\n      done={onDone}\n      title=\"Register user\"\n      buttons={[\n        <Button\n          type=\"submit\"\n          onClick={onSubmitCall}\n        >\n          Register\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          {\n            requireOffName && (\n              <Input\n                required\n                name=\"offName\"\n                placeholder=\"Out-of-game name\"\n              />\n            )\n          }\n          <Input\n            required\n            name=\"username\"\n            placeholder=\"Username\"\n          />\n          <Select\n            multiple\n            required\n            name=\"pronouns\"\n          >\n            <option value=\"\">---Choose pronouns---</option>\n            <option value=\"they\">They/Them</option>\n            <option value=\"she\">She/Her</option>\n            <option value=\"he\">He/Him</option>\n            <option value=\"it\">It</option>\n          </Select>\n          <Input\n            required\n            name=\"password\"\n            placeholder=\"Password\"\n            type=\"password\"\n          />\n          <Input\n            required\n            shouldEqual=\"password\"\n            name=\"repeatPassword\"\n            placeholder=\"Repeat password\"\n            type=\"password\"\n          />\n          <Textarea\n            name=\"description\"\n            placeholder=\"Description\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(RegisterDialog);\n\nRegisterDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import {\n  SendEvents,\n  emitSocketEvent,\n} from '../SocketManager';\nimport store from '../../redux/store';\nimport { createNewAlias } from '../../redux/actions/aliases';\n\nexport const createAlias = async (params) => {\n  const result = await emitSocketEvent(SendEvents.ALIAS, params);\n\n  await store.dispatch(createNewAlias(result));\n\n  return result;\n};\n","import React, { useCallback, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from './Dialog/Dialog';\nimport Button from '../sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport Input from '../sub-components/Input/Input';\nimport Select from '../sub-components/Select';\nimport Textarea from '../sub-components/Textarea';\nimport { createAlias } from '../../../socket/actions/aliases';\n\nconst CreateAliasDialog = ({ id, index }) => {\n  const formMethods = useForm();\n  const [image, setImage] = useState();\n\n  const onSubmit = async ({\n    aliasName,\n    pronouns,\n    description,\n  }) => {\n    const params = {\n      image,\n      alias: {\n        aliasName,\n        pronouns,\n        description,\n      },\n    };\n\n    createAlias(params)\n      .then(() => store.dispatch(removeWindow({ id })))\n      .catch((error) => console.log(error));\n  };\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATEALIAS } }] }));\n  }, [id]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onSubmitCall = useCallback(() => formMethods.handleSubmit(onSubmit)(), []);\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      title=\"New alias\"\n      onClick={onClick}\n      done={onDone}\n      buttons={[\n        <Button\n          stopPropagation\n          type=\"submit\"\n          onClick={onSubmitCall}\n        >\n          Create\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <Input\n            required\n            name=\"aliasName\"\n            placeholder=\"Alias name\"\n          />\n          <Select\n            multiple\n            required\n            name=\"pronouns\"\n          >\n            <option value=\"\">---Choose pronouns---</option>\n            <option value=\"they\">They/Them</option>\n            <option value=\"she\">She/Her</option>\n            <option value=\"he\">He/Him</option>\n            <option value=\"it\">It</option>\n          </Select>\n          <Textarea\n            name=\"description\"\n            placeholder=\"Description\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateAliasDialog);\n\nCreateAliasDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import { emitSocketEvent, SendEvents } from '../SocketManager';\nimport store from '../../redux/store';\nimport { doTransaction } from '../../redux/actions/transactions';\nimport { getAliasId } from '../../redux/selectors/aliasId';\n\nexport const createTransaction = async ({ transaction }) => {\n  const transactionToCreate = {\n    ...transaction,\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n  };\n  const result = await emitSocketEvent(SendEvents.TRANSACTION, { transaction: transactionToCreate });\n\n  await store.dispatch(doTransaction(result));\n\n  return result;\n};\n","import React, { useCallback } from 'react';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\nimport { useSelector } from 'react-redux';\n\nimport Dialog from './Dialog/Dialog';\nimport Button from '../sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport Input from '../sub-components/Input/Input';\nimport Select from '../sub-components/Select';\nimport { createTransaction } from '../../../socket/actions/transactions';\nimport { getWalletIdsByCurrentUser } from '../../../redux/selectors/wallets';\nimport { getIdentitiesOrTeamsByIds, getIdentityOrTeamById } from '../../../redux/selectors/users';\nimport { getCurrentIdentityId } from '../../../redux/selectors/userId';\n\nconst CreateTransactionDialog = ({ id, toWalletId, index }) => {\n  const formMethods = useForm();\n  const identityId = useSelector(getCurrentIdentityId);\n  const walletIds = useSelector(getWalletIdsByCurrentUser);\n  const identities = useSelector((state) => getIdentitiesOrTeamsByIds(state, { ids: walletIds }));\n  const toIdentity = useSelector((state) => getIdentityOrTeamById(state, { id: toWalletId }));\n  const walletOptions = [];\n\n  const onSubmit = async ({\n    note,\n    amount,\n    fromWalletId,\n  }) => {\n    const transaction = {\n      note,\n      amount,\n      fromWalletId,\n      toWalletId,\n    };\n\n    createTransaction({ transaction })\n      .then(() => store.dispatch(removeWindow({ id })))\n      .catch((error) => console.log(error));\n  };\n\n  identities.forEach((identity) => {\n    walletOptions.push((\n      <option\n        key={identity.objectId}\n        value={identity.objectId}\n      >\n        {identity.teamName || identity.aliasName || identity.username}\n      </option>\n    ));\n  });\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATETRANSACTION, toWalletId } }] }));\n  }, [id, toWalletId]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onSubmitCall = useCallback(() => formMethods.handleSubmit(onSubmit)(), []);\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      title={`Transfer to ${toIdentity.teamName || toIdentity.aliasName || toIdentity.username}`}\n      onClick={onClick}\n      done={onDone}\n      buttons={[\n        <Button\n          stopPropagation\n          key=\"submit\"\n          type=\"submit\"\n          onClick={onSubmitCall}\n        >\n          Transfer\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <p>{`You are making a transfer to ${toIdentity.teamName || toIdentity.aliasName || toIdentity.username}`}</p>\n          <div>\n            <span>From your wallet: </span>\n            <Select\n              required\n              defaultValue={identityId}\n              name=\"fromWalletId\"\n            >\n              <option value=\"\">---Choose wallet---</option>\n              <>{walletOptions}</>\n            </Select>\n          </div>\n          <Input\n            required\n            name=\"amount\"\n            placeholder=\"Amount\"\n          />\n          <Input\n            name=\"note\"\n            placeholder=\"Note\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateTransactionDialog);\n\nCreateTransactionDialog.propTypes = {\n  id: string.isRequired,\n  toWalletId: string.isRequired,\n  index: number.isRequired,\n};\n","import createCachedSelector from 're-reselect';\n\nexport const getAllDocFiles = (state) => state.docFiles;\n\nexport const getDocFileById = (state, { id }) => state.docFiles.get(id);\n\nexport const getDocFileIdsNames = createCachedSelector(\n  [getAllDocFiles],\n  (docFiles) => [...docFiles.values()].map(({ objectId, title }) => ({ objectId, title })),\n)(() => 'docFile-ids-names');\n","import React from 'react';\nimport { func, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getDocFileById } from '../../../../../redux/selectors/docFiles';\n\nimport { ReactComponent as Lock } from '../../../../../icons/lock.svg';\n\nimport './DocFileItem.scss';\n\nconst DocFileItem = ({ docFileId, onChange }) => {\n  const docFile = useSelector((state) => getDocFileById(state, { id: docFileId }));\n\n  return (\n    <ListItem\n      stopPropagation\n      className=\"DocFileItem\"\n      key={docFile.objectId}\n      onClick={() => {\n        if (docFile.isLocked) {\n          console.log('locked');\n\n          return;\n        }\n\n        onChange(docFileId);\n      }}\n    >\n      {docFile.title}\n      {docFile.isLocked && (\n        <div className=\"lock\"><Lock /></div>\n      )}\n    </ListItem>\n  );\n};\n\nexport default React.memo(DocFileItem);\n\nDocFileItem.propTypes = {\n  docFileId: string.isRequired,\n  onChange: func.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func } from 'prop-types';\n\nimport List from '../../../common/lists/List/List';\nimport { getDocFileIdsNames } from '../../../../redux/selectors/docFiles';\nimport DocFileItem from './Item/DocFileItem';\n\nconst DocFileList = ({ onChange }) => {\n  const docFile = useSelector(getDocFileIdsNames);\n\n  const itemMapper = () => docFile\n    .sort((a, b) => {\n      const valueA = a.title.toLowerCase();\n      const valueB = b.title.toLowerCase();\n\n      if (valueA > valueB) {\n        return 1;\n      }\n\n      if (valueA < valueB) {\n        return -1;\n      }\n\n      return 0;\n    })\n    .map(({ objectId }) => <DocFileItem key={objectId} docFileId={objectId} onChange={onChange} />);\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      title=\"Documents\"\n    >\n      {itemMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(DocFileList);\n\nDocFileList.propTypes = {\n  onChange: func.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\nimport { getDocFileById } from '../../../redux/selectors/docFiles';\nimport { getIdentityOrTeamById } from '../../../redux/selectors/users';\n\nimport './DocFileViewer.scss';\n\nconst DocFileViewer = ({ docFileId }) => {\n  const docFile = useSelector((state) => getDocFileById(state, { id: docFileId }));\n  const identity = useSelector((state) => getIdentityOrTeamById(state, { id: docFile.ownerAliasId || docFile.ownerId }));\n\n  return (\n    <div className=\"DocFileViewer\">\n      <h1 className=\"title\">{docFile.title}</h1>\n      <div className=\"info\">\n        <p className=\"author\">{`Author: ${identity.teamName || identity.aliasName || identity.username}`}</p>\n        <p className=\"code\">{`Code: ${docFile.code}`}</p>\n        <p className=\"public\">{`Public: ${docFile.isPublic ? 'Yes' : 'No'}`}</p>\n      </div>\n      <div className=\"text\">{docFile.text.join('\\n')}</div>\n    </div>\n  );\n};\n\nexport default React.memo(DocFileViewer);\n\nDocFileViewer.propTypes = {\n  docFileId: string.isRequired,\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport Window from '../common/Window/Window';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\n\nimport './DocFile.scss';\nimport FileMenu from '../common/lists/FileMenu';\nimport ListItem from '../common/lists/List/Item/ListItem';\nimport DocFileList from './lists/DocFile/DocFileList';\nimport DocFileViewer from './Viewer/DocFileViewer';\nimport { getDocFileById } from '../../redux/selectors/docFiles';\n\nconst DocFile = ({ id, docFileId, index }) => {\n  const [currentDocFileId, setDocFileId] = useState();\n  const docFile = useSelector((state) => getDocFileById(state, { id: docFileId }));\n\n  useEffect(() => {\n    if (docFileId && currentDocFileId !== docFileId) {\n      setDocFileId(docFileId);\n    }\n  }, [docFileId]);\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DOCFILE } }] }));\n  }, []);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onChange = useCallback((newDocFileId) => setDocFileId(newDocFileId), []);\n\n  const onCreate = useCallback(() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCREATEDOCFILE, value: { type: WindowTypes.DIALOGCREATEDOCFILE } }] })));\n\n  return (\n    <Window\n      id={id}\n      index={index}\n      done={onDone}\n      className=\"DocFile\"\n      title={`${docFile ? `Document: ${docFile.title}` : 'Documents'}`}\n      onClick={onClick}\n      menu={(\n        <>\n          <FileMenu id={id}>\n            <ListItem\n              stopPropagation\n              onClick={onCreate}\n              key=\"createDocFile\"\n            >\n              New document\n            </ListItem>\n          </FileMenu>\n          <DocFileList onChange={onChange} />\n        </>\n      )}\n    >\n      {!currentDocFileId && (\n        <div />\n      )}\n      {currentDocFileId && (\n        <DocFileViewer key=\"viewer\" docFileId={currentDocFileId} />\n      )}\n    </Window>\n  );\n};\n\nexport default React.memo(DocFile);\n\nDocFile.propTypes = {\n  id: string.isRequired,\n  docFileId: string,\n  index: number.isRequired,\n};\n\nDocFile.defaultProps = {\n  docFileId: undefined,\n}\n","import {\n  SendEvents,\n  emitSocketEvent,\n} from '../SocketManager';\nimport store from '../../redux/store';\nimport { createDocFiles } from '../../redux/actions/docFiles';\nimport { getAliasId } from '../../redux/selectors/aliasId';\n\nexport const createDocFile = async ({ docFile, images }) => {\n  const docFileToCreate = {\n    ...docFile,\n    code: docFile.code !== '' ? docFile.code : undefined,\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n    text: docFile.text.split('\\n'),\n  };\n\n  const result = await emitSocketEvent(SendEvents.DOCFILE, { docFile: docFileToCreate, images });\n\n  await store.dispatch(createDocFiles({ docFiles: [result.docFile] }));\n\n  return result;\n};\n","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\nimport { createDocFile } from '../../../../socket/actions/docFiles';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../../redux/actions/windowOrder';\nimport Dialog from '../../../common/dialogs/Dialog/Dialog';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport Input from '../../../common/sub-components/Input/Input';\nimport IdentityPicker from '../../../common/lists/IdentityPicker/IdentityPicker';\nimport Textarea from '../../../common/sub-components/Textarea';\nimport Button from '../../../common/sub-components/Button/Button';\n\nimport './CreateDocFileDialog.scss';\n\nconst CreateDocFileDialog = ({ id, index }) => {\n  const formMethods = useForm();\n  const [image, setImage] = useState();\n\n  const onSubmit = async ({\n    title,\n    text,\n    code,\n    isPublic,\n  }) => {\n    const params = {\n      images: image ? [image] : undefined,\n      docFile: {\n        title,\n        text,\n        code,\n        isPublic,\n      },\n    };\n\n    createDocFile(params)\n      .then(() => store.dispatch(removeWindow({ id })))\n      .catch((error) => console.log(error));\n  };\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      className=\"CreateDocFileDialog\"\n      title=\"New document\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATEDOCFILE } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      buttons={[\n        <Button\n          stopPropagation\n          type=\"submit\"\n          onClick={() => formMethods.handleSubmit(onSubmit)()}\n        >\n          Create\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <div className=\"identity\">\n            <span>You are:</span>\n            <IdentityPicker />\n          </div>\n          <div className=\"public\">\n            <Input\n              type=\"checkbox\"\n              name=\"isPublic\"\n            />\n            <span>Do you want it to be available to the public? (A user with the right code can always access the document)</span>\n          </div>\n          <Input\n            required\n            maxLength={40}\n            name=\"title\"\n            placeholder=\"Title\"\n          />\n          <Input\n            name=\"code\"\n            placeholder=\"Code\"\n          />\n          <Textarea\n            required\n            maxLength={3500}\n            name=\"text\"\n            placeholder=\"Text\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateDocFileDialog);\n\nCreateDocFileDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 5,\n  y1: 12,\n  x2: 19,\n  y2: 12\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"12 5 19 12 12 19\"\n});\n\nvar SvgArrowRight = function SvgArrowRight(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-arrow-right\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowRight, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-right.ac022e1b.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { arrayOf, shape, string } from 'prop-types';\n\nimport store from '../../../../redux/store';\nimport { changeWindowOrder } from '../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport { ReactComponent as Arrow } from '../../../../icons/arrow-right.svg';\nimport ListItem from '../../../common/lists/List/Item/ListItem';\n\nimport './NewsItem.scss';\n\nconst NewsItem = ({ message }) => (\n  <ListItem\n    className=\"DashNewsItem\"\n    key={message.objectId}\n    onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.NEWS, value: { type: WindowTypes.NEWS, messageId: message.objectId } }] }))}\n  >\n    <p>\n      {message.text[0]}\n      <Arrow />\n    </p>\n  </ListItem>\n);\n\nexport default React.memo(NewsItem);\n\nNewsItem.propTypes = {\n  message: shape({\n    text: arrayOf(string),\n    objectId: string,\n  }).isRequired,\n};\n","import React from 'react';\n\nimport './Dashboard.scss';\nimport { useSelector } from 'react-redux';\nimport { getCurrentUser } from '../../../redux/selectors/users';\nimport { getWalletById } from '../../../redux/selectors/wallets';\nimport { getNews } from '../../../redux/selectors/messages';\nimport List from '../../common/lists/List/List';\nimport ListItem from '../../common/lists/List/Item/ListItem';\nimport { getTimestamp } from '../../../redux/selectors/config';\nimport store from '../../../redux/store';\nimport NewsItem from './Item/NewsItem';\n\nconst Dashboard = () => {\n  const user = useSelector(getCurrentUser);\n  const wallet = useSelector((state) => getWalletById(state, { id: user.objectId }));\n  const news = useSelector(getNews);\n\n  const newsMapper = () => {\n    if (!news || news.length === 0) {\n      return [<ListItem key=\"noNews\">There are no news.</ListItem>];\n    }\n\n    return [...news]\n      .sort((a, b) => {\n        const valueA = a.points;\n        const valueB = b.points;\n\n        if (valueA > valueB) {\n          return -1;\n        }\n\n        if (valueA < valueB) {\n          return 1;\n        }\n\n        return 0;\n      })\n      .slice(0, 5)\n      .map((message) => (\n        <NewsItem key={message.objectId} message={message} />\n      ));\n  };\n\n  return (\n    <div className=\"Dashboard\">\n      {user.isAnonymous && (\n        <>\n          <p>Welcome!</p>\n          <p>{getTimestamp(store.getState(), { date: new Date() }).fullDate}</p>\n          <List\n            alwaysExpanded\n            title=\"Top News\"\n            className=\"news\"\n          >\n            {newsMapper()}\n          </List>\n        </>\n      )}\n      {!user.isAnonymous && (\n        <>\n          <p>{`Welcome, ${user.username}!`}</p>\n          <p>{`Today's date is ${getTimestamp(store.getState(), { date: new Date() }).fullDate}`}</p>\n          {wallet && (\n            <p>{`You have ${wallet.amount} in your wallet.`}</p>\n          )}\n          <List\n            alwaysExpanded\n            title=\"News\"\n            className=\"news\"\n          >\n            {newsMapper()}\n          </List>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default React.memo(Dashboard);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"6 9 12 15 18 9\"\n});\n\nvar SvgChevronDown = function SvgChevronDown(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-chevron-down\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChevronDown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chevron-down.8eb39ce4.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"18 15 12 9 6 15\"\n});\n\nvar SvgChevronUp = function SvgChevronUp(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-chevron-up\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChevronUp, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chevron-up.a17a631c.svg\";\nexport { ForwardRef as ReactComponent };","import React, {\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  arrayOf, bool,\n  string,\n} from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport { getMessageById } from '../../../../../redux/selectors/messages';\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getTimestamp } from '../../../../../redux/selectors/config';\nimport store from '../../../../../redux/store';\nimport { getIdentityOrTeamById } from '../../../../../redux/selectors/users';\nimport Image from '../../../../common/sub-components/Image/Image';\n\nimport { ReactComponent as ChevronDown } from '../../../../../icons/chevron-down.svg';\nimport { ReactComponent as ChevronUp } from '../../../../../icons/chevron-up.svg';\n\nimport './NewsItem.scss';\n\nconst NewsItem = ({\n  messageId,\n  expand = false,\n  className = '',\n}) => {\n  const itemRef = useRef();\n  const [showText, setShowText] = useState(false);\n  const message = useSelector((state) => getMessageById(state, { id: messageId }));\n  const identity = useSelector((state) => getIdentityOrTeamById(state, { id: message.teamId || message.ownerAliasId || message.ownerId }));\n\n  useEffect(() => {\n    setShowText(expand);\n  }, [expand]);\n\n  return (\n    <ListItem\n      scrollTo={showText}\n      ref={itemRef}\n      elementId={`news-${messageId}`}\n      onClick={() => setShowText(!showText)}\n      className={`NewsItem ${showText ? 'expanded' : ''} ${className}`}\n    >\n      <div className=\"title\">\n        <p>{message.text[0]}</p>\n        <p className=\"info\">\n          <span>\n            {`${getTimestamp(store.getState(), { date: message.customTimeCreated || message.timeCreated }).halfDate} `}\n            {getTimestamp(store.getState(), { date: message.customTimeCreated || message.timeCreated }).halfTime}\n          </span>\n          <span>{` By: ${identity.teamName || identity.aliasName || identity.username}`}</span>\n          {!showText && <ChevronDown />}\n          {showText && <ChevronUp />}\n        </p>\n      </div>\n      {showText && (\n        <div className=\"newsContent\">\n          {message.image && message.image.thumbFileName && (\n            <Image\n              image={`/upload/images/${message.image.thumbFileName}`}\n              fullImage={`/upload/images/${message.image.fileName}`}\n              altText=\"pic\"\n              width={message.image.thumbWidth}\n              height={message.image.thumbHeight}\n              fullWidth={message.image.width}\n              fullHeight={message.image.height}\n            />\n          )}\n          <div className=\"text\">\n            {message.text.slice(1).map((line, index) => <p key={index}>{line}</p>)}\n          </div>\n        </div>\n      )}\n    </ListItem>\n  );\n};\n\nexport default React.memo(NewsItem);\n\nNewsItem.propTypes = {\n  className: string,\n  messageId: string.isRequired,\n  expand: bool,\n};\n\nNewsItem.defaultProps = {\n  className: '',\n  expand: false,\n};\n","import React, { useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport List from '../../../common/lists/List/List';\nimport { getNewsIdsPoints } from '../../../../redux/selectors/messages';\nimport NewsItem from './item/NewsItem';\n\nimport './NewsList.scss';\nimport ListItem from '../../../common/lists/List/Item/ListItem';\n\nconst NewsList = ({ messageId }) => {\n  const listRef = useRef(null);\n  const news = useSelector(getNewsIdsPoints);\n\n  const itemMapper = () => [...news]\n    .map((newsMessage) => (\n      <NewsItem\n        expand={newsMessage.objectId === messageId}\n        key={newsMessage.objectId}\n        messageId={newsMessage.objectId}\n      />\n    ));\n  const topMapper = () => [...news]\n    .filter((message) => message.points && message.points > 0)\n    .sort((a, b) => {\n      const valueA = a.points;\n      const valueB = b.points;\n\n      if (valueA > valueB) {\n        return -1;\n      }\n\n      if (valueA < valueB) {\n        return 1;\n      }\n\n      return 0;\n    })\n    .slice(0, 3)\n    .map((newsMessage) => (\n      <NewsItem\n        key={`top-${newsMessage.objectId}`}\n        messageId={newsMessage.objectId}\n        className=\"topNews\"\n      />\n    ));\n\n  return (\n    <List\n      observe=\"upper\"\n      ref={listRef}\n      className=\"NewsList\"\n    >\n      {news.length === 0 && (\n        [<ListItem key=\"noNews\"><p>There are no news</p></ListItem>]\n      )}\n      {topMapper().concat(itemMapper())}\n    </List>\n  );\n};\n\nexport default React.memo(NewsList);\n\nNewsList.propTypes = {\n  messageId: string,\n};\n\nNewsList.defaultProps = {\n  messageId: undefined,\n};\n","import React, { useCallback } from 'react';\nimport { number, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport Window from '../common/Window/Window';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\nimport NewsList from './lists/News/NewsList';\nimport FileMenu from '../common/lists/FileMenu';\nimport { getRoomById } from '../../redux/selectors/rooms';\nimport { getNewsRoomId } from '../../redux/selectors/config';\nimport ListItem from '../common/lists/List/Item/ListItem';\n\nimport './News.scss';\n\nconst News = ({ id, messageId, index }) => {\n  const newsRoom = useSelector((state) => getRoomById(state, { id: getNewsRoomId(state) }));\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.NEWS, messageId } }] }));\n  }, [messageId]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onCreateNews = useCallback(() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCREATENEWS, value: { type: WindowTypes.DIALOGCREATENEWS } }] })), []);\n\n  return (\n    <Window\n      id={id}\n      index={index}\n      done={onDone}\n      className=\"News\"\n      title=\"News\"\n      onClick={onClick}\n      menu={(\n        <>\n          {newsRoom && (\n            <FileMenu id={id}>\n              <ListItem\n                stopPropagation\n                key=\"createNews\"\n                onClick={onCreateNews}\n              >\n                New article\n              </ListItem>\n            </FileMenu>\n          )}\n        </>\n      )}\n    >\n      <NewsList messageId={messageId} />\n    </Window>\n  );\n};\n\nexport default React.memo(News);\n\nNews.propTypes = {\n  id: string.isRequired,\n  messageId: string,\n  index: number.isRequired,\n};\n\nNews.defaultProps = {\n  messageId: undefined,\n};\n","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch, useSelector } from 'react-redux';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport Input from '../../common/sub-components/Input/Input';\nimport Button from '../../common/sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport Textarea from '../../common/sub-components/Textarea';\nimport { sendNewsMessage } from '../../../socket/actions/messages';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport IdentityPicker from '../../common/lists/IdentityPicker/IdentityPicker';\nimport ImageUpload from '../../common/sub-components/ImageUpload/ImageUpload';\nimport { getWalletById } from '../../../redux/selectors/wallets';\nimport { getCurrentIdentityId } from '../../../redux/selectors/userId';\nimport { getNewsCost } from '../../../redux/selectors/config';\n\nconst CreateNewsDialog = ({ id, index }) => {\n  const newsCost = useSelector(getNewsCost);\n  const identityId = useSelector(getCurrentIdentityId);\n  const wallet = useSelector((state) => getWalletById(state, { id: identityId }));\n  const formMethods = useForm();\n  const [error, setError] = useState();\n\n  const onSubmit = ({\n    title,\n    text,\n    image,\n  }) => {\n    sendNewsMessage({ title, text, image })\n      .then(({ message }) => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.NEWS, value: { type: WindowTypes.NEWS, messageId: message.objectId } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((createError) => console.log(createError));\n  };\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      className=\"CreateNewsDialog\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATENEWS } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      error={error}\n      title=\"New article\"\n      buttons={[\n        <Button\n          key=\"submit\"\n          type=\"submit\"\n          onClick={() => formMethods.handleSubmit(onSubmit)()}\n        >\n          Create\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <div className=\"identity\">\n            <span>You are:</span>\n            <IdentityPicker />\n          </div>\n          <div>\n            <p>{`The article fee is: ${newsCost}`}</p>\n            <p>{`You have ${wallet.amount} in your wallet`}</p>\n          </div>\n          <Input\n            required\n            maxLength={200}\n            name=\"title\"\n            placeholder=\"Title\"\n          />\n          <ImageUpload />\n          <Textarea\n            required\n            maxLength={800}\n            name=\"text\"\n            placeholder=\"Text\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateNewsDialog);\n\nCreateNewsDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 3,\n  y: 11,\n  width: 18,\n  height: 11,\n  rx: 2,\n  ry: 2\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 11V7a5 5 0 0 1 9.9-1\"\n});\n\nvar SvgUnlock = function SvgUnlock(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-unlock\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUnlock, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/unlock.35f7faf1.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch, useSelector } from 'react-redux';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport Input from '../../common/sub-components/Input/Input';\nimport Button from '../../common/sub-components/Button/Button';\nimport { followRoom } from '../../../socket/actions/rooms';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport { getRoomById } from '../../../redux/selectors/rooms';\nimport { getCurrentUser } from '../../../redux/selectors/users';\nimport IdentityPicker from '../../common/lists/IdentityPicker/IdentityPicker';\nimport { hasAccessTo } from '../../../AccessCentral';\n\nimport { ReactComponent as Unlock } from '../../../icons/unlock.svg';\n\nconst JoinRoomDialog = ({ roomId, id, index }) => {\n  const [error, setError] = useState();\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n  const user = useSelector(getCurrentUser);\n  const methods = useForm();\n\n  const { hasAccess } = hasAccessTo({\n    objectToAccess: room,\n    toAuth: user,\n  });\n\n  const onSubmit = ({\n    password,\n  } = {}) => {\n    followRoom({ roomId, password })\n      .then(() => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT, roomId } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((followError) => {\n        const newError = {\n          ...followError,\n        };\n\n        console.log(followError);\n\n        if (followError.type === 'not allowed') {\n          newError.message = 'Incorrect password';\n        }\n\n        setError(newError);\n      });\n  };\n\n  return (\n    <Dialog\n      id={id}\n      error={error}\n      index={index}\n      className=\"JoinRoomDialog\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGJOINROOM, roomId } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      title={!hasAccess ? `Unlock room ${room.roomName}` : `Join room ${room.roomName}`}\n      buttons={[\n        <Button\n          stopPropagation\n          type=\"submit\"\n          onClick={() => methods.handleSubmit(onSubmit)()}\n        >\n          {!hasAccess && (\n            <Unlock />\n          )}\n          <span>{!hasAccess ? 'Unlock' : 'Join'}</span>\n        </Button>,\n      ]}\n    >\n      <FormProvider {...methods}>\n        <form onSubmit={methods.handleSubmit(onSubmit)}>\n          <div className=\"identity\">\n            <span>You are: </span>\n            <IdentityPicker />\n          </div>\n          <div>\n            {hasAccess && (\n              <p>{`Do you want to join room ${room.roomName}?`}</p>\n            )}\n            {hasAccess && room.topic && (\n              <p>{`Topic: ${room.topic}`}</p>\n            )}\n            {!hasAccess && (\n              <>\n                <p>The room is locked.</p>\n                <p>Enter the password to continue:</p>\n              </>\n            )}\n          </div>\n          {!hasAccess && (\n            <Input\n              required={!hasAccess}\n              minLength={4}\n              maxLength={100}\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n          )}\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(JoinRoomDialog);\n\nJoinRoomDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n  roomId: string.isRequired,\n};\n","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { number, string } from 'prop-types';\nimport { FormProvider, useForm } from 'react-hook-form';\n\nimport Dialog from '../Dialog/Dialog';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport { getCurrentUser } from '../../../../redux/selectors/users';\nimport Input from '../../sub-components/Input/Input';\nimport { updateUser } from '../../../../socket/actions/users';\nimport Button from '../../sub-components/Button/Button';\nimport Select from '../../sub-components/Select';\n\nimport './ConfigSystemDialog.scss';\n\nconst ConfigSystemDialog = ({ id, index }) => {\n  const formMethods = useForm();\n  const currentUser = useSelector(getCurrentUser);\n  const { systemConfig = {} } = currentUser;\n\n  const onSubmit = ({\n    hideHelp,\n    hideTopBar,\n    alwaysMaximized,\n    hideMenuBar,\n    openApp,\n  }) => {\n    updateUser({\n      userId: currentUser.objectId,\n      user: {\n        systemConfig: {\n          ...systemConfig,\n          hideHelp,\n          hideTopBar,\n          alwaysMaximized,\n          hideMenuBar,\n          openApp,\n        },\n      },\n    })\n      .then(() => store.dispatch(removeWindow({ id })))\n      .catch((error) => console.log(error));\n  };\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCONFIGSYSTEM } }] }));\n  }, [id]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onSubmitCall = useCallback(() => formMethods.handleSubmit(onSubmit)(), []);\n\n  return (\n    <Dialog\n      className=\"ConfigSystemDialog\"\n      id={id}\n      index={index}\n      title={`System config: ${currentUser.username}`}\n      onClick={onClick}\n      done={onDone}\n      buttons={[\n        <Button\n          stopPropagation\n          key=\"submit\"\n          onClick={onSubmitCall}\n          type=\"submit\"\n        >\n          Update\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <div>\n            <span>Auto-open app?</span>\n            <Select\n              defaultValue={systemConfig.openApp}\n              name=\"openApp\"\n            >\n              <option value=\"\">---No app---</option>\n              <option value={WindowTypes.CHAT}>Chat</option>\n              <option value={WindowTypes.WALLET}>Wallet</option>\n              <option value={WindowTypes.WORLDMAP}>Map</option>\n              <option value={WindowTypes.DOCFILE}>Files</option>\n              <option value={WindowTypes.NEWS}>News</option>\n            </Select>\n          </div>\n          <div>\n            <span>Hide help buttons?</span>\n            <Input type=\"checkbox\" name=\"hideHelp\" checked={systemConfig.hideHelp} />\n          </div>\n          <div>\n            <span>Hide top row in windows? (Windows will be auto-maximized. You can close and change settings on a window under File)?</span>\n            <Input type=\"checkbox\" name=\"hideTopBar\" checked={systemConfig.hideTopBar} />\n          </div>\n          <div>\n            <span>Automatically maximize windows?</span>\n            <Input type=\"checkbox\" name=\"alwaysMaximized\" checked={systemConfig.alwaysMaximized} />\n          </div>\n          <div>\n            <span>Minimize main menu?</span>\n            <Input type=\"checkbox\" name=\"hideMenuBar\" checked={systemConfig.hideMenuBar} />\n          </div>\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(ConfigSystemDialog);\n\nConfigSystemDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport Wallet from '../Wallet/Wallet';\nimport WorldMap from '../WorldMap/WorldMap';\nimport Chat from '../Chat/Chat';\nimport { getOrder } from '../../redux/selectors/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\nimport IdentityDialog from '../common/dialogs/IdentityDialog';\nimport CreateRoomDialog from '../Chat/dialogs/CreateRoomDialog';\nimport RemoveRoomDialog from '../Chat/dialogs/RemoveRoomDialog';\nimport LoginDialog from '../common/dialogs/LoginDialog';\nimport RegisterDialog from '../common/dialogs/RegisterDialog';\nimport CreateAliasDialog from '../common/dialogs/CreateAliasDialog';\nimport CreateTransactionDialog from '../common/dialogs/CreateTransactionDialog';\nimport DocFile from '../DocFile/DocFile';\nimport CreateDocFileDialog from '../DocFile/dialogs/CreateDocFile/CreateDocFileDialog';\nimport Dashboard from './Dashboard/Dashboard';\nimport News from '../News/News';\nimport CreateNewsDialog from '../News/dialogs/CreateNewsDialog';\nimport JoinRoomDialog from '../Chat/dialogs/JoinRoomDialog';\nimport ConfigSystemDialog from '../common/dialogs/ConfigSystem/ConfigSystemDialog';\nimport { getCurrentUser } from '../../redux/selectors/users';\n\nimport './MainWindow.scss';\nimport store from '../../redux/store';\nimport { changeWindowOrder } from '../../redux/actions/windowOrder';\n\nconst MainWindow = () => {\n  const { systemConfig = {} } = useSelector(getCurrentUser);\n  const order = useSelector(getOrder);\n  const windows = [];\n\n  useEffect(() => {\n    if (systemConfig.openApp) {\n      store.dispatch(changeWindowOrder({ windows: [{ id: systemConfig.openApp, value: { type: systemConfig.openApp } }] }));\n    }\n  }, [systemConfig.openApp]);\n\n  order.forEach((value, key) => {\n    const { type } = value;\n\n    if (type === WindowTypes.CHAT) {\n      windows.push(<Chat key={key} id={key} roomId={value.roomId} index={value.index} />);\n    } else if (type === WindowTypes.WALLET) {\n      windows.push(<Wallet key={key} id={key} index={value.index} />);\n    } else if (type === WindowTypes.WORLDMAP) {\n      windows.push(<WorldMap key={key} id={key} index={value.index} />);\n    } else if (type === WindowTypes.DOCFILE) {\n      windows.push(<DocFile key={key} id={key} docFileId={value.docFileId} index={value.index} />);\n    } else if (type === WindowTypes.NEWS) {\n      windows.push(<News key={key} id={key} messageId={value.messageId} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGIDENTITY) {\n      windows.push(<IdentityDialog key={key} id={key} identityId={value.identityId} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGCREATEROOM) {\n      windows.push(<CreateRoomDialog key={key} id={key} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGLOGIN) {\n      windows.push(<LoginDialog key={key} id={key} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGREGISTER) {\n      windows.push(<RegisterDialog key={key} id={key} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGREMOVEROOM) {\n      windows.push(<RemoveRoomDialog key={key} id={key} roomId={value.roomId} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGCREATEALIAS) {\n      windows.push(<CreateAliasDialog key={key} id={key} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGCREATETRANSACTION) {\n      windows.push(<CreateTransactionDialog key={key} id={key} toWalletId={value.toWalletId} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGCREATEDOCFILE) {\n      windows.push(<CreateDocFileDialog key={key} id={key} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGCREATENEWS) {\n      windows.push(<CreateNewsDialog key={key} id={key} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGJOINROOM) {\n      windows.push(<JoinRoomDialog key={key} id={key} roomId={value.roomId} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGCONFIGSYSTEM) {\n      windows.push(<ConfigSystemDialog key={key} id={key} index={value.index} />);\n    }\n  });\n\n  return (\n    <div\n      key=\"mainWindow\"\n      id=\"MainWindow\"\n    >\n      <Dashboard />\n      {windows}\n    </div>\n  );\n};\n\nexport default React.memo(MainWindow);\n","import React from 'react';\n\nimport MenuBar from './library/components/MenuBar/MenuBar';\nimport DataHandler from './library/components/DataHandler';\nimport MainWindow from './library/components/MainWindow/MainWindow';\n\nfunction App() {\n  return (\n    <>\n      <React.StrictMode>\n        <DataHandler />\n        <MenuBar />\n        <MainWindow />\n      </React.StrictMode>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { polyfill } from 'seamless-scroll-polyfill';\n\nimport App from './App';\nimport store from './library/redux/store';\n\nimport './index.scss';\n\nconst ElementQueries = require('css-element-queries');\n\npolyfill();\nElementQueries.ElementQueries.listen();\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}